<!DOCTYPE html>
<html lang="ko">

<head>
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <!-- Version: v1771922054 -->

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ï£ºÏãù Î∂ÑÏÑù ÌÜµÌï© Î¶¨Ìè¨Ìä∏ Î∑∞Ïñ¥</title>

    <!-- PWA ÏÑ§Ï†ï -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#667eea">
    <meta name="mobile-web-app-capable" content="yes">

    <!-- iOS Safari Ìôà ÌôîÎ©¥ Ï∂îÍ∞Ä ÏßÄÏõê -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="InvestFlow">
    <link rel="apple-touch-icon" href="icons/apple-touch-icon.png">
    <style>
        :root {
            /* Ïª¨Îü¨ ÏãúÏä§ÌÖú */
            --primary: #667eea;
            --primary-dark: #5a67d8;
            --secondary: #764ba2;
            --accent: #ff4757;
            --success: #28a745;
            --bg-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --light-bg: #f8f9fa;
            --card-bg: #ffffff;

            /* ÌÖçÏä§Ìä∏ Ïª¨Îü¨ */
            --text-main: #2d3748;
            --text-muted: #718096;
            --text-light: #ffffff;

            /* Í∞ÑÍ≤© Î∞è Îë•Í∏ÄÍ∏∞ */
            --radius-main: 15px;
            --radius-small: 8px;
            --spacing-main: 30px;
            --spacing-mobile: 15px;

            /* Í∑∏Î¶ºÏûê */
            --shadow-main: 0 4px 15px rgba(0, 0, 0, 0.1);
            --shadow-float: 0 10px 25px rgba(0, 0, 0, 0.15);
            --shadow-deep: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', sans-serif;
            background: var(--bg-gradient);
            min-height: 100vh;
            padding: 20px;
            color: var(--text-main);
            line-height: 1.6;
        }

        /* Í≥µÌÜµ Ïπ¥Îìú Ïä§ÌÉÄÏùº */
        .card {
            background: var(--card-bg);
            border-radius: var(--radius-small);
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--shadow-main);
            border-left: 5px solid var(--primary);
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-float);
        }

        .container {
            width: 100%;
            max-width: 100%;
            margin: 0;
            background: white;
            border-radius: var(--radius-main);
            box-shadow: var(--shadow-deep);
            overflow: hidden;
        }

        /* Ìó§Îçî Ïä§ÌÉÄÏùº ÏµúÏ†ÅÌôî */
        .header {
            background: var(--bg-gradient);
            color: white;
            padding: 40px 30px;
            text-align: center;
            position: relative;
        }

        .header h1 {
            font-size: 2.2em;
            margin-bottom: 10px;
            font-weight: 800;
            letter-spacing: -0.02em;
        }

        .header p {
            opacity: 0.9;
            font-size: 1.1em;
            font-weight: 400;
        }

        .logout-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.4);
            color: white;
            border-radius: var(--radius-small);
            cursor: pointer;
            font-size: 0.85em;
            transition: all 0.3s;
            backdrop-filter: blur(5px);
        }

        .logout-btn:hover {
            background: white;
            color: var(--primary);
        }

        /* PWA ÏÑ§Ïπò Î≤ÑÌäº */
        #pwaInstallBtn {
            display: none;
            position: absolute;
            top: 20px;
            left: 20px;
            align-items: center;
            gap: 6px;
            padding: 7px 14px;
            background: rgba(255,255,255,0.15);
            border: 1px solid rgba(255,255,255,0.45);
            color: white;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.82em;
            font-weight: 600;
            transition: all 0.25s;
            backdrop-filter: blur(6px);
            white-space: nowrap;
            z-index: 10;
        }
        #pwaInstallBtn:hover {
            background: white;
            color: var(--primary);
        }

        /* Î∞©Î¨∏Ïûê Ïπ¥Ïö¥ÌÑ∞ */
        #visitorCounter {
            position: absolute;
            top: 20px;
            right: 20px;
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            gap: 2px;
            font-size: 0.72em;
            color: rgba(255,255,255,0.8);
            line-height: 1.4;
            z-index: 10;
        }
        #visitorCounter .vc-row {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        #visitorCounter .vc-label {
            opacity: 0.7;
            font-size: 0.85em;
        }
        #visitorCounter .vc-num {
            font-weight: 700;
            font-size: 1.05em;
            color: #fff;
        }

        /* Î†àÏù¥ÏïÑÏõÉ ÏãúÏä§ÌÖú */
        .grid-dashboard {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            padding: 20px;
            width: 100%;
        }

        .section-title {
            font-size: 1.25em;
            color: var(--text-main);
            margin-bottom: 20px;
            padding-left: 10px;
            border-left: 4px solid var(--primary);
            font-weight: 700;
        }

        .controls {
            padding: 30px;
            background: var(--light-bg);
            border-top: 1px solid #edf2f7;
        }

        .category-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }

        /* 2Îã® Î¶¨Ìè¨Ìä∏ Î†àÏù¥ÏïÑÏõÉ Ï†ÑÏö© Ïä§ÌÉÄÏùº */
        .grid-top-row {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 20px;
        }

        .grid-bottom-row {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
        }

        @media (max-width: 1200px) {

            .grid-top-row,
            .grid-bottom-row {
                grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            }
        }

        .category-section {
            margin-bottom: 0px;
            /* Í∑∏Î¶¨Îìú Í∞≠ÏúºÎ°ú ÎåÄÏ≤¥ */
            padding: 24px;
            background: white;
            border-radius: var(--radius-small);
            box-shadow: var(--shadow-main);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid #edf2f7;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .category-section:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-float);
            border-color: var(--primary);
        }

        .category-section.featured {
            border: 2px solid var(--primary);
            background: linear-gradient(180deg, #f8f9ff 0%, #ffffff 100%);
        }

        .category-section.news {
            border: 2px solid var(--success);
            background: linear-gradient(180deg, #f0fff4 0%, #ffffff 100%);
        }

        .category-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .category-icon {
            font-size: 2.2em;
            background: #f1f5f9;
            padding: 10px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .category-title h3 {
            color: var(--primary-dark);
            font-size: 1.2em;
            margin-bottom: 4px;
            font-weight: 700;
        }

        .category-title p {
            color: var(--text-muted);
            font-size: 0.85em;
        }

        .selector-row {
            display: flex;
            gap: 12px;
            align-items: center;
            flex-wrap: wrap;
            width: 100%;
        }

        .selector-row select {
            flex: 1;
            min-width: 150px;
            padding: 12px 16px;
            border: 1.5px solid #e2e8f0;
            border-radius: var(--radius-small);
            font-size: 0.95em;
            background: #fff;
            cursor: pointer;
            transition: all 0.2s;
            color: var(--text-main);
        }

        .selector-row select:hover {
            border-color: var(--primary);
        }

        .btn-load {
            padding: 12px 24px;
            background: var(--bg-gradient);
            color: white;
            border: none;
            border-radius: var(--radius-small);
            font-size: 0.95em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 4px 6px rgba(102, 126, 234, 0.2);
        }

        .btn-load:hover {
            filter: brightness(1.1);
            transform: scale(1.02);
            box-shadow: 0 6px 12px rgba(102, 126, 234, 0.3);
        }

        /* Ïú†Ìã∏Î¶¨Ìã∞ ÌÅ¥ÎûòÏä§ Ï∂îÍ∞Ä */
        .btn-sm {
            cursor: pointer;
            font-size: 11px;
            padding: 4px 10px;
            border-radius: var(--radius-small);
            border: 1px solid #e2e8f0;
            background: #fff;
            transition: all 0.2s;
            color: var(--text-main);
            font-weight: 600;
        }

        .btn-sm:hover {
            border-color: var(--primary);
            color: var(--primary);
            background: #f8faff;
        }

        .quote-label {
            font-size: 0.85em;
            color: var(--text-muted);
            margin-bottom: 12px;
            font-weight: 700;
        }

        .sentiment-inner {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .quote-item {
            background: #f8fafc;
            padding: 15px;
            border-radius: var(--radius-small);
            border: 1px solid #edf2f7;
        }

        /* PDF Î∞è Í≤ÄÏÉâ ÏÑπÏÖò */
        .pdf-viewer {
            padding: 20px;
            min-height: 800px;
            background: #f8fafc;
            border-top: 1px solid #edf2f7;
        }

        .pdf-container {
            width: 100%;
            height: 1800px;
            border: 2px solid #e2e8f0;
            border-radius: var(--radius-small);
            overflow: hidden;
            background: #f8f9fa;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .pdf-container iframe {
            width: 100%;
            height: 100%;
            border: none;
        }

        /* Îâ¥Ïä§ & ÏÑπÌÑ∞ Î≥ëÎ†¨ Î†àÏù¥ÏïÑÏõÉ */
        .news-sector-row {
            display: grid;
            grid-template-columns: 1fr 1.2fr;
            gap: 20px;
            padding: 0 20px;
            margin-bottom: 20px;
        }

        @media (max-width: 1024px) {
            .news-sector-row {
                grid-template-columns: 1fr;
            }
        }

        /* ‚îÄ‚îÄ Ïã§ÏãúÍ∞Ñ Í∏àÏúµ Îâ¥Ïä§ Í≤ÄÏÉâ ‚îÄ‚îÄ */
        .news-search-wrap {
            background: #fff;
            padding: 24px;
            margin: 20px 0;
            border-radius: var(--radius-small);
            box-shadow: var(--shadow-main);
            border-left: 5px solid #f59e0b;
        }
        .news-search-wrap h3 {
            color: var(--primary-dark);
            margin-bottom: 14px;
            font-size: 1.2em;
            font-weight: 700;
        }
        .news-search-bar { display: flex; gap: 10px; margin-bottom: 6px; }
        .news-search-bar input {
            flex: 1; padding: 12px 16px;
            border: 2px solid #e2e8f0; border-radius: var(--radius-small);
            font-size: 1em; transition: all 0.2s; background: #f8fafc;
        }
        .news-search-bar input:focus {
            outline: none; border-color: #f59e0b; background: #fff;
            box-shadow: 0 0 0 3px rgba(245,158,11,0.12);
        }
        .news-search-bar button {
            padding: 12px 24px;
            background: linear-gradient(135deg, #f59e0b, #d97706);
            color: #fff; border: none; border-radius: var(--radius-small);
            font-weight: 600; font-size: 0.95em; cursor: pointer;
            transition: all 0.2s; white-space: nowrap;
        }
        .news-search-bar button:hover { opacity: 0.88; transform: translateY(-1px); }
        .news-search-hint { font-size: 0.78em; color: #94a3b8; margin-bottom: 14px; }
        /* 2-Ïª¨Îüº Í≤∞Í≥º Î†àÏù¥ÏïÑÏõÉ */
        .ns-columns {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
            margin-top: 14px;
        }
        .ns-col-header {
            font-size: 0.9em; font-weight: 700; color: var(--primary-dark);
            padding-bottom: 8px; margin-bottom: 10px;
            border-bottom: 2px solid #e2e8f0;
            display: flex; align-items: center; gap: 6px;
        }
        .ns-trans-badge {
            font-size: 0.72em; font-weight: 600;
            background: #eff6ff; color: #3b82f6;
            padding: 2px 7px; border-radius: 10px;
            border: 1px solid #bfdbfe;
        }
        .ns-col-src { font-size: 0.72em; color: #94a3b8; margin-top: 6px; }
        /* Ïä§ÏºàÎ†àÌÜ§ */
        @keyframes ns-shimmer {
            0%   { background-position: -400px 0; }
            100% { background-position:  400px 0; }
        }
        .ns-skeleton {
            background: linear-gradient(90deg, #f0f4f8 25%, #e2e8f0 50%, #f0f4f8 75%);
            background-size: 400px 100%;
            animation: ns-shimmer 1.3s infinite linear;
            border-radius: 6px; margin-bottom: 10px; height: 66px;
        }
        /* Í≤∞Í≥º Ïπ¥Îìú */
        .ns-card {
            display: flex; flex-direction: column; gap: 4px;
            padding: 11px 14px; border: 1px solid #e2e8f0;
            border-radius: 8px; margin-bottom: 9px;
            text-decoration: none; color: inherit;
            transition: all 0.18s; background: #fafbff;
        }
        .ns-card.kor { border-left: 4px solid #3b82f6; }
        .ns-card.eng { border-left: 4px solid #f59e0b; }
        .ns-card.kor:hover { background: #eff6ff; transform: translateX(2px); box-shadow: 0 2px 8px rgba(59,130,246,0.12); }
        .ns-card.eng:hover { background: #fff7ed; transform: translateX(2px); box-shadow: 0 2px 8px rgba(245,158,11,0.12); }
        .ns-title  { font-size: 0.9em; font-weight: 700; color: #1e293b; line-height: 1.45; }
        .ns-meta   { font-size: 0.73em; color: #64748b; display: flex; gap: 8px; flex-wrap: wrap; }
        .ns-source-kor { color: #3b82f6; font-weight: 600; }
        .ns-source-eng { color: #f59e0b; font-weight: 600; }
        .ns-desc   { font-size: 0.78em; color: #475569; line-height: 1.55; margin-top: 3px; }
        .ns-empty  { color: #94a3b8; font-size: 0.85em; padding: 14px 0; text-align: center; }
        .ns-api-note { font-size: 0.73em; color: #94a3b8; margin-top: 12px; padding-top: 10px; border-top: 1px solid #f1f5f9; }
        @media (max-width: 680px) {
            .ns-columns { grid-template-columns: 1fr; }
            .news-search-bar { flex-direction: column; }
            .news-search-bar button { width: 100%; }
        }

        /* ‚îÄ‚îÄ Ï£ºÏöî Í≤ΩÏ†úÏßÄÌëú ÎåÄÏãúÎ≥¥Îìú ‚îÄ‚îÄ */
        .econ-wrap { background:var(--card-bg); border-radius:var(--radius-main); padding:22px 24px; margin-bottom:20px; box-shadow:var(--shadow-main); }
        .econ-hdr  { display:flex; align-items:center; justify-content:space-between; margin-bottom:14px; }
        .econ-hdr h3 { font-size:1.02rem; font-weight:700; color:var(--primary-dark); margin:0; display:flex; align-items:center; gap:8px; }
        .econ-updated { font-size:0.7em; color:#94a3b8; }
        .econ-grid { display:grid; grid-template-columns:repeat(4,1fr); gap:10px; }
        .econ-card { background:#f8faff; border:1px solid #e2e8f0; border-radius:10px; padding:12px 14px 10px; cursor:pointer; transition:all 0.18s; }
        .econ-card:hover { transform:translateY(-2px); box-shadow:0 4px 16px rgba(0,0,0,0.09); border-color:#93c5fd; background:#eff6ff; }
        .econ-card-hd { display:flex; justify-content:space-between; align-items:center; margin-bottom:2px; }
        .econ-card-lbl { font-size:0.67em; color:#64748b; font-weight:600; text-transform:uppercase; letter-spacing:0.04em; }
        .econ-card-ico { font-size:1.05em; }
        .econ-card-val { font-size:1.26em; font-weight:800; color:#0f172a; line-height:1.1; margin:3px 0; }
        .econ-card-chg { font-size:0.7em; font-weight:600; }
        .econ-card-chg.pos { color:#16a34a; } .econ-card-chg.neg { color:#dc2626; } .econ-card-chg.neu { color:#94a3b8; }
        .econ-card-frq { font-size:0.61em; color:#cbd5e1; margin-top:3px; }
        .econ-sparksvg { display:block; width:100%; height:32px; margin-top:6px; overflow:visible; }
        /* Î™®Îã¨ */
        .econ-overlay { display:none; position:fixed; inset:0; background:rgba(0,0,0,0.6); z-index:9000; align-items:center; justify-content:center; }
        .econ-overlay.open { display:flex; }
        .econ-modal { background:#fff; border-radius:16px; padding:26px 28px; width:min(720px,94vw); max-height:88vh; overflow-y:auto; box-shadow:0 24px 64px rgba(0,0,0,0.25); }
        .econ-modal-hdr { display:flex; align-items:center; justify-content:space-between; margin-bottom:18px; }
        .econ-modal-hdr h2 { font-size:1.1rem; font-weight:700; color:#1e293b; margin:0; }
        .econ-modal-close { background:#f1f5f9; border:none; border-radius:50%; width:30px; height:30px; font-size:0.9rem; cursor:pointer; display:flex; align-items:center; justify-content:center; }
        .econ-modal-close:hover { background:#e2e8f0; }
        .econ-chart-wrap { height:260px; position:relative; margin-bottom:16px; }
        .econ-modal-note { font-size:0.7em; color:#94a3b8; margin-top:6px; text-align:right; }
        .econ-stats { display:grid; grid-template-columns:repeat(4,1fr); gap:8px; margin-top:14px; }
        .econ-stat { background:#f8faff; border:1px solid #e2e8f0; border-radius:8px; padding:10px 12px; text-align:center; }
        .econ-stat-lbl { font-size:0.65em; color:#94a3b8; text-transform:uppercase; }
        .econ-stat-val { font-size:1em; font-weight:700; color:#1e293b; margin-top:3px; }
        @media (max-width:920px) { .econ-grid { grid-template-columns:repeat(3,1fr); } }
        @media (max-width:620px) { .econ-grid { grid-template-columns:repeat(2,1fr); } }
        @media (max-width:400px) { .econ-stats { grid-template-columns:repeat(2,1fr); } }
        /* ‚îÄ‚îÄ vol-macro ÏïÑÏΩîÎîîÏñ∏ ‚îÄ‚îÄ */
        .vol-macro-header { cursor:pointer; user-select:none; }
        .vol-macro-body { overflow:hidden; transition:max-height 0.38s cubic-bezier(0.4,0,0.2,1), opacity 0.28s ease; }
        .vol-macro-body.vm-open   { max-height:2000px; opacity:1; }
        .vol-macro-body.vm-closed { max-height:0; opacity:0; pointer-events:none; margin:0; }
        .vol-acc-btn { background:rgba(255,255,255,0.08); border:1px solid rgba(255,255,255,0.13); color:#94a3b8; font-size:0.69rem; padding:3px 11px; border-radius:6px; cursor:pointer; transition:all 0.2s; white-space:nowrap; line-height:1.5; }
        .vol-acc-btn:hover { background:rgba(255,255,255,0.16); color:#e2e8f0; }
        /* ‚îÄ‚îÄ ÏßÄÌëú Ïπ¥Îìú ÌïòÎã® Ï†ïÎ≥¥ ‚îÄ‚îÄ */
        .econ-card-info { margin-top:7px; padding-top:7px; border-top:1px solid #e8eef8; }
        .econ-card-st   { display:flex; align-items:center; gap:5px; margin-bottom:3px; }
        .econ-sdot      { width:8px; height:8px; border-radius:50%; flex-shrink:0; }
        .econ-sdot.bull    { background:#22c55e; box-shadow:0 0 0 2px rgba(34,197,94,0.2); }
        .econ-sdot.neutral { background:#f59e0b; box-shadow:0 0 0 2px rgba(245,158,11,0.2); }
        .econ-sdot.bear    { background:#ef4444; box-shadow:0 0 0 2px rgba(239,68,68,0.2);  }
        .econ-stxt.bull    { font-size:0.68em; font-weight:700; color:#16a34a; }
        .econ-stxt.neutral { font-size:0.68em; font-weight:700; color:#d97706; }
        .econ-stxt.bear    { font-size:0.68em; font-weight:700; color:#dc2626; }
        .econ-card-def  { font-size:0.62em; color:#94a3b8; margin-left:auto; }
        .econ-card-sum  { font-size:0.67em; color:#334155; line-height:1.45; margin:3px 0 2px; display:-webkit-box; -webkit-line-clamp:2; line-clamp:2; -webkit-box-orient:vertical; overflow:hidden; }
        .econ-card-thr  { font-size:0.61em; color:#94a3b8; line-height:1.4; }
        /* Í≤ΩÏ†ú Î∂ÑÏÑù ÏöîÏïΩ */
        .econ-analysis { margin-top:16px; padding:16px 18px; border-radius:10px; border:1px solid #bfdbfe; background:linear-gradient(135deg,#eff6ff 0%,#f0fdf4 100%); }
        .econ-ana-hdr  { display:flex; justify-content:space-between; align-items:center; margin-bottom:10px; flex-wrap:wrap; gap:6px; }
        .econ-ana-badge { font-size:0.72rem; font-weight:700; padding:2px 10px; border-radius:20px; color:#fff; }
        .econ-ana-date  { font-size:0.70rem; color:#94a3b8; }
        .econ-ana-sum   { font-size:0.94rem; font-weight:700; color:#1e293b; line-height:1.55; margin-bottom:8px; }
        .econ-ana-det   { font-size:0.83rem; color:#475569; line-height:1.7; margin:0; }

        .earnings-search {
            background: #fff;
            padding: 24px;
            margin: 20px 0;
            border-radius: var(--radius-small);
            box-shadow: var(--shadow-main);
            border-left: 5px solid var(--primary);
        }

        .earnings-search h3 {
            color: var(--primary-dark);
            margin-bottom: 15px;
            font-size: 1.2em;
            font-weight: 700;
        }

        .search-box {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .search-input {
            flex: 1;
            padding: 12px 16px;
            border: 2px solid #e2e8f0;
            border-radius: var(--radius-small);
            font-size: 1em;
            transition: all 0.2s;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .search-btn {
            padding: 12px 24px;
            background: var(--bg-gradient);
            color: #fff;
            border: none;
            border-radius: var(--radius-small);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .search-result {
            padding: 15px;
            background: #f8fafc;
            border-radius: var(--radius-small);
            border-left: 4px solid var(--primary);
            font-size: 0.95em;
            line-height: 1.6;
        }

        /* ‚îÄ‚îÄ Í≤∞Í≥º topbar (ÏµúÏÜåÌôî + Îã´Í∏∞ Î≤ÑÌäº) ‚îÄ‚îÄ */
        .result-topbar {
            display: flex; align-items: center; justify-content: space-between;
            margin-bottom: 10px; padding-bottom: 8px;
            border-bottom: 1px solid #e8eef8;
        }
        .result-topbar-label {
            font-size: 0.82em; color: #64748b; font-weight: 600;
            flex: 1; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
            padding-right: 8px;
        }
        .result-action-btns { display: flex; gap: 7px; align-items: center; flex-shrink: 0; }
        .result-min-btn, .result-cls-btn {
            width: 36px; height: 36px;
            border-radius: 50%;
            border: 2px solid #cbd5e1;
            background: #f1f5f9;
            color: #475569;
            font-size: 18px; font-weight: 700; line-height: 1;
            cursor: pointer;
            display: flex; align-items: center; justify-content: center;
            transition: all 0.18s;
            box-shadow: 0 1px 4px rgba(0,0,0,0.08);
        }
        .result-min-btn:hover {
            background: #667eea; border-color: #667eea; color: #fff;
            transform: scale(1.1);
        }
        .result-cls-btn:hover {
            background: #ef4444; border-color: #ef4444; color: #fff;
            transform: scale(1.1);
            box-shadow: 0 3px 10px rgba(239,68,68,0.35);
        }
        .result-body {
            overflow: hidden;
            transition: max-height 0.32s cubic-bezier(0.4,0,0.2,1), opacity 0.24s ease;
            max-height: 3000px; opacity: 1;
        }
        .result-body.minimized { max-height: 0; opacity: 0; }

        .update-note {
            margin-top: 10px;
            font-size: 0.8em;
            color: var(--text-muted);
            display: flex;
            align-items: center;
            gap: 5px;
        }

        /* ‚îÄ‚îÄ Í∏∞ÏóÖ ÏöîÏïΩÏ†ïÎ≥¥ Í≤ÄÏÉâ ‚îÄ‚îÄ */
        .company-search {
            background: #fff;
            padding: 24px;
            margin: 20px 0;
            border-radius: var(--radius-small);
            box-shadow: var(--shadow-main);
            border-left: 5px solid #10b981;
        }
        .company-search h3 { color: var(--primary-dark); margin-bottom: 15px; font-size: 1.2em; font-weight: 700; }
        .co-card { background: #f8faff; border: 1px solid #e2e8f0; border-radius: 12px; padding: 18px; margin-top: 12px; }
        .co-header { display: flex; align-items: center; gap: 12px; margin-bottom: 12px; flex-wrap: wrap; }
        .co-logo { width: 42px; height: 42px; border-radius: 8px; object-fit: contain; background: #fff; border: 1px solid #e2e8f0; padding: 3px; }
        .co-name { font-size: 1.08rem; font-weight: 700; color: #1e293b; }
        .co-ticker { background: #3b82f6; color: #fff; font-size: 0.76rem; font-weight: 700; padding: 2px 8px; border-radius: 6px; letter-spacing: 0.05em; margin-right: 4px; }
        .co-exchange { font-size: 0.76rem; color: #64748b; }
        .co-price-row { display: flex; align-items: baseline; gap: 10px; margin-bottom: 12px; flex-wrap: wrap; }
        .co-price { font-size: 1.55rem; font-weight: 800; color: #1e293b; }
        .co-chg-up { color: #10b981; font-size: 0.93rem; font-weight: 600; }
        .co-chg-dn { color: #ef4444; font-size: 0.93rem; font-weight: 600; }
        .co-metrics { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; margin-bottom: 12px; }
        .co-metric { background: #fff; border: 1px solid #e8eef8; border-radius: 8px; padding: 8px 10px; }
        .co-metric-lbl { font-size: 0.70rem; color: #64748b; margin-bottom: 2px; }
        .co-metric-val { font-size: 0.93rem; font-weight: 700; color: #1e293b; }
        .co-tags { display: flex; gap: 6px; flex-wrap: wrap; margin-bottom: 12px; }
        .co-tag { background: #eff6ff; color: #3b82f6; font-size: 0.74rem; padding: 3px 9px; border-radius: 20px; font-weight: 500; }
        .co-links { display: flex; gap: 8px; flex-wrap: wrap; }
        .co-link { font-size: 0.78rem; padding: 5px 12px; border-radius: 6px; text-decoration: none; font-weight: 600; transition: opacity 0.15s; }
        .co-link:hover { opacity: 0.82; }
        .co-link.yf  { background: #6001d2; color: #fff; }
        .co-link.mw  { background: #c0392b; color: #fff; }
        .co-link.fv  { background: #155724; color: #fff; }
        .co-link.ws  { background: #f1f5f9; color: #334155; border: 1px solid #cbd5e1; }
        .co-offline  { color: #ef4444; font-weight: 600; font-size: 0.9rem; padding: 10px 0; }
        @media (max-width: 600px) { .co-metrics { grid-template-columns: repeat(2, 1fr); } }

        /* Îâ¥Ïä§ ÎåÄÏãúÎ≥¥Îìú */
        .news-dashboard {
            padding: 24px;
            background: #fff;
            border-radius: var(--radius-small);
            box-shadow: var(--shadow-main);
            margin-bottom: 30px;
        }

        .news-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-top: 20px;
        }

        .news-item {
            padding: 15px;
            border-radius: var(--radius-small);
            border: 1px solid #edf2f7;
            transition: all 0.2s;
        }

        .news-item:hover {
            border-color: var(--primary);
            background: #f8fafc;
        }

        /* Î∞òÏùëÌòï ÎØ∏ÎîîÏñ¥ ÏøºÎ¶¨ (Mobile-First Î∞è Breakpoints) */
        @media (max-width: 1024px) {
            .category-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            .container {
                border-radius: 0;
            }

            .header {
                padding: 55px 15px 30px;
            }

            .header h1 {
                font-size: 1.6em;
            }

            .header p {
                font-size: 0.9em;
            }

            #pwaInstallBtn {
                font-size: 0.75em;
                padding: 5px 10px;
                top: 12px;
                left: 12px;
            }

            #visitorCounter {
                top: 12px;
                right: 12px;
                font-size: 0.68em;
            }

            .grid-dashboard {
                grid-template-columns: 1fr;
                padding: 15px;
            }

            .controls {
                padding: 20px 15px;
            }

            .category-section {
                padding: 20px;
            }

            .selector-row {
                flex-direction: column;
                align-items: stretch;
            }

            .selector-row select,
            .btn-load {
                width: 100%;
            }

            .pdf-container {
                height: 500px;
            }

            .logout-btn {
                position: relative;
                top: 0;
                right: 0;
                margin: 15px auto 0;
                display: block;
                width: fit-content;
            }

            .search-box {
                flex-direction: column;
            }

            .search-btn {
                width: 100%;
            }
        }

        @media (max-width: 480px) {
            .header h1 {
                font-size: 1.4em;
            }

            .category-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }

            .category-icon {
                font-size: 1.8em;
                padding: 8px;
            }
        }

        /* Í∏∞ÌÉÄ Ïä§ÌÉÄÏùº Ï†ïÎ¶¨ */
        .divider {
            height: 1px;
            background: #e2e8f0;
            margin: 40px 0;
        }

        .news-sector-row {
            display: grid;
            padding: 40px 20px;
            border-top: 1px solid #e2e8f0;
            text-align: center;
        }

        border-left-color: #ffc107
        }

        .result-company {
            font-weight: 700;
            color: #495057;
            margin-bottom: 5px;
        }

        .result-date {
            color: #667eea;
            font-weight: 600;
            margin-bottom: 3px
        }

        .result-info {
            color: #6c757d;
            font-size: 0.85em
        }

        .update-note {
            margin-top: 10px;
            padding: 7px;
            background: #e7f0ff;
            border-radius: 4px;
            font-size: 0.78em
        }

        .news-dashboard {
            background: #fff;
            padding: 18px;
            margin: 15px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05)
        }

        .news-dashboard h2 {
            color: #667eea;
            margin-bottom: 12px;
            font-size: 1.25em;
            text-align: center
        }

        .news-grid {
            display: grid;
            gap: 8px;
            margin-bottom: 12px
        }

        .news-item {
            padding: 9px;
            background: #f8f9fa;
            border-radius: 5px;
            border-left: 3px solid #667eea;
            transition: transform 0.2s
        }

        .news-item:hover {
            transform: translateX(2px)
        }

        .news-title {
            font-weight: 600;
            color: #495057;
            margin-bottom: 3px;
            font-size: 0.85em
        }

        .news-meta {
            font-size: 0.72em;
            color: #6c757d
        }

        .news-link {
            text-decoration: none;
            color: inherit;
            display: block
        }

        .sector-map {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 7px;
            margin-bottom: 12px
        }

        .sector-item {
            padding: 8px;
            border-radius: 5px;
            text-align: center;
            font-size: 0.75em;
            font-weight: 600
        }

        .sector-up {
            background: linear-gradient(135deg, #d4edda, #c3e6cb);
            color: #155724
        }

        .sector-down {
            background: linear-gradient(135deg, #f8d7da, #f5c6cb);
            color: #721c24
        }

        .sector-neutral {
            background: linear-gradient(135deg, #fff3cd, #ffeaa7);
            color: #856404
        }

        .market-summary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: #fff;
            padding: 10px;
            border-radius: 5px;
            text-align: center
        }

        .market-summary h3 {
            margin-bottom: 6px;
            font-size: 1em
        }

        .market-keywords {
            display: flex;
            gap: 5px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 6px
        }

        .keyword {
            background: rgba(255, 255, 255, 0.2);
            padding: 3px 8px;
            border-radius: 10px;
            font-size: 0.75em
        }

        .framework-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px
        }

        @media (max-width:768px) {
            .framework-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px
            }
        }

        @media (max-width:480px) {
            .framework-grid {
                grid-template-columns: 1fr
            }
        }

        /* Í≤ΩÏ†ú Ï∫òÎ¶∞Îçî */
        .economic-calendar {
            background: #fff;
            padding: 20px;
            margin: 15px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05)
        }

        .economic-calendar h2 {
            text-align: center;
            color: #667eea;
            font-size: 1.3em;
            margin-bottom: 15px
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 20px;
            max-width: 700px;
            margin: 0 auto 20px
        }

        .month-calendar {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 10px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.04)
        }

        .month-header {
            text-align: center;
            font-size: 0.95em;
            font-weight: 700;
            color: #495057;
            margin-bottom: 8px;
            padding-bottom: 6px;
            border-bottom: 2px solid #667eea
        }

        .weekdays {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 2px;
            margin-bottom: 6px;
            text-align: center;
            font-weight: 600;
            color: #6c757d;
            font-size: 0.7em
        }

        .dates {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 2px
        }

        .date {
            aspect-ratio: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 3px;
            border-radius: 5px;
            background: #fff;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
            min-height: 35px;
            font-size: 0.75em
        }

        .date:hover:not(.empty) {
            transform: translateY(-1px);
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1)
        }

        .date.empty {
            background: transparent;
            cursor: default
        }

        .date.has-event {
            background: linear-gradient(135deg, #fff 0%, #f0f4ff 100%);
            border: 2px solid #667eea;
            font-weight: 600
        }

        .event-icon {
            font-size: 0.8em;
            margin-top: 1px
        }

        .tooltip {
            display: none;
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: #2c3e50;
            color: #fff;
            padding: 4px 7px;
            border-radius: 4px;
            font-size: 0.65em;
            z-index: 1000;
            margin-bottom: 3px;
            white-space: nowrap
        }

        .date:hover .tooltip {
            display: block
        }

        .event-summary {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px
        }

        .event-summary h3 {
            color: #495057;
            margin-bottom: 10px;
            font-size: 1.05em
        }

        .category-section {
            margin-bottom: 12px
        }

        .category-header-cal {
            font-weight: 700;
            color: #fff;
            padding: 9px;
            border-radius: 6px;
            margin-bottom: 8px;
            text-align: center;
            font-size: 0.88em;
            cursor: pointer;
            user-select: none;
            transition: all 0.2s;
            position: relative
        }

        .category-header-cal:hover {
            opacity: 0.9
        }

        .category-header-cal::after {
            content: '‚ñº';
            float: right;
            transition: transform 0.3s;
            font-size: 0.7em
        }

        .category-header-cal.collapsed::after {
            transform: rotate(-90deg)
        }

        .accordion-content {
            max-height: 3000px;
            overflow: hidden;
            transition: max-height 0.3s ease-out
        }

        .accordion-content.collapsed {
            max-height: 0
        }

        .event-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 8px
        }

        .event-item-cal {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px;
            background: #fff;
            border-radius: 5px;
            border-left: 3px solid #667eea;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.03);
            transition: all 0.2s;
            font-size: 0.85em
        }

        .event-item-cal:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.06)
        }

        .event-icon-large {
            font-size: 1.2em;
            min-width: 25px;
            text-align: center
        }

        .event-details-cal {
            flex: 1
        }

        .event-date-cal {
            font-weight: 700;
            color: #495057;
            font-size: 0.88em
        }

        .event-title-cal {
            color: #6c757d;
            font-size: 0.82em;
            line-height: 1.2
        }

        /* ÌîÑÎ¶¨ÎØ∏ÏóÑ 2Îã® ÎßàÏºì Îâ¥Ïä§ Ïπ¥Îìú Ïä§ÌÉÄÏùº */
        .news-card-wrapper {
            display: flex;
            gap: 20px;
            margin: 20px;
            flex-wrap: wrap;
            /* Î™®Î∞îÏùº ÎåÄÏùë */
        }

        .news-card-column {
            flex: 1;
            min-width: 350px;
            background: linear-gradient(135deg, rgba(30, 41, 59, 0.85) 0%, rgba(15, 23, 42, 0.95) 100%);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.12);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
            color: #f1f5f9;
        }

        .news-card-header {
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding-bottom: 15px;
            margin-bottom: 20px;
        }

        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .date-badge {
            background: rgba(56, 189, 248, 0.25);
            color: #38bdf8;
            padding: 5px 14px;
            border-radius: 20px;
            font-size: 0.95rem;
            font-weight: 700;
        }

        .market-status-title {
            font-size: 1.4rem;
            font-weight: 800;
            line-height: 1.4;
            color: #fff;
            letter-spacing: -0.02em;
        }

        .section-label {
            font-size: 0.9rem;
            font-weight: 700;
            color: #a78bfa;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin: 20px 0 12px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-label::after {
            content: '';
            flex: 1;
            height: 1px;
            background: rgba(255, 255, 255, 0.08);
        }

        /* ÏßÄÏàò Í∑∏Î¶¨Îìú ÏµúÏ†ÅÌôî (3Ïó¥) */
        .index-grid-3 {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }

        .mini-box {
            background: rgba(255, 255, 255, 0.04);
            padding: 12px 8px;
            border-radius: 12px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.06);
        }

        .mini-name {
            font-size: 0.85rem;
            color: #94a3b8;
            display: block;
            margin-bottom: 4px;
        }

        .mini-val {
            font-size: 1.05rem;
            font-weight: 700;
            display: block;
        }

        .mini-pct {
            font-size: 0.9rem;
            font-weight: 600;
        }

        /* Í∞ÄÎ°úÌòï Îç∞Ïù¥ÌÑ∞ Î∞î */
        .data-bar-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.03);
            font-size: 1.05rem;
        }

        .data-bar-label {
            display: flex;
            align-items: center;
            gap: 8px;
            flex: 1;
        }

        .data-bar-visual {
            width: 60px;
            height: 6px;
            background: #334155;
            border-radius: 3px;
            margin: 0 10px;
            position: relative;
            overflow: hidden;
        }

        .data-bar-fill {
            height: 100%;
            border-radius: 3px;
        }

        .headline-item {
            background: rgba(255, 255, 255, 0.02);
            padding: 14px 18px;
            border-radius: 12px;
            margin-bottom: 12px;
            border-left: 4px solid #38bdf8;
            font-size: 1.05rem;
            line-height: 1.5;
            transition: all 0.2s;
        }

        .headline-item:hover {
            background: rgba(255, 255, 255, 0.05);
            transform: translateX(5px);
        }

        .headline-item a {
            color: inherit;
            text-decoration: none;
        }

        .news-source-tag {
            display: block;
            font-size: 0.85rem;
            color: #94a3b8;
            margin-top: 6px;
            font-weight: 500;
        }

        .change-up {
            color: #10b981;
        }

        .change-down {
            color: #f43f5e;
        }

        .sources-footer {
            margin-top: 25px;
            padding-top: 15px;
            border-top: 1px dashed rgba(255, 255, 255, 0.1);
            font-size: 0.85rem;
            color: #64748b;
            text-align: center;
        }

        .sources-footer a {
            color: #38bdf8;
            text-decoration: none;
            margin: 0 5px;
        }

        .change-down {
            color: #dc2626;
            font-weight: bold;
        }

        /* ‚îÄ‚îÄ‚îÄ Î≥ÄÎèôÏÑ± & Îß§ÌÅ¨Î°ú ÏúÑÏ†Ø ‚îÄ‚îÄ‚îÄ */
        .vol-macro-card {
            margin: 14px 20px;
            background: linear-gradient(135deg, rgba(15,23,42,0.98), rgba(30,41,59,0.95));
            border-radius: 14px;
            border: 1px solid rgba(255,255,255,0.07);
            padding: 14px 18px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.35);
        }
        .vol-macro-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            padding-bottom: 8px;
            border-bottom: 1px solid rgba(255,255,255,0.07);
        }
        .vol-macro-title {
            font-size: 0.84rem;
            font-weight: 700;
            color: #e2e8f0;
            letter-spacing: 0.04em;
        }
        .vol-macro-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 14px;
        }
        .vol-section-title {
            font-size: 0.74rem;
            font-weight: 700;
            color: #94a3b8;
            letter-spacing: 0.04em;
            text-transform: uppercase;
            margin-bottom: 8px;
            padding-bottom: 4px;
            border-bottom: 1px solid rgba(255,255,255,0.07);
        }
        .vol-metric-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 3px 0;
        }
        .vol-metric-label { font-size: 0.78rem; color: #94a3b8; white-space: nowrap; }
        .vol-metric-value { font-size: 0.84rem; font-weight: 600; color: #f8fafc; text-align:right; }
        .vol-badge {
            display: inline-block;
            font-size: 0.6rem;
            padding: 1px 4px;
            border-radius: 3px;
            font-weight: 700;
            margin-left: 3px;
            vertical-align: middle;
        }
        .vol-badge-green  { background: rgba(74,222,128,0.18);  color: #4ade80; }
        .vol-badge-lgreen { background: rgba(163,230,53,0.18);  color: #a3e635; }
        .vol-badge-yellow { background: rgba(250,204,21,0.18);  color: #facc15; }
        .vol-badge-orange { background: rgba(251,146,60,0.18);  color: #fb923c; }
        .vol-badge-red    { background: rgba(248,113,113,0.18); color: #f87171; }
        @media (max-width: 768px) {
            .vol-macro-grid { grid-template-columns: 1fr; gap: 10px; }
        }

    </style>
</head>

<body>
    <!-- Î©îÏù∏ Ïª®ÌÖêÏ∏† -->
    <div id="mainContent" class="main-content">
        <div class="container">
            <div class="header">
                <!-- PWA Ìôà ÌôîÎ©¥ Ï∂îÍ∞Ä Î≤ÑÌäº (Ï¢åÏ∏° ÏÉÅÎã®) -->
                <button id="pwaInstallBtn" onclick="pwaInstall()" title="Ìôà ÌôîÎ©¥Ïóê Ïï±ÏúºÎ°ú Ï∂îÍ∞Ä">
                    üì± Ìôà ÌôîÎ©¥Ïóê Ï∂îÍ∞Ä
                </button>

                <!-- Î∞©Î¨∏Ïûê Ïπ¥Ïö¥ÌÑ∞ (Ïö∞Ï∏° ÏÉÅÎã®) -->
                <div id="visitorCounter">
                    <div class="vc-row">
                        <span class="vc-label">Ïò§Îäò</span>
                        <span class="vc-num" id="vcToday">-</span>
                    </div>
                    <div class="vc-row">
                        <span class="vc-label">ÎàÑÏ†Å</span>
                        <span class="vc-num" id="vcTotal">-</span>
                    </div>
                </div>

                <h1>üìä Ï£ºÏãù Î∂ÑÏÑù ÌÜµÌï© Î¶¨Ìè¨Ìä∏ Î∑∞Ïñ¥</h1>

                <p>Ï∂îÏ≤ú Ï¢ÖÎ™©Î∂ÄÌÑ∞ ÏãúÏû• Î∂ÑÏÑùÍπåÏßÄ, Î™®Îì† Î¶¨Ìè¨Ìä∏Î•º Ìïú Í≥≥ÏóêÏÑú</p>
                <div
                    style="margin-top: 15px; font-size: 0.9em; color: rgba(255,255,255,0.9); display: flex; align-items: center; justify-content: center; gap: 8px;">
                    Î¨∏Ïùò ÏÇ¨Ìï≠ : aiinvestflow@gmail.com
                    <button onclick="copyToClipboard('aiinvestment@gmail.com')" class="btn-sm"
                        style="padding: 2px 8px; border: 1px solid rgba(255,255,255,0.4); background: rgba(255,255,255,0.1); color: white;">Î≥µÏÇ¨</button>
                </div>
            </div>

            <!-- TradingView Ïã§ÏãúÍ∞Ñ Ï†ÑÍ¥ëÌåê -->
            <div class="tradingview-ticker-container">
                <div class="tradingview-widget-container">
                    <div class="tradingview-widget-container__widget"></div>
                    <script type="text/javascript"
                        src="https://s3.tradingview.com/external-embedding/embed-widget-ticker-tape.js" async>
                            {
                                "symbols": [
                                    {
                                        "proName": "FOREXCOM:SPXUSD",
                                        "title": "S&P 500"
                                    },
                                    {
                                        "proName": "FOREXCOM:DJI",
                                        "title": "Dow Jones"
                                    },
                                    {
                                        "proName": "NASDAQ:AAPL",
                                        "title": "Apple"
                                    },
                                    {
                                        "proName": "NASDAQ:NVDA",
                                        "title": "NVIDIA"
                                    },
                                    {
                                        "proName": "TVC:GOLD",
                                        "title": "Gold"
                                    },
                                    {
                                        "proName": "BITSTAMP:BTCUSD",
                                        "title": "Bitcoin"
                                    }
                                ],
                                    "showSymbolLogo": true,
                                        "colorTheme": "light",
                                            "isTransparent": false,
                                                "displayMode": "adaptive",
                                                    "locale": "kr"
                            }
                        </script>
                </div>
            </div>


            <!-- VOLATILITY_CARD_START -->
            <div class="vol-macro-card">
                <div class="vol-macro-header" onclick="toggleVolMacro()">
                    <span class="vol-macro-title">üìä ÏãúÏû• Ïã¨Î¶¨ &amp; Îß§ÌÅ¨Î°ú ÌòÑÌô©
                        <span style="font-size:0.63em;color:#64748b;font-weight:400;margin-left:6px;">ÏïÑÎûò Í≤ΩÏ†úÏßÄÌëú ÎåÄÏãúÎ≥¥ÎìúÏôÄ ÏùºÎ∂Ä Ï§ëÎ≥µ ¬∑ ÏÉÅÏÑ∏ ÌôïÏù∏ Ïãú ÌéºÏπòÍ∏∞</span>
                    </span>
                    <span style="display:flex;align-items:center;gap:8px;">
                        <span style="font-size:0.7rem;color:#475569;">Updated: 15:46 KST ¬∑ Îß§Ïãú ÏûêÎèôÍ∞±Ïã† ¬∑ CBOE / FRED / yfinance</span>
                        <button class="vol-acc-btn" id="volAccBtn" onclick="event.stopPropagation();toggleVolMacro()">‚ñæ ÌéºÏπòÍ∏∞</button>
                    </span>
                </div>
                <div class="vol-macro-body vm-closed" id="volMacroBody">
                <div class="vol-macro-grid">

                    <!-- ‚ë† Î≥ÄÎèôÏÑ± & Í≥µÌè¨ ÏßÄÌëú -->
                    <div>
                        <div class="vol-section-title">üò± Î≥ÄÎèôÏÑ± &amp; Í≥µÌè¨ ÏßÄÌëú</div>
                        <div class="vol-metric-row" style="margin-bottom:6px;padding-bottom:6px;border-bottom:1px solid rgba(255,255,255,0.07);">
                            <span class="vol-metric-label">CNN Í≥µÌè¨ÌÉêÏöïÏßÄÏàò</span>
                            <span class="vol-metric-value" style="font-size:0.9rem;">N/A  </span>
                        </div>
                        <div class="vol-metric-row" style="margin-bottom:6px;">
                            <span class="vol-metric-label" style="color:#64748b;font-size:0.71rem;">Î∂ÑÎ•ò</span>
                            <span class="vol-metric-value" style="color:#94a3b8;font-size:0.72rem;"></span>
                        </div>
                        <div class="vol-metric-row">
                            <span class="vol-metric-label">VIX Í≥µÌè¨ÏßÄÏàò</span>
                            <span class="vol-metric-value">19.86 <span style="color:#f87171;font-size:0.68rem;margin-left:2px;">‚ñ≤1.23</span> <span class="vol-badge vol-badge-lgreen">Î≥¥ÌÜµ</span></span>
                        </div>
                        <div class="vol-metric-row">
                            <span class="vol-metric-label">52Ï£º Î≤îÏúÑ</span>
                            <span class="vol-metric-value" style="color:#64748b;font-size:0.71rem;">13.47 ~ 52.33</span>
                        </div>
                        <div class="vol-metric-row">
                            <span class="vol-metric-label">52Ï£º ÏúÑÏπò</span>
                            <span class="vol-metric-value" style="color:#64748b;font-size:0.71rem;">ÏÉÅÏúÑ 84%</span>
                        </div>
                        <div class="vol-metric-row" style="margin-top:7px;padding-top:6px;border-top:1px solid rgba(255,255,255,0.05);">
                            <span class="vol-metric-label">Total P/C ÎπÑÏú®</span>
                            <span class="vol-metric-value">1.21 <span class="vol-badge vol-badge-green">Î∞©Ïñ¥</span></span>
                        </div>
                        <div class="vol-metric-row">
                            <span class="vol-metric-label">Equity P/C</span>
                            <span class="vol-metric-value">N/A </span>
                        </div>
                        <div class="vol-metric-row">
                            <span class="vol-metric-label">Index P/C</span>
                            <span class="vol-metric-value">N/A </span>
                        </div>
                        <div class="vol-metric-row">
                            <span class="vol-metric-label">SPY P/C (Ïã§ÏãúÍ∞Ñ)</span>
                            <span class="vol-metric-value">1.21 <span class="vol-badge vol-badge-green">Î∞©Ïñ¥</span></span>
                        </div>
                        <div style="margin-top:5px;font-size:0.64rem;color:#64748b;"> CBOE / yfinance</div>
                    </div>

                    <!-- ‚ë° ÏòµÏÖò Ïã†Ìò∏ & Í∏àÎ¶¨ -->
                    <div>
                        <div class="vol-section-title">üìà ÏòµÏÖò Ïã†Ìò∏ &amp; Í∏àÎ¶¨</div>
                        <div class="vol-metric-row">
                            <span class="vol-metric-label">ÎØ∏Íµ≠ 10ÎÖÑÎ¨º</span>
                            <span class="vol-metric-value">3.96%</span>
                        </div>
                        <div class="vol-metric-row">
                            <span class="vol-metric-label">ÎØ∏Íµ≠ 3Í∞úÏõîÎ¨º</span>
                            <span class="vol-metric-value">3.58%</span>
                        </div>
                        <div class="vol-metric-row">
                            <span class="vol-metric-label">Ïû•Îã®Í∏∞ Ïä§ÌîÑÎ†àÎìú</span>
                            <span class="vol-metric-value" style="color:#4ade80;">0.38% <span class="vol-badge vol-badge-yellow">ÌèâÌÉÑ</span></span>
                        </div>
                        <div class="vol-metric-row" style="margin-top:7px;padding-top:6px;border-top:1px solid rgba(255,255,255,0.05);">
                            <span class="vol-metric-label">Index P/C Ïã†Ìò∏</span>
                            <span class="vol-metric-value" style="font-size:0.7rem;color:#94a3b8;">ÏΩú Ïö∞ÏÑ∏ ¬∑ ÎÇôÍ¥Ä</span>
                        </div>
                        <div class="vol-metric-row" style="margin-top:4px;">
                            <span class="vol-metric-label">Îã¨Îü¨ DXY</span>
                            <span class="vol-metric-value">98.2</span>
                        </div>
                        <div class="vol-metric-row">
                            <span class="vol-metric-label">Í∏à ($/oz)</span>
                            <span class="vol-metric-value">$5392</span>
                        </div>
                    </div>

                    <!-- ‚ë¢ ÏõîÎ≥Ñ Îß§ÌÅ¨Î°ú ÏöîÏïΩ -->
                    <div>
                        <div class="vol-section-title">üè¶ ÏõîÎ≥Ñ Îß§ÌÅ¨Î°ú ÏöîÏïΩ</div>
                        <div class="vol-metric-row">
                            <span class="vol-metric-label">Fed Í∏∞Ï§ÄÍ∏àÎ¶¨</span>
                            <span class="vol-metric-value">3.64% <span class="vol-badge vol-badge-yellow">Ï§ëÎ¶Ω</span></span>
                        </div>
                        <div class="vol-metric-row">
                            <span class="vol-metric-label">CPI Î¨ºÍ∞Ä YoY</span>
                            <span class="vol-metric-value">2.39% <span class="vol-badge vol-badge-green">ÏïàÏ†ï</span></span>
                        </div>
                        <div class="vol-metric-row">
                            <span class="vol-metric-label">Ïã§ÏóÖÎ•†</span>
                            <span class="vol-metric-value">4.30%</span>
                        </div>
                        <div style="margin-top:10px;padding-top:8px;border-top:1px solid rgba(255,255,255,0.08);
                                    font-size:0.65rem;color:#94a3b8;line-height:2.0;">
                            üìå P/C &lt;0.7 <span style="color:#f87171;font-weight:600;">Í≥ºÏó¥</span>
                            ¬∑ 0.7-1.0 <span style="color:#facc15;font-weight:600;">Ï§ëÎ¶Ω</span>
                            ¬∑ &gt;1.0 <span style="color:#4ade80;font-weight:600;">Î∞©Ïñ¥</span><br>
                            üìå VIX &lt;15 <span style="color:#4ade80;font-weight:600;">ÏïàÏ†ï</span>
                            ¬∑ 15-20 <span style="color:#a3e635;font-weight:600;">Î≥¥ÌÜµ</span>
                            ¬∑ 20-25 <span style="color:#facc15;font-weight:600;">Ï£ºÏùò</span>
                            ¬∑ &gt;25 <span style="color:#f87171;font-weight:600;">Í≥µÌè¨</span><br>
                            üìå Ïä§ÌîÑÎ†àÎìú ÏñëÏàò=<span style="color:#4ade80;font-weight:600;">Ï†ïÏÉÅ</span>
                            ¬∑ ÏùåÏàò=<span style="color:#f87171;font-weight:600;">Ïó≠Ï†Ñ(Ïπ®Ï≤¥Ïã†Ìò∏)</span>
                        </div>
                    </div>

                </div>
                </div>
            </div>
            <!-- VOLATILITY_CARD_END -->

            
            <!-- ‚îÄ‚îÄ Ï£ºÏöî Í≤ΩÏ†úÏßÄÌëú ÎåÄÏãúÎ≥¥Îìú ‚îÄ‚îÄ -->
            <!-- ECON_DATA_START -->
<script>
var ECON_DATA = {
  lastUpdated: "2026-03-02",
  analysisMonth: "2026-03",
  analysisSummary: "CPI 2.4%Î°ú Ïù∏ÌîåÎ†àÏù¥ÏÖòÏù¥ Ïó∞Ï§Ä Î™©Ìëú(2%)Ïóê Í∑ºÏ†ëÏù¥Î©∞, Ïã§ÏóÖÎ•† 4.3%Î°ú Í≥†Ïö©Ïù¥ ÏôÑÎßåÌûà ÎÉâÍ∞Å Ï§ëÏúºÎ°ú ÌòÑÏû¨ ÎØ∏Íµ≠ Í≤ΩÏ†úÎäî 'ÏôÑÎßåÌïú ÏÑ±Ïû•ÏÑ∏'Ïóê ÏúÑÏπòÌï¥ ÏûàÎã§.",
  analysisDetail: "Í∏∞Ï§ÄÍ∏àÎ¶¨ 3.64%(Ïã§ÏßàÍ∏àÎ¶¨ +1.2%p)Í∞Ä Ï†úÏïΩÏ†ÅÏù∏ ÏàòÏ§ÄÏù¥Î©∞, Ïó∞Ï§ÄÏùò Í∏àÎ¶¨Ïù∏Ìïò Ïó¨Í±¥Ïù¥ ÏÑ±ÏàôÎêòÍ≥† ÏûàÎã§. Ï†úÏ°∞ÏóÖ PMI(50.3) ÏÜåÌè≠ ÌôïÏû•, ÏÑúÎπÑÏä§ PMI(51.4) ÏôÑÎßåÌïú ÌôïÏû•Ïù¥Î©∞, ÏÜåÎπÑÏûêÏã¨Î¶¨(56.4) ÌÅ¨Í≤å ÏúÑÏ∂ïÏù¥Î©∞, Ïû•Îã®Í∏∞ Ïä§ÌîÑÎ†àÎìú(+0.59%p)Í∞Ä Ï†ïÏÉÅÌôîÎêòÏñ¥ Í≤ΩÍ∏∞ ÌôïÏû• Í∏∞ÎåÄ Î∞òÏòÅÏù¥Îã§. Ïû•Îã®Í∏∞ Ïä§ÌîÑÎ†àÎìú Ï†ïÏÉÅÌôîÎäî Ïπ®Ï≤¥ Ïö∞Î†§Í∞Ä ÏôÑÌôîÎêòÍ≥† ÏûàÏùåÏùÑ ÏãúÏÇ¨ÌïòÎÇò, ÏÜåÎπÑÏûêÏã¨Î¶¨ ÌöåÎ≥µ Ïó¨Î∂ÄÏôÄ Ïó∞Ï§ÄÏùò Í∏àÎ¶¨ Í≤ΩÎ°úÍ∞Ä Ìñ•ÌõÑ 3~6Í∞úÏõî ÏãúÏû• Î∞©Ìñ•ÏÑ±ÏùÑ Í≤∞Ï†ïÌïòÎäî ÌïµÏã¨ Î≥ÄÏàòÍ∞Ä Îê† Í≤ÉÏù¥Îã§.",
  analysisSituation: "ÏôÑÎßåÌïú ÏÑ±Ïû•ÏÑ∏",
  analysisColor: "#84cc16",
  analysisScore: 0.5,
  indicators: {
    fedfunds: {label:"Í∏∞Ï§ÄÍ∏àÎ¶¨",icon:"üè¶",unit:"%",freq:"FOMC",isHighGood:false,threshold:2.0,thresholdLabel:"Ï§ëÎ¶ΩÍ∏àÎ¶¨ Ï∂îÏ†ï",color:"#3b82f6",current:3.64,prev:3.72,change:-0.08,dates:["2024-02", "2024-03", "2024-04", "2024-05", "2024-06", "2024-07", "2024-08", "2024-09", "2024-10", "2024-11", "2024-12", "2025-01", "2025-02", "2025-03", "2025-04", "2025-05", "2025-06", "2025-07", "2025-08", "2025-09", "2025-10", "2025-11", "2025-12", "2026-01"],values:[5.33, 5.33, 5.33, 5.33, 5.33, 5.33, 5.33, 5.13, 4.83, 4.64, 4.48, 4.33, 4.33, 4.33, 4.33, 4.33, 4.33, 4.33, 4.33, 4.22, 4.09, 3.88, 3.72, 3.64]},
    cpi: {label:"CPI (YoY)",icon:"üìà",unit:"%",freq:"ÏõîÍ∞Ñ¬∑BLS",isHighGood:false,threshold:2.0,thresholdLabel:"Fed Î™©Ìëú 2%",color:"#ef4444",current:2.39,prev:2.65,change:-0.26,dates:["2024-01", "2024-02", "2024-03", "2024-04", "2024-05", "2024-06", "2024-07", "2024-08", "2024-09", "2024-10", "2024-11", "2024-12", "2025-01", "2025-02", "2025-03", "2025-04", "2025-05", "2025-06", "2025-07", "2025-08", "2025-09", "2025-11", "2025-12", "2026-01"],values:[3.09, 3.16, 3.49, 3.36, 3.24, 2.97, 2.94, 2.61, 2.43, 2.58, 2.72, 2.87, 2.99, 2.8, 2.38, 2.33, 2.38, 2.68, 2.74, 2.94, 3.02, 2.7, 2.65, 2.39]},
    core_cpi: {label:"ÏΩîÏñ¥ CPI",icon:"üéØ",unit:"%",freq:"ÏõîÍ∞Ñ¬∑BLS",isHighGood:false,threshold:2.0,thresholdLabel:"Fed Î™©Ìëú 2%",color:"#f97316",current:2.51,prev:2.65,change:-0.14,dates:["2024-01", "2024-02", "2024-03", "2024-04", "2024-05", "2024-06", "2024-07", "2024-08", "2024-09", "2024-10", "2024-11", "2024-12", "2025-01", "2025-02", "2025-03", "2025-04", "2025-05", "2025-06", "2025-07", "2025-08", "2025-09", "2025-11", "2025-12", "2026-01"],values:[3.86, 3.76, 3.82, 3.63, 3.39, 3.27, 3.23, 3.29, 3.28, 3.3, 3.29, 3.21, 3.28, 3.14, 2.81, 2.78, 2.77, 2.91, 3.05, 3.11, 3.02, 2.6, 2.65, 2.51]},
    core_pce: {label:"ÏΩîÏñ¥ PCE",icon:"üí∞",unit:"%",freq:"ÏõîÍ∞Ñ¬∑BEA",isHighGood:false,threshold:2.0,thresholdLabel:"Fed ÌïµÏã¨Î™©Ìëú",color:"#a855f7",current:3.0,prev:2.83,change:0.17,dates:["2024-01", "2024-02", "2024-03", "2024-04", "2024-05", "2024-06", "2024-07", "2024-08", "2024-09", "2024-10", "2024-11", "2024-12", "2025-01", "2025-02", "2025-03", "2025-04", "2025-05", "2025-06", "2025-07", "2025-08", "2025-09", "2025-10", "2025-11", "2025-12"],values:[3.16, 3.06, 3.12, 3.01, 2.77, 2.75, 2.81, 2.87, 2.84, 2.99, 2.98, 2.99, 2.78, 2.97, 2.67, 2.61, 2.78, 2.81, 2.86, 2.91, 2.83, 2.76, 2.83, 3.0]},
    payems: {label:"ÎπÑÎÜçÏóÖ Í≥†Ïö©",icon:"üë∑",unit:"K",freq:"ÏõîÍ∞Ñ¬∑BLS",isHighGood:true,threshold:100,thresholdLabel:"Ï†ïÏÉÅ ÏàòÏ§Ä",color:"#10b981",current:130.0,prev:48.0,change:82.0,dates:["2024-02", "2024-03", "2024-04", "2024-05", "2024-06", "2024-07", "2024-08", "2024-09", "2024-10", "2024-11", "2024-12", "2025-01", "2025-02", "2025-03", "2025-04", "2025-05", "2025-06", "2025-07", "2025-08", "2025-09", "2025-10", "2025-11", "2025-12", "2026-01"],values:[206.0, 228.0, 64.0, 78.0, 87.0, 53.0, 9.0, 155.0, 33.0, 134.0, 237.0, -48.0, 42.0, 67.0, 108.0, 13.0, -20.0, 64.0, -70.0, 76.0, -140.0, 41.0, 48.0, 130.0]},
    unrate: {label:"Ïã§ÏóÖÎ•†",icon:"üìâ",unit:"%",freq:"ÏõîÍ∞Ñ¬∑BLS",isHighGood:false,threshold:4.0,thresholdLabel:"ÏûêÏó∞Ïã§ÏóÖÎ•†",color:"#f59e0b",current:4.3,prev:4.4,change:-0.1,dates:["2024-01", "2024-02", "2024-03", "2024-04", "2024-05", "2024-06", "2024-07", "2024-08", "2024-09", "2024-10", "2024-11", "2024-12", "2025-01", "2025-02", "2025-03", "2025-04", "2025-05", "2025-06", "2025-07", "2025-08", "2025-09", "2025-11", "2025-12", "2026-01"],values:[3.7, 3.9, 3.9, 3.9, 3.9, 4.1, 4.2, 4.2, 4.1, 4.1, 4.2, 4.1, 4.0, 4.2, 4.2, 4.2, 4.3, 4.1, 4.3, 4.3, 4.4, 4.5, 4.4, 4.3]},
    dgs10: {label:"Íµ≠Ï±Ñ 10Y",icon:"üèõÔ∏è",unit:"%",freq:"ÏùºÍ∞Ñ‚ÜíÏõîÌèâÍ∑†",isHighGood:null,threshold:4.5,thresholdLabel:"Ï£ºÏùò Íµ¨Í∞Ñ",color:"#6366f1",current:4.02,prev:4.26,change:-0.24,dates:["2023-03", "2023-04", "2023-05", "2023-06", "2023-07", "2023-08", "2023-09", "2023-10", "2023-11", "2023-12", "2024-01", "2024-02", "2024-03", "2024-04", "2024-05", "2024-06", "2024-07", "2024-08", "2024-09", "2024-10", "2024-11", "2024-12", "2025-01", "2025-02", "2025-03", "2025-04", "2025-05", "2025-06", "2025-07", "2025-08", "2025-09", "2025-10", "2025-11", "2025-12", "2026-01", "2026-02"],values:[3.48, 3.44, 3.64, 3.81, 3.97, 4.09, 4.59, 4.88, 4.37, 3.88, 3.99, 4.25, 4.2, 4.69, 4.51, 4.36, 4.09, 3.91, 3.81, 4.28, 4.18, 4.58, 4.58, 4.24, 4.23, 4.17, 4.41, 4.24, 4.37, 4.23, 4.16, 4.11, 4.02, 4.18, 4.26, 4.02]},
    spread: {label:"Ïû•Îã®Í∏∞ Ïä§ÌîÑÎ†àÎìú",icon:"üìä",unit:"%",freq:"10Y-2Y",isHighGood:true,threshold:0,thresholdLabel:"Ïó≠Ï†Ñ=Ïπ®Ï≤¥Ïã†Ìò∏",color:"#0ea5e9",current:0.59,prev:0.74,change:-0.15,dates:["2023-03", "2023-04", "2023-05", "2023-06", "2023-07", "2023-08", "2023-09", "2023-10", "2023-11", "2023-12", "2024-01", "2024-02", "2024-03", "2024-04", "2024-05", "2024-06", "2024-07", "2024-08", "2024-09", "2024-10", "2024-11", "2024-12", "2025-01", "2025-02", "2025-03", "2025-04", "2025-05", "2025-06", "2025-07", "2025-08", "2025-09", "2025-10", "2025-11", "2025-12", "2026-01", "2026-02"],values:[-0.58, -0.6, -0.76, -1.06, -0.91, -0.76, -0.44, -0.19, -0.36, -0.35, -0.28, -0.39, -0.39, -0.35, -0.38, -0.35, -0.2, 0.0, 0.15, 0.12, 0.05, 0.33, 0.36, 0.25, 0.34, 0.57, 0.52, 0.52, 0.43, 0.64, 0.56, 0.51, 0.55, 0.71, 0.74, 0.59]},
    mfg_pmi: {label:"Ï†úÏ°∞ÏóÖ PMI",icon:"üîß",unit:"",freq:"ÏõîÍ∞Ñ¬∑ISM",isHighGood:true,threshold:50,thresholdLabel:"50=ÌôïÏû•Í∏∞Ï§Ä",color:"#14b8a6",current:50.3,prev:49.6,change:0.7,dates:["2024-09","2024-10","2024-11","2024-12","2025-01","2025-02","2025-03","2025-04","2025-05","2025-06","2025-07","2025-08"],values:[47.2,46.5,48.4,49.3,50.9,50.3,49.0,48.7,48.5,49.1,49.6,50.3]},
    svc_pmi: {label:"ÏÑúÎπÑÏä§ PMI",icon:"üíº",unit:"",freq:"ÏõîÍ∞Ñ¬∑ISM",isHighGood:true,threshold:50,thresholdLabel:"50=ÌôïÏû•Í∏∞Ï§Ä",color:"#06b6d4",current:51.4,prev:52.5,change:-1.1,dates:["2024-09","2024-10","2024-11","2024-12","2025-01","2025-02","2025-03","2025-04","2025-05","2025-06","2025-07","2025-08"],values:[54.9,56.0,52.1,54.0,52.8,53.5,50.8,51.6,53.8,53.8,52.5,51.4]},
    retail: {label:"ÏÜåÎß§ÌåêÎß§ YoY",icon:"üõí",unit:"%",freq:"ÏõîÍ∞Ñ¬∑Census",isHighGood:true,threshold:0,thresholdLabel:"ÏÑ±Ïû• Í∏∞Ï§Ä",color:"#84cc16",current:2.43,prev:3.26,change:-0.83,dates:["2024-01", "2024-02", "2024-03", "2024-04", "2024-05", "2024-06", "2024-07", "2024-08", "2024-09", "2024-10", "2024-11", "2024-12", "2025-01", "2025-02", "2025-03", "2025-04", "2025-05", "2025-06", "2025-07", "2025-08", "2025-09", "2025-10", "2025-11", "2025-12"],values:[0.03, 1.95, 3.39, 2.55, 2.8, 2.26, 3.01, 1.79, 1.98, 3.23, 3.87, 4.56, 4.56, 3.86, 5.08, 4.97, 3.37, 4.42, 4.13, 4.97, 4.14, 3.21, 3.26, 2.43]},
    umcsent: {label:"ÏÜåÎπÑÏûêÏã¨Î¶¨",icon:"üòä",unit:"",freq:"ÏõîÍ∞Ñ¬∑UMich",isHighGood:true,threshold:80,thresholdLabel:"ÎÇôÍ¥Ä Í∏∞Ï§Ä",color:"#f472b6",current:56.4,prev:52.9,change:3.5,dates:["2024-02", "2024-03", "2024-04", "2024-05", "2024-06", "2024-07", "2024-08", "2024-09", "2024-10", "2024-11", "2024-12", "2025-01", "2025-02", "2025-03", "2025-04", "2025-05", "2025-06", "2025-07", "2025-08", "2025-09", "2025-10", "2025-11", "2025-12", "2026-01"],values:[76.9, 79.4, 77.2, 69.1, 68.2, 66.4, 67.9, 70.1, 70.5, 71.8, 74.0, 71.7, 64.7, 57.0, 52.2, 52.2, 60.7, 61.7, 58.2, 55.1, 53.6, 51.0, 52.9, 56.4]}
  }
};
</script>
            <!-- ECON_DATA_END -->

            <div class="econ-wrap">
                <div class="econ-hdr">
                    <h3>üìä Ï£ºÏöî Í≤ΩÏ†úÏßÄÌëú ÎåÄÏãúÎ≥¥Îìú</h3>
                    <span class="econ-updated" id="econUpdated">Ï∂úÏ≤ò: FRED¬∑ISM¬∑BLS¬∑BEA | ÏóÖÎç∞Ïù¥Ìä∏: --</span>
                </div>
                <div class="econ-grid" id="econGrid">
                    <!-- JS Î†åÎçîÎßÅ -->
                </div>
                <!-- Í≤ΩÏ†ú Î∂ÑÏÑù ÏöîÏïΩ (Ïõî 1Ìöå ÏûêÎèô ÏÉùÏÑ±) -->
                <div class="econ-analysis" id="econAnalysis" style="display:none;">
                    <div class="econ-ana-hdr">
                        <span>
                            <span class="econ-ana-badge" id="econAnaBadge" style="background:#84cc16;">üìä Í≤ΩÏ†ú Î∂ÑÏÑù</span>
                        </span>
                        <span class="econ-ana-date" id="econAnaDate"></span>
                    </div>
                    <p class="econ-ana-sum" id="econAnaSum"></p>
                    <p class="econ-ana-det" id="econAnaDet"></p>
                </div>
            </div>

            <!-- Í≤ΩÏ†úÏßÄÌëú ÏÉÅÏÑ∏ Î™®Îã¨ -->
            <div class="econ-overlay" id="econOverlay" onclick="if(event.target===this)closeEconModal()">
                <div class="econ-modal">
                    <div class="econ-modal-hdr">
                        <h2 id="econModalTitle">ÏßÄÌëú ÏÉÅÏÑ∏</h2>
                        <button class="econ-modal-close" onclick="closeEconModal()">‚úï</button>
                    </div>
                    <div class="econ-chart-wrap">
                        <canvas id="econModalCanvas"></canvas>
                    </div>
                    <div class="econ-modal-note" id="econModalNote"></div>
                    <div class="econ-stats" id="econModalStats"></div>
                </div>
            </div>

            <!-- Ïã§ÏãúÍ∞Ñ Í∏àÏúµ Îâ¥Ïä§ Í≤ÄÏÉâ -->
            <div class="news-search-wrap">
                <h3>üîé Ïã§ÏãúÍ∞Ñ Í∏àÏúµ Îâ¥Ïä§ Í≤ÄÏÉâ</h3>
                <div class="news-search-bar">
                    <input type="text" id="nsInput"
                        placeholder="ÌÇ§ÏõåÎìú ÏûÖÎ†• (ÌïúÍ∏Ä/ÏòÅÏñ¥ Î™®Îëê ÏßÄÏõê ¬∑ Ïòà: ÏÇºÏÑ±Ï†ÑÏûê, Í∏àÎ¶¨, NVDA)"
                        autocomplete="off"
                        onkeydown="if(event.key==='Enter') nsSearch()">
                    <button onclick="nsSearch()">üîç Í≤ÄÏÉâ</button>
                </div>
                <p class="news-search-hint">
                    üåê ÌïúÍ∏Ä ÏûÖÎ†• ‚Üí ÏòÅÏñ¥ Î≤àÏó≠ ÌõÑ Ìï¥Ïô∏ Îâ¥Ïä§ Í≤ÄÏÉâ &nbsp;|&nbsp; ÏòÅÏñ¥ ÏûÖÎ†• ‚Üí ÌïúÍ∏Ä Î≤àÏó≠ ÌõÑ Íµ≠ÎÇ¥ Îâ¥Ïä§ Í≤ÄÏÉâ &nbsp;(Íµ≠ÎÇ¥¬∑Ìï¥Ïô∏ ÎèôÏãú)
                </p>
                <div id="nsContainer" style="display:none;">
                    <div class="result-topbar">
                        <span class="result-topbar-label" id="nsResultLabel">Í≤ÄÏÉâ Í≤∞Í≥º</span>
                        <div class="result-action-btns">
                            <button class="result-min-btn" title="ÏµúÏÜåÌôî" onclick="toggleResultMin(this)">‚ñ¥</button>
                            <button class="result-cls-btn" title="Îã´Í∏∞"
                                onclick="document.getElementById('nsContainer').style.display='none';">‚úï</button>
                        </div>
                    </div>
                    <div class="result-body">
                        <div class="ns-columns">
                            <div class="ns-col">
                                <div class="ns-col-header">üá∞üá∑ Íµ≠ÎÇ¥ Îâ¥Ïä§</div>
                                <div id="nsKorBox"></div>
                                <div id="nsKorSrc" class="ns-col-src"></div>
                            </div>
                            <div class="ns-col">
                                <div class="ns-col-header">
                                    üåê Ìï¥Ïô∏ Îâ¥Ïä§
                                    <span id="nsTransBadge" class="ns-trans-badge" style="display:none;"></span>
                                </div>
                                <div id="nsEngBox"></div>
                                <div id="nsEngSrc" class="ns-col-src"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <p class="ns-api-note">
                    üì° Íµ≠ÎÇ¥: ÎÑ§Ïù¥Î≤ÑÎâ¥Ïä§API ‚Üí GoogleÎâ¥Ïä§RSS ‚Üí GNews ‚Üí Íµ≠ÎÇ¥RSS(MK¬∑Ïó∞Ìï©¬∑ÌïúÍ≤Ω) ¬∑
                    Ìï¥Ïô∏: GNews ‚Üí The Guardian ‚Üí Reuters/BBC RSS ¬∑
                    <span id="ns-key-status" style="color:#10b981;">Naver API Ïó∞Í≤∞Îê®</span>
                </p>
            </div>

            <!-- Í∏∞ÏóÖ ÏöîÏïΩÏ†ïÎ≥¥ Í≤ÄÏÉâ -->
            <div class="company-search">
                <h3>üè¢ Í∏∞ÏóÖ ÏöîÏïΩÏ†ïÎ≥¥ Í≤ÄÏÉâ</h3>
                <div class="search-box">
                    <input type="text" id="companyInput" class="search-input"
                        placeholder="Ìã∞Ïª§¬∑ÏòÅÎ¨∏Î™Ö¬∑ÌïúÍ∏ÄÎ™Ö ÏûÖÎ†• (Ïòà: AAPL, Apple, Ïï†Ìîå, NVDA, ÏóîÎπÑÎîîÏïÑ, Tesla)"
                        onkeypress="if(event.key==='Enter') searchCompanyInfo()">
                    <button class="search-btn" onclick="searchCompanyInfo()"
                        style="background:linear-gradient(135deg,#10b981,#059669);">üîç Í≤ÄÏÉâ</button>
                </div>
                <div id="companyResult"></div>
                <div class="update-note">‚ÑπÔ∏è <strong>Îç∞Ïù¥ÌÑ∞:</strong> Finnhub API (Ïã§ÏãúÍ∞Ñ) | <strong>ÏßÄÌëú:</strong> Ï£ºÍ∞Ä¬∑ÏãúÏ¥ù¬∑P/E¬∑EPS¬∑Î∞∞Îãπ¬∑52Ï£ºÎ≤îÏúÑ¬∑Î≤†ÌÉÄ | <strong>ÏßÄÏõê:</strong> Ìã∞Ïª§¬∑ÏòÅÎ¨∏Î™Ö¬∑ÌïúÍ∏ÄÎ™Ö</div>
            </div>

            <!-- Ïã§Ï†ÅÎ∞úÌëú Í≤ÄÏÉâ -->
            <div class="earnings-search">
                <h3>üìä Ïã§Ï†ÅÎ∞úÌëú ÏùºÏ†ï Í≤ÄÏÉâ</h3>
                <div class="search-box">
                    <input type="text" id="earningsSearchInput" class="search-input"
                        placeholder="Ìã∞Ïª§ ¬∑ ÏòÅÎ¨∏Î™Ö ¬∑ ÌïúÍ∏ÄÎ™Ö ÏûÖÎ†• (Ïòà: NVDA, Nvidia, ÏóîÎπÑÎîîÏïÑ)"
                        onkeypress="if(event.key==='Enter') searchEarningsAPI()">
                    <button class="search-btn" onclick="searchEarningsAPI()">üîç Í≤ÄÏÉâ</button>
                </div>
                <div id="earningsResult"></div>
                <div class="update-note">‚ÑπÔ∏è <strong>Îç∞Ïù¥ÌÑ∞:</strong> Finnhub API (Ïã§ÏãúÍ∞Ñ) | <strong>Î≤îÏúÑ:</strong> ÎØ∏Íµ≠ Ï†Ñ ÏÉÅÏû• Í∏∞ÏóÖ | <strong>ÏßÄÏõê:</strong> Ìã∞Ïª§ ¬∑ ÏòÅÎ¨∏Î™Ö ¬∑ ÌïúÍ∏ÄÎ™Ö</div>
            </div>
<!-- ÏÉÅÎ∂Ä Í∑∏Î¶¨Îìú ÎåÄÏãúÎ≥¥Îìú: ÏßÄÌëú, Ïã¨Î¶¨, ÏÑπÌÑ∞ -->
            <div class="grid-dashboard">
                <!-- Í∏ÄÎ°úÎ≤å ÏãúÏû• ÌïµÏã¨ ÏßÄÌëú -->
                <div class="card macro-card">
                    <h3 class="section-title">üìä Í∏ÄÎ°úÎ≤å ÏãúÏû• ÌïµÏã¨ ÏßÄÌëú</h3>
                    <div class="tradingview-widget-container" style="height: 550px;">
                        <div class="tradingview-widget-container__widget"></div>
                        <script type="text/javascript"
                            src="https://s3.tradingview.com/external-embedding/embed-widget-market-overview.js" async>
                                {
                                    "colorTheme": "light", "dateRange": "12M", "showChart": true, "locale": "ko", "width": "100%", "height": 550,
                                        "largeChartUrl": "", "isTransparent": false, "showSymbolLogo": true,
                                            "tabs": [
                                                { "name": "ÎØ∏Íµ≠ ÏßÄÏàò", "symbols": [{ "s": "NASDAQ:QQQ", "d": "ÎÇòÏä§Îã• 100" }, { "s": "AMEX:SPY", "d": "S&P 500" }, { "s": "FOREXCOM:DJI", "d": "Îã§Ïö∞ Ï°¥Ïä§" }] },
                                                { "name": "Í∏ÄÎ°úÎ≤å/ÏÑ†Î¨º", "symbols": [{ "s": "CME_MINI:NQ1!", "d": "ÎÇòÏä§Îã• ÏÑ†Î¨º" }, { "s": "BINANCE:BTCUSDT", "d": "ÎπÑÌä∏ÏΩîÏù∏" }, { "s": "OANDA:XAUUSD", "d": "Í∏à (Í≥®Îìú)" }] }
                                            ]
                                }
                            </script>
                    </div>
                </div>

                <!-- ÏãúÏû• Ïã¨Î¶¨ Î∞è ÌôòÏú® -->
                <div class="card sentiment-card">
                    <h3 class="section-title">üìà ÏãúÏû• Ïã¨Î¶¨ Î∞è ÌôòÏú®</h3>
                    <div class="sentiment-inner">
                        <div class="quote-item">
                            <p class="quote-label">üá∞üá∑ Ïã§ÏãúÍ∞Ñ Ïõê/Îã¨Îü¨ ÌôòÏú®</p>
                            <div class="tradingview-widget-container" style="height: 100px;">
                                <script type="text/javascript"
                                    src="https://s3.tradingview.com/external-embedding/embed-widget-single-quote.js"
                                    async>
                                        { "symbol": "FX_IDC:USDKRW", "width": "100%", "colorTheme": "light", "isTransparent": true, "locale": "ko" }
                                    </script>
                            </div>
                        </div>
                        <div class="divider"></div>
                        <div class="sentiment-selection">
                            <p class="quote-label">üìä Ïã§ÏãúÍ∞Ñ ÏãúÏû• Ïã¨Î¶¨ ÏßÄÌëú</p>
                            <div class="selector-row" style="margin-bottom: 15px;">
                                <button class="btn-sm" onclick="changeSentiment('KRX:KOSPI')">Íµ≠Ìîº</button>
                                <button class="btn-sm" onclick="changeSentiment('KRX:KOSDAQ')">Íµ≠Îã•</button>
                                <button class="btn-sm" onclick="changeSentiment('NASDAQ:QQQ')">ÎÇòÏä§Îã•</button>
                                <button class="btn-sm" onclick="changeSentiment('AMEX:SPY')">S&P</button>
                                <button class="btn-sm" onclick="changeSentiment('BINANCE:BTCUSDT')">ÏΩîÏù∏</button>
                            </div>
                            <div id="sentiment-widget-container" style="height: 450px;"></div>
                        </div>
                    </div>
                </div>

                <!-- ÏãúÏû• ÌïµÏã¨ Í±∞Ïãú ÏßÄÌëú (Market Pulse) -->
                <!-- TVC:GOLD / TVC:SILVER ‚Üí Îì±ÎùΩÌè≠(%) ÌëúÏãú ÏúÑÌï¥ TVC Ìï©ÏÑ± Ïã¨Î≥º ÏÇ¨Ïö© (USOILÍ≥º ÎèôÏùº) -->
                <!-- BITSTAMP:BTCUSD / BITSTAMP:ETHUSD ‚Üí Í±∞ÎûòÏÜå Ïã¨Î≥ºÎ°ú Îì±ÎùΩÌè≠ ÌëúÏãú -->
                <div class="card macro-pulse-card">
                    <h3 class="section-title">üåê ÏãúÏû• ÌïµÏã¨ Í±∞Ïãú ÏßÄÌëú (Market Pulse)</h3>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">

                        <!-- Í∏à (Gold) ‚Äî TVC:GOLD = Ïä§Ìåü Í≥®Îìú, Îì±ÎùΩÌè≠ ÌëúÏãú -->
                        <div class="tradingview-widget-container">
                            <div class="tradingview-widget-container__widget"></div>
                            <script type="text/javascript"
                                src="https://s3.tradingview.com/external-embedding/embed-widget-mini-symbol-overview.js" async>
                                    { "symbol": "TVC:GOLD", "width": "100%", "height": 200, "locale": "ko", "dateRange": "1M", "colorTheme": "light", "trendLineColor": "rgba(255,179,0,1)", "underLineColor": "rgba(255,179,0,0.3)", "underLineBottomColor": "rgba(255,179,0,0)", "isTransparent": true, "autosize": false, "chartOnly": false }
                            </script>
                        </div>

                        <!-- ÏùÄ (Silver) ‚Äî TVC:SILVER = Ïä§Ìåü Ïã§Î≤Ñ, Îì±ÎùΩÌè≠ ÌëúÏãú -->
                        <div class="tradingview-widget-container">
                            <div class="tradingview-widget-container__widget"></div>
                            <script type="text/javascript"
                                src="https://s3.tradingview.com/external-embedding/embed-widget-mini-symbol-overview.js" async>
                                    { "symbol": "TVC:SILVER", "width": "100%", "height": 200, "locale": "ko", "dateRange": "1M", "colorTheme": "light", "trendLineColor": "rgba(148,163,184,1)", "underLineColor": "rgba(148,163,184,0.3)", "underLineBottomColor": "rgba(148,163,184,0)", "isTransparent": true, "autosize": false, "chartOnly": false }
                            </script>
                        </div>

                        <!-- ÎπÑÌä∏ÏΩîÏù∏ (Bitcoin) ‚Äî BITSTAMP Í±∞ÎûòÏÜå Ïã¨Î≥º, Îì±ÎùΩÌè≠ ÌëúÏãú -->
                        <div class="tradingview-widget-container">
                            <div class="tradingview-widget-container__widget"></div>
                            <script type="text/javascript"
                                src="https://s3.tradingview.com/external-embedding/embed-widget-mini-symbol-overview.js" async>
                                    { "symbol": "BITSTAMP:BTCUSD", "width": "100%", "height": 200, "locale": "ko", "dateRange": "1M", "colorTheme": "light", "trendLineColor": "rgba(247,147,26,1)", "underLineColor": "rgba(247,147,26,0.3)", "underLineBottomColor": "rgba(247,147,26,0)", "isTransparent": true, "autosize": false, "chartOnly": false }
                            </script>
                        </div>

                        <!-- Ïù¥ÎçîÎ¶¨ÏõÄ (Ethereum) ‚Äî BITSTAMP Í±∞ÎûòÏÜå Ïã¨Î≥º, Îì±ÎùΩÌè≠ ÌëúÏãú -->
                        <div class="tradingview-widget-container">
                            <div class="tradingview-widget-container__widget"></div>
                            <script type="text/javascript"
                                src="https://s3.tradingview.com/external-embedding/embed-widget-mini-symbol-overview.js" async>
                                    { "symbol": "BITSTAMP:ETHUSD", "width": "100%", "height": 200, "locale": "ko", "dateRange": "1M", "colorTheme": "light", "trendLineColor": "rgba(98,126,234,1)", "underLineColor": "rgba(98,126,234,0.3)", "underLineBottomColor": "rgba(98,126,234,0)", "isTransparent": true, "autosize": false, "chartOnly": false }
                            </script>
                        </div>

                        <!-- BMNR (Bloomberg US MBS / Bond Market) -->
                        <div class="tradingview-widget-container" style="grid-column: 1 / -1;">
                            <div class="tradingview-widget-container__widget"></div>
                            <script type="text/javascript"
                                src="https://s3.tradingview.com/external-embedding/embed-widget-mini-symbol-overview.js" async>
                                    { "symbol": "BMNR", "width": "100%", "height": 200, "locale": "ko", "dateRange": "1M", "colorTheme": "light", "trendLineColor": "rgba(139,92,246,1)", "underLineColor": "rgba(139,92,246,0.3)", "underLineBottomColor": "rgba(139,92,246,0)", "isTransparent": true, "autosize": false, "chartOnly": false }
                            </script>
                        </div>

                        <!-- WTI Ïú†Í∞Ä (ÎßàÏßÄÎßâ, grid-column spanÏúºÎ°ú Ï§ëÏïô Ï†ïÎ†¨) -->
                        <div class="tradingview-widget-container" style="grid-column: 1 / -1;">
                            <div class="tradingview-widget-container__widget"></div>
                            <script type="text/javascript"
                                src="https://s3.tradingview.com/external-embedding/embed-widget-mini-symbol-overview.js" async>
                                    { "symbol": "TVC:USOIL", "width": "100%", "height": 200, "locale": "ko", "dateRange": "1M", "colorTheme": "light", "trendLineColor": "rgba(76,175,80,1)", "underLineColor": "rgba(76,175,80,0.3)", "underLineBottomColor": "rgba(76,175,80,0)", "isTransparent": true, "autosize": false, "chartOnly": false }
                            </script>
                        </div>

                    </div>
                </div>

            </div>

            <!-- Îâ¥Ïä§ & ÏÑπÌÑ∞ Ï£ºÎèÑÏ£º Î≥ëÎ†¨ Î∞∞Ïπò ÏòÅÏó≠ -->
            <div class="news-sector-row">
                <!-- Ïã§ÏãúÍ∞Ñ ÏÑπÌÑ∞ Ï£ºÎèÑÏ£º -->
                <div class="card sector-card" style="margin-bottom: 0;">
                    <h3 class="section-title">üöÄ Ïã§ÏãúÍ∞Ñ ÏÑπÌÑ∞ Ï£ºÎèÑÏ£º (US)</h3>
                    <div class="tradingview-widget-container" style="height: 400px; width: 100%;">
                        <div class="tradingview-widget-container__widget"></div>
                        <script type="text/javascript"
                            src="https://s3.tradingview.com/external-embedding/embed-widget-market-quotes.js" async>
                                {
                                    "width": "100%", "height": 400, "symbolsGroups": [
                                        {
                                            "name": "Ï£ºÏöî ÏÑπÌÑ∞", "symbols": [
                                                { "name": "AMEX:XLK", "displayName": "Í∏∞Ïà† (Tech)" }, { "name": "AMEX:XLV", "displayName": "Ìó¨Ïä§ (Health)" },
                                                { "name": "AMEX:XLF", "displayName": "Í∏àÏúµ (Finance)" }, { "name": "AMEX:XLE", "displayName": "ÏóêÎÑàÏßÄ (Energy)" },
                                                { "name": "AMEX:XLY", "displayName": "ÏÜåÎπÑÏû¨ (Cons)" }, { "name": "AMEX:XLI", "displayName": "ÏÇ∞ÏóÖÏû¨ (Indus)" },
                                                { "name": "AMEX:XLC", "displayName": "ÌÜµÏã† (Comm)" }, { "name": "AMEX:XLB", "displayName": "ÏÜåÏû¨ (Materials)" },
                                                { "name": "AMEX:XLU", "displayName": "Ïú†Ìã∏Î¶¨Ìã∞ (Utils)" }, { "name": "AMEX:XLRE", "displayName": "Î¶¨Ï∏† (REITs)" }
                                            ]
                                        }
                                    ], "showSymbolLogo": true, "colorTheme": "light", "isTransparent": false, "locale": "ko"
                                }
                            </script>
                    </div>
                </div>

                <!-- Îâ¥Ïä§ ÎåÄÏãúÎ≥¥Îìú -->
                <div class="card news-dashboard" style="margin-bottom: 0;">
                    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
                        <div style="display: flex; align-items: center; gap: 15px;">
                            <h3 class="section-title" style="border:none; padding:0; margin:0;">üì∞ Ïã§ÏãúÍ∞Ñ ÏãúÏû• Îâ¥Ïä§</h3>
                            <button id="newsLangToggle" onclick="toggleNewsLang()" style="display:inline-flex;align-items:center;gap:4px;padding:4px 14px;background:rgba(102,126,234,0.12);border:1px solid rgba(102,126,234,0.35);border-radius:20px;color:#667eea;font-size:0.8rem;cursor:pointer;white-space:nowrap;transition:all 0.2s;" title="Îâ¥Ïä§ Ï†úÎ™© Ïñ∏Ïñ¥ Ï†ÑÌôò">üåê English</button>
                        </div>
                        <button onclick="refreshNews()" class="btn-load" style="padding:4px 12px; font-size:11px;">üîÑ
                            ÏÉàÎ°úÍ≥†Ïπ®</button>
                    </div>
                    <div class="news-grid" id="newsContainer"></div>

                    <!-- SAVE Îâ¥Ïä§ÎßÅÌÅ¨ Î≥µÍµ¨ -->
                    <div
                        style="margin-top: 15px; text-align: center; padding: 15px; background: #f8fafc; border-radius: 10px; border: 1px dashed #667eea;">
                        <p style="font-size: 0.85em; color: #4a5568; margin-bottom: 10px; font-weight: 600;">
                            üîé Ï†ïÎ∞Ä Ìã∞Ïª§ Î∂ÑÏÑùÏù¥ ÌïÑÏöîÌïòÎã§Î©¥?
                        </p>
                        <a href="https://saveticker.com/" target="_blank" rel="noopener noreferrer"
                            style="display:inline-block; padding:8px 25px; background:var(--bg-gradient); color:#fff; text-decoration:none; border-radius:20px; font-weight:700; font-size:0.9em; transition:all 0.3s; box-shadow:var(--shadow-main);"
                            onmouseover="this.style.transform='translateY(-2px)';"
                            onmouseout="this.style.transform='translateY(0)';" id="save-link-btn">
                            üöÄ SaveTicker Î∞©Î¨∏
                        </a>
                    </div>
                </div>

                <!-- ÏûêÎèôÌôî ÎßàÏºì Îâ¥Ïä§ Ïπ¥Îìú ÏúÑÏπò -->
                <!-- MARKET_NEWS_CARD_START -->
            <div id="marketNewsCardArea">
                <div class="news-card-wrapper">
                    <div class="news-card-column" id="left-card-column">
                        <!-- LEFT_CARD_START -->
                        <div class="news-card-header">
                            <div class="header-top">
                                <span class="date-badge">2026.03.02 (Ïõî)</span>
                                <span style="font-size: 0.9rem; color: #94a3b8;">US Market Focus</span>
                            </div>
                            <div class="market-status-title" style="margin-top: 5px; font-size: 1.25rem;">Ïã§ÏãúÍ∞Ñ ÏãúÏû• ÏßÄÌëú & ÏÑπÌÑ∞ ÌòÑÌô© üìä</div>
                        </div>
                        <div class="section-label">Major Indices</div>
                        <div class="index-grid-3"><div class="mini-box"><span class="mini-name">DOW</span><span class="mini-val">48,977.9</span><span class="mini-pct change-down">‚ñº -1.05%</span></div><div class="mini-box"><span class="mini-name">S&P 500</span><span class="mini-val">6,878.9</span><span class="mini-pct change-down">‚ñº -0.43%</span></div><div class="mini-box"><span class="mini-name">NASDAQ</span><span class="mini-val">22,668.2</span><span class="mini-pct change-down">‚ñº -0.92%</span></div><div class="mini-box"><span class="mini-name">Russell 2K</span><span class="mini-val">2,632.4</span><span class="mini-pct change-down">‚ñº -1.68%</span></div><div class="mini-box"><span class="mini-name">Phil. Semi</span><span class="mini-val">8,098.4</span><span class="mini-pct change-down">‚ñº -1.21%</span></div><div class="mini-box"><span class="mini-name">VIX Index</span><span class="mini-val">19.9</span><span class="mini-pct change-up">‚ñ≤ +6.60%</span></div></div>
                        <div class="section-label">S&P 500 Sectors</div>
                        <div style="margin-bottom:20px;"><div class="data-bar-row"><div class="data-bar-label"><span>Financials (XLF)</span><div class="data-bar-visual"><div class="data-bar-fill" style="width:30%; background:#f43f5e;"></div></div></div><span class="change-down">-2.04%</span></div><div class="data-bar-row"><div class="data-bar-label"><span>Industrials (XLI)</span><div class="data-bar-visual"><div class="data-bar-fill" style="width:52%; background:#10b981;"></div></div></div><span class="change-up">+0.25%</span></div><div class="data-bar-row"><div class="data-bar-label"><span>Technology (XLK)</span><div class="data-bar-visual"><div class="data-bar-fill" style="width:34%; background:#f43f5e;"></div></div></div><span class="change-down">-1.60%</span></div><div class="data-bar-row"><div class="data-bar-label"><span>Health Care (XLV)</span><div class="data-bar-visual"><div class="data-bar-fill" style="width:68%; background:#10b981;"></div></div></div><span class="change-up">+1.77%</span></div></div>
                        <div class="section-label">Magnificent 7</div>
                        <div class="index-grid-3" style="grid-template-columns: repeat(4, 1fr);"><div class="mini-box" style="padding:8px 4px;"><span class="mini-name" style="font-size:0.8rem;">MSFT</span><span class="change-down" style="font-size:0.95rem; font-weight:700;">-2.24%</span></div><div class="mini-box" style="padding:8px 4px;"><span class="mini-name" style="font-size:0.8rem;">AAPL</span><span class="change-down" style="font-size:0.95rem; font-weight:700;">-3.21%</span></div><div class="mini-box" style="padding:8px 4px;"><span class="mini-name" style="font-size:0.8rem;">NVDA</span><span class="change-down" style="font-size:0.95rem; font-weight:700;">-4.16%</span></div><div class="mini-box" style="padding:8px 4px;"><span class="mini-name" style="font-size:0.8rem;">GOOGL</span><span class="change-up" style="font-size:0.95rem; font-weight:700;">+1.42%</span></div><div class="mini-box" style="padding:8px 4px;"><span class="mini-name" style="font-size:0.8rem;">AMZN</span><span class="change-up" style="font-size:0.95rem; font-weight:700;">+1.00%</span></div><div class="mini-box" style="padding:8px 4px;"><span class="mini-name" style="font-size:0.8rem;">TSLA</span><span class="change-down" style="font-size:0.95rem; font-weight:700;">-1.49%</span></div><div class="mini-box" style="padding:8px 4px;"><span class="mini-name" style="font-size:0.8rem;">META</span><span class="change-down" style="font-size:0.95rem; font-weight:700;">-1.34%</span></div></div>
                        <div class="section-label">Korea Market Summary</div>
                        <div style="font-size:1rem; line-height:1.6; color:#cbd5e1; background:rgba(255,255,255,0.03); padding:12px; border-radius:10px;">
                            üá∞üá∑ Ïã§ÏãúÍ∞Ñ Í∏ÄÎ°úÎ≤å ÏãúÏû• Î≥ÄÎèôÏóê Îî∞Î•∏ Ìà¨Ïûê Ïã¨Î¶¨ Î≥ÄÌôîÍ∞Ä Í∞êÏßÄÎêòÍ≥† ÏûàÏäµÎãàÎã§. Ï£ºÎèÑ ÏÑπÌÑ∞ Î∞è Í∏∞Í¥Ä ÏàòÍ∏â Ïú†ÏûÖ ÏÉÅÌô©ÏùÑ Ï£ºÏùò ÍπäÍ≤å ÏÇ¥Ìé¥Î≥¥ÏÑ∏Ïöî.
                        </div>
                        <!-- LEFT_CARD_END -->
                    </div>
                    <div class="news-card-column" id="right-card-column">
                        <!-- RIGHT_CARD_START -->
                        <div class="news-card-header"><div class="header-top"><span class="date-badge" style="background:rgba(251,191,36,0.15);color:#fbbf24;">Îâ¥Ïä§</span><span style="font-size:0.9rem;color:#94a3b8;">Updated: 15:46 KST</span><button onclick="refreshRightCard()" title="ÏÉàÎ°úÍ≥†Ïπ®" style="margin-left:auto;background:rgba(255,255,255,0.08);border:1px solid rgba(255,255,255,0.15);color:#94a3b8;font-size:0.8rem;padding:3px 10px;border-radius:6px;cursor:pointer;transition:all 0.2s;" onmouseover="this.style.background='rgba(255,255,255,0.15)';this.style.color='#f8fafc'" onmouseout="this.style.background='rgba(255,255,255,0.08)';this.style.color='#94a3b8'">‚ü≥ ÏÉàÎ°úÍ≥†Ïπ®</button></div><div class="market-status-title" style="margin-top:10px;">üì∞ Îâ¥Ïä§ Î∏åÎ¶¨Ìïë</div></div><div><strong style="color:#fbbf24;font-size:0.82em;display:block;margin-bottom:8px;letter-spacing:0.03em;border-bottom:1px solid rgba(251,191,36,0.2);padding-bottom:4px;">üì∞ Îß§ÏùºÍ≤ΩÏ†ú</strong><script>var _MKD={"Ï¶ùÍ∂å": [{"t": "Ïã±Í∞ÄÌè¥Í≥º Î∞îÏù¥Ïò§¬∑ÌÉàÌÉÑÏÜå¬∑Ìï≠Í≥µÍ∏∞ MRO ÌòëÎ†• ÌôïÎåÄ... SMR ÏàòÏ∂úÎèÑ Ï∂îÏßÑ", "l": "https://www.mk.co.kr/news/economy/11976096", "d": "2026-03-02"}, {"t": "‚ÄúÏô∏Íµ≠Ïù∏Îì§ Ï£ºÏãù Ï¢Ä ÎçòÏ†∏Ï£ºÏÑ∏Ïöî, Ïù¥Ï∞∏Ïóê Îì§Ïñ¥Í∞ÄÍ≤å‚Äù‚Ä¶Ï¶ùÏãú Îñ†Î∞õÏπòÎäî ‚ÄòÏä§ÎßàÌä∏ Í∞úÎØ∏‚Äô", "l": "https://www.mk.co.kr/news/stock/11976094", "d": "2026-03-02"}, {"t": "‚ÄúÏÇºÏùºÏ†àÎÇ† ÎèÑÏøÑÏÑú ÌÉúÍ∑πÍ∏∞ ÌùîÎì§‚Äù‚Ä¶Îâ¥ÏßÑÏä§ÏÑú Ìá¥Ï∂ú, Îã§ÎãàÏóò ‚ÄòÍπúÏßù Í∑ºÌô©‚Äô", "l": "https://www.mk.co.kr/news/world/11976092", "d": "2026-03-02"}, {"t": "Ï§ëÍµ≠ Ï£ºÎèÑ SCO, ÌïòÎ©îÎÑ§Ïù¥ ÏÇ¨ÎßùÏóê Ï°∞Í∏∞ Í≤åÏñë", "l": "https://www.mk.co.kr/news/world/11976090", "d": "2026-03-02"}, {"t": "ÏπòÎß§ Î∞úÎ≥ë ÏãúÍ≥Ñ ‚ÄòÏß∏ÍπçÏß∏Íπç‚Äô...Ïä§ÎßàÌä∏Ìè∞ Ïï±ÏúºÎ°ú Îä¶Ï∂∞Ï§ÄÎã§Í≥†?", "l": "https://www.mk.co.kr/news/it/11976089", "d": "2026-03-02"}, {"t": "Ïó∞ÌÉÑÎÇúÎ∞© Î≥¥ÏùºÎü¨Î°ú Î∞îÍæ∏Î©¥ ÏóêÎÑàÏßÄÎ∞îÏö∞Ï≤ò ÏßÄÏõêÌï¥Ï§ÄÎã§", "l": "https://www.mk.co.kr/news/economy/11976087", "d": "2026-03-02"}, {"t": "Ïù∏ÎèÑ ÏÇ¨Î°úÏû°ÏùÄ K-ÌïÄÌÖåÌÅ¨...Í≥†ÏÑ±Ïû• ÏïûÏÑ∏Ïõå ÏÉÅÏû• Ï∂îÏßÑ", "l": "https://www.mk.co.kr/news/economy/11976083", "d": "2026-03-02"}, {"t": "‚ÄúÍ∑ºÏ≤òÏóêÎèÑ ÏïàÏôîÎã§‚Äù‚Ä¶ÎØ∏ Ìï≠Î™® ÎØ∏ÏÇ¨Ïùº Í≥µÍ≤©ÌñàÎã§Îäî Ïù¥ÎûÄ, Í∞ïÎ†• Î∂ÄÏù∏Ìïú ÎØ∏Íµ∞", "l": "https://www.mk.co.kr/news/world/11976082", "d": "2026-03-02"}, {"t": "ÌïúÌà¨Ë≠â, ‰∏≠ 1ÏúÑ Íµ≠ÌÉúÌï¥ÌÜµË≠âÍ≥º MOU", "l": "https://www.mk.co.kr/news/stock/11976076", "d": "2026-03-02"}, {"t": "‚ÄúÎØ∏Íµ≠Í≥º ÌòëÏÉÅ ÏïàÌï¥‚Äù‚Ä¶ÌïòÎ©îÎÑ§Ïù¥ ÌõÑÏûÑ Í±∞Î°† ÎùºÎ¶¨ÏûêÎãà ‚ÄòÌï≠Ï†Ñ ÏùòÏßÄ‚Äô", "l": "https://www.mk.co.kr/news/world/11976063", "d": "2026-03-02"}], "Í≤ΩÏ†ú": [{"t": "Ïã±Í∞ÄÌè¥Í≥º Î∞îÏù¥Ïò§¬∑ÌÉàÌÉÑÏÜå¬∑Ìï≠Í≥µÍ∏∞ MRO ÌòëÎ†• ÌôïÎåÄ... SMR ÏàòÏ∂úÎèÑ Ï∂îÏßÑ", "l": "https://www.mk.co.kr/news/economy/11976096", "d": "2026-03-02"}, {"t": "Ïó∞ÌÉÑÎÇúÎ∞© Î≥¥ÏùºÎü¨Î°ú Î∞îÍæ∏Î©¥ ÏóêÎÑàÏßÄÎ∞îÏö∞Ï≤ò ÏßÄÏõêÌï¥Ï§ÄÎã§", "l": "https://www.mk.co.kr/news/economy/11976087", "d": "2026-03-02"}, {"t": "Ïù∏ÎèÑ ÏÇ¨Î°úÏû°ÏùÄ K-ÌïÄÌÖåÌÅ¨...Í≥†ÏÑ±Ïû• ÏïûÏÑ∏Ïõå ÏÉÅÏû• Ï∂îÏßÑ", "l": "https://www.mk.co.kr/news/economy/11976083", "d": "2026-03-02"}, {"t": "‚ÄúÏ£ºÏãù Ìò∏Ìô©ÏùÄ ÎÇ® ÏñòÍ∏∞, ÎÇ®Îäî Îèà ÏûàÏñ¥Ïïº Ìà¨Ïûê ÌïòÏßÄ‚Äù‚Ä¶4Ïßë Ï§ë 1ÏßëÏùÄ ‚ÄòÏ†ÅÏûê ÏÇ¥Î¶º‚Äô", "l": "https://www.mk.co.kr/news/economy/11976001", "d": "2026-03-02"}, {"t": "7.0% 6.9% 6.8%‚Ä¶ÏùÄÌñâÍ∂å Ïã†Ïö©ÎåÄÏ∂ú Í∏àÎ¶¨ ÏÉÅÌïúÏÑ† ‚Äò0.1%PÏùò Ï†ÑÏüÅ‚Äô", "l": "https://www.mk.co.kr/news/economy/11975998", "d": "2026-03-02"}, {"t": "ÌïòÎÇòÏùÄÌñâ, Ïû•Í∏∞Î≥µÎ¨¥ Íµ∞Í∞ÑÎ∂Ä Ï†ÅÍ∏à Ï∂úÏãú‚Ä¶ÏµúÍ≥† Ïó∞ 6% Í∏àÎ¶¨", "l": "https://www.mk.co.kr/news/economy/11975990", "d": "2026-03-02"}, {"t": "4ÎåÄ Í∏àÏúµÏßÄÏ£º, Ï§ëÎèô Î¶¨Ïä§ÌÅ¨Ïóê ÏùºÏ†úÌûà ÎπÑÏÉÅÏ≤¥Í≥Ñ Í∞ÄÎèô", "l": "https://www.mk.co.kr/news/economy/11975989", "d": "2026-03-02"}, {"t": "‚ÄúÎ≤†Ìä∏ÎÇ® ÏóÑÎßàÎì§Ïù¥ ÌïúÍµ≠ Ïï†Íµ≠Ïûê‚Äù‚Ä¶Ï∂úÏÇ∞Ïú® ÎÜíÏùÄ ÎèôÎÑ§, Îã§Î¨∏Ìôî ÎèôÎÑ§ÏòÄÎã§", "l": "https://www.mk.co.kr/news/economy/11975939", "d": "2026-03-02"}, {"t": "Ìò∏Î•¥Î¨¥Ï¶àÌï¥ÌòëÏÑú ÏÑ†Î∞ï ÌîºÏäµ, ÌôçÌï¥ÍπåÏßÄ Î∂àÎò•...Ïú†Í∞ÄÌè≠Îì± Ïö∞Î†§", "l": "https://www.mk.co.kr/news/economy/11975906", "d": "2026-03-02"}, {"t": "Ïù¥Ïû¨Î™Ö ‚ÄúÎã§Ï£ºÌÉù ‚ÄòÌåîÏïÑÎùº‚Äô ‚ÄòÏÇ¨ÏßÄÎßàÎùº‚Äô Í∞ïÏöîÌï† ÌïÑÏöîÏóÜÏñ¥‚Ä¶ÏÑ∏Í∏à Í∏àÏúµ Îì± Ï≤†Ï†ÄÌûà ÏÑ§Í≥Ñ‚Äù", "l": "https://www.mk.co.kr/news/economy/11975867", "d": "2026-03-01"}], "Î∂ÄÎèôÏÇ∞": [{"t": "Î∂ÄÏòÅÍ∑∏Î£π, Ïã†ÏûÑ ÌöåÏû•Ïóê Ïù¥Ïö©ÏÑ≠ Ï†Ñ Í±¥ÏÑ§ÍµêÌÜµÎ∂Ä Ïû•Í¥Ä ÏÑ†ÏûÑ", "l": "https://www.mk.co.kr/news/realestate/11976012", "d": "2026-03-02"}, {"t": "‚ÄúÌïúÍµ≠ ÏßëÍ∞í, Ïã§Ï†úÎ°† Í≥ÑÏÜç Îñ®Ïñ¥ÏßÄÎäî Ï§ë‚Äù...56Í∞úÍµ≠ Ï§ë 47ÏúÑ, Ïù¥Ïú†Îäî?", "l": "https://www.mk.co.kr/news/realestate/11976011", "d": "2026-03-02"}, {"t": "‚ÄúÌïúÍ∞ïÎ≤®Ìä∏Îäî Ïù¥ÎØ∏ ÎÑàÎ¨¥ Ïò¨ÎûêÎã§‚Äù‚Ä¶ÏÉÅÏäπÌè≠ Ïª§ÏßÑ ÏÑúÏö∏ Ïô∏Í≥Ω¬∑Í≤ΩÍ∏∞ ÏïÑÌååÌä∏", "l": "https://www.mk.co.kr/news/realestate/11975999", "d": "2026-03-02"}, {"t": "‚ÄúÎåÄÌÜµÎ†πÎèÑ Ïßë ÎÇ¥ÎÜ®ÎäîÎç∞‚Äù‚Ä¶Í∞ïÎÇ®Í∂å ÏïÑÌååÌä∏ÎèÑ ‚ÄòÌåîÏûê‚Äô Î∂ÑÏúÑÍ∏∞ ÌôïÏÇ∞Ï§ë", "l": "https://www.mk.co.kr/news/realestate/11975935", "d": "2026-03-02"}, {"t": "ÊùéÎåÄÌÜµÎ†π ‚ÄúÎã§Ï£ºÌÉùÏûêÍ∞Ä Ïßë ÏïàÌåîÍ≥† Î≤ÑÌã∞Î©¥ ÏÜêÏã§ÎêòÍ≤å Ìï† Í≤É‚Äù", "l": "https://www.mk.co.kr/news/realestate/11975873", "d": "2026-03-01"}, {"t": "Ïù¥Ïû¨Î™Ö ‚ÄúÎã§Ï£ºÌÉù ‚ÄòÌåîÏïÑÎùº‚Äô ‚ÄòÏÇ¨ÏßÄÎßàÎùº‚Äô Í∞ïÏöîÌï† ÌïÑÏöîÏóÜÏñ¥‚Ä¶ÏÑ∏Í∏à Í∏àÏúµ Îì± Ï≤†Ï†ÄÌûà ÏÑ§Í≥Ñ‚Äù", "l": "https://www.mk.co.kr/news/economy/11975867", "d": "2026-03-01"}, {"t": "‚ÄúÏ†ÑÏÑ∏ Î≥¥Ï¶ùÍ∏à Í∑∏ÎåÄÎ°úÏóê ÏõîÏÑ∏ ÏñπÏ£†‚Äù‚Ä¶Îß§Î¨º Ïî®ÎßàÎ•¥Ïûê ‚ÄòÎ∞∞Ïß± Ïû¨Í≥ÑÏïΩ‚Äô Í∏∞Ïäπ", "l": "https://www.mk.co.kr/news/realestate/11975825", "d": "2026-03-01"}, {"t": "'Í∏∞ÏßÄÍ∞ú' ÏºúÎäî Î¥Ñ Î∂ÑÏñë ‚Ä¶ Ï†ÑÍµ≠ 4370Í∞ÄÍµ¨", "l": "https://www.mk.co.kr/news/realestate/11975770", "d": "2026-03-01"}, {"t": "Ï†ÑÏÑ∏ Î≥¥Ï¶ùÍ∏à Ïò¨Î¶¨Î©¥ÏÑú ÏõîÏÑ∏ÎèÑ ÏñπÎäî Í≥ÑÏïΩ ÎäòÏñ¥ÎÇúÎã§", "l": "https://www.mk.co.kr/news/realestate/11975771", "d": "2026-03-01"}, {"t": "Î°ØÎç∞Í±¥ÏÑ§ 'Ï§ëÎåÄÏû¨Ìï¥ Ï†úÎ°ú' ÍµêÏú° Í∞ïÌôî", "l": "https://www.mk.co.kr/news/realestate/11975772", "d": "2026-03-01"}], "Íµ≠Ï†ú": [{"t": "‚ÄòÌïòÎ©îÎÑ§Ïù¥ ÏÇ¨Îßù 14ÏãúÍ∞ÑÎßå‚Äô ÎØ∏Íµ≠ Í∑úÌÉÑÌïú Ï§ëÍµ≠‚Ä¶‚ÄúÏ†ïÏÉÅÌöåÎã¥ ÏïûÎëêÍ≥† ÏàòÏúÑ Í≥†Ïã¨ÌïúÎìØ‚Äù", "l": "https://www.mk.co.kr/news/politics/11975887", "d": "2026-03-01"}, {"t": "Ïù¥Ïû¨Î™Ö ÎåÄÌÜµÎ†π ‚ÄúÎ∂ÅÌïúÏ≤¥Ï†ú Ï°¥Ï§ë‚Ä¶Ïã†Î¢∞ÌöåÎ≥µ Ï°∞Ïπò Í≥ÑÏÜç Ï∂îÏßÑ‚Äù", "l": "https://www.mk.co.kr/news/politics/11975885", "d": "2026-03-01"}, {"t": "‚ÄòÏù¥ÎûÄ Í≥µÏäµ‚Äô Í≥µÌè¨Í∞êÏóê Ìïµ Îçî ÏõÄÏºúÏ•ò ÍπÄÏ†ïÏùÄ‚Ä¶Î∂ÅÎØ∏ÎåÄÌôî ÏòÅÌñ•ÏùÄ", "l": "https://www.mk.co.kr/news/politics/11975878", "d": "2026-03-01"}, {"t": "[ÏÜçÎ≥¥] Î∂Å ‚ÄúÎØ∏Íµ≠Í≥º Ïù¥Ïä§ÎùºÏóòÏùò ÌõÑÏïàÎ¨¥ÏπòÌïú Î∂àÎüâÎ∞∞Ï†Å ÌñâÌÉú Í∞ïÎ†• Í∑úÌÉÑ‚Äù", "l": "https://www.mk.co.kr/news/politics/11975853", "d": "2026-03-01"}, {"t": "[ÏÜçÎ≥¥] Ïù¥Ïû¨Î™Ö ÎåÄÌÜµÎ†π ‚ÄúÍµ∞ÏÇ¨ Í∏¥Ïû• ÏôÑÌôîÌïòÍ≥† ÎÇ®Î∂Å Ïã†Î¢∞ÌöåÎ≥µ Ï°∞Ïπò Í≥ÑÏÜç Ï∂îÏßÑ‚Äù", "l": "https://www.mk.co.kr/news/politics/11975596", "d": "2026-03-01"}, {"t": "ÍπÄÏ†ïÏùÄ, Í∏àÏàòÏÇ∞ÌÉúÏñëÍ∂ÅÏ†Ñ Ï∞∏Î∞∞...Îãπ ÏßÄÎèÑÎ∂ÄÏôÄ Í≤∞ÏÜç Îã§Ï†∏", "l": "https://www.mk.co.kr/news/politics/11974103", "d": "2026-02-27"}, {"t": "‚ÄòÌÜµÎØ∏Î¥âÎÇ®‚Äô Î™ªÎ∞ïÏùÄ ÍπÄÏ†ïÏùÄ‚Ä¶‚ÄúÁæéÏôÄ Ï¢ãÍ≤å ÏßÄÎÇºÏàò ÏûàÏñ¥‚Äù ‚ÄúÂçóÏùÄ ÏòÅÏõêÌïú Ï†Å‚Äù", "l": "https://www.mk.co.kr/news/politics/11973409", "d": "2026-02-26"}, {"t": "[ÏÜçÎ≥¥] Ïù¥ ÎåÄÌÜµÎ†π ‚ÄúÏßÄÍ∏àÍπåÏßÄ ÎåÄÎ∂Å Î™®ÏöïÌñâÏúÑ, ÌèâÌôîÏóê ÎèÑÏõÄ ÎêêÎÇò ÎêòÏÉàÍ≤®Ïïº‚Äù", "l": "https://www.mk.co.kr/news/politics/11972887", "d": "2026-02-26"}, {"t": "ÍπÄÏ£ºÏï†, ÏïÑÎπ†Îûë ‚ÄòÏª§ÌîåÎ£©‚Äô‚Ä¶Í≤ÄÏ†ï Í∞ÄÏ£Ω Ïû¨ÌÇ∑ ÏûÖÍ≥† Âåó Ïó¥Î≥ëÏãù Îì±Ïû•", "l": "https://www.mk.co.kr/news/politics/11972818", "d": "2026-02-26"}, {"t": "ÍπÄÏ†ïÏùÄ ‚ÄúÂçóÏùÄ Ï≤†Ï†ÄÌïú Ï†ÅÎåÄÍµ≠, ÏòÅÏõêÌïú Ï†Å‚Äù...ÏêêÍ∏∞ Î∞ïÏïòÎã§", "l": "https://www.mk.co.kr/news/politics/11972656", "d": "2026-02-26"}], "ÏÇ∞ÏóÖ¬∑IT": [{"t": "‚ÄúÏô∏Íµ≠Ïù∏Îì§ Ï£ºÏãù Ï¢Ä ÎçòÏ†∏Ï£ºÏÑ∏Ïöî, Ïù¥Ï∞∏Ïóê Îì§Ïñ¥Í∞ÄÍ≤å‚Äù‚Ä¶Ï¶ùÏãú Îñ†Î∞õÏπòÎäî ‚ÄòÏä§ÎßàÌä∏ Í∞úÎØ∏‚Äô", "l": "https://www.mk.co.kr/news/stock/11976094", "d": "2026-03-02"}, {"t": "ÌïúÌà¨Ë≠â, ‰∏≠ 1ÏúÑ Íµ≠ÌÉúÌï¥ÌÜµË≠âÍ≥º MOU", "l": "https://www.mk.co.kr/news/stock/11976076", "d": "2026-03-02"}, {"t": "Áæé-Ïù¥ÎûÄ Ï†ÑÏüÅÏóê Ïò§ÌûàÎ†§ ÏÉÅÏäπÌïú ÎπÑÌä∏ÏΩîÏù∏¬∑¬∑¬∑6.6ÎßåÂºó ÌöåÎ≥µ[Îß§ÏùºÏΩîÏù∏]", "l": "https://www.mk.co.kr/news/stock/11975972", "d": "2026-03-02"}, {"t": "ÏßÄÎÇúÎã¨ ‚ÄòÎ∂àÏû•‚Äô ÏÜç ÏΩîÏä§Ìîº Í±∞ÎûòÎåÄÍ∏à ÏÇ¨ÏÉÅ ÏµúÎåÄ‚Ä¶30Ï°∞Ïõê ÎèåÌåå", "l": "https://www.mk.co.kr/news/stock/11975967", "d": "2026-03-02"}, {"t": "Ï†ÑÏüÅ ÏïÖÏû¨ ÎçÆÏπú ÏΩîÏä§ÌîºÏóê‚Ä¶ÏõîÍ∞ÄÎäî ‚ÄúÎã∑Ïª¥Î≤ÑÎ∏îÍ∏â Í¥ëÍ∏∞‚Äù Í≤ΩÍ≥†ÍπåÏßÄ", "l": "https://www.mk.co.kr/news/stock/11975909", "d": "2026-03-02"}, {"t": "1ÎÖÑÏÉà 4Î∞∞ Ïª§ÏßÑ ÏõêÏûêÏû¨ ÌÜ†ÌÅ∞Ìôî‚Ä¶‚ÄòÍ∏à‚ÄôÏù¥ ÏãúÏû• Ïù¥ÎÅàÎã§", "l": "https://www.mk.co.kr/news/stock/11975894", "d": "2026-03-01"}, {"t": "ÌïòÎ©îÎÑ§Ïù¥ ÏÇ¨ÎßùÏóê ÎπÑÌä∏ÏΩîÏù∏ Î∞òÎì±¬∑Í∏àÍ∞í ÏöîÎèô‚Ä¶ÏõêÌôîÍ∞í Í∏âÎùΩ Ï†ÑÎßùÎèÑ", "l": "https://www.mk.co.kr/news/stock/11975879", "d": "2026-03-01"}, {"t": "2030 ‚ÄúÏà† ÎßàÏã§ ÏãúÍ∞ÑÏóê Ï£ºÏãù Ìï©ÎãàÎã§‚Äù‚Ä¶Î∂àÏû•Ïóê Ïó≠Ï£ºÌñâ Ï§ëÏù∏ Ï£ºÎ•òÊ†™", "l": "https://www.mk.co.kr/news/stock/11975826", "d": "2026-03-01"}, {"t": "ÌïòÎ©îÎÑ§Ïù¥ ÏÇ¨ÎßùÏóê ÎπÑÌä∏ÏΩîÏù∏ Î∞òÎì± ‚Ä¶ Í∏àÍ∞íÎèÑ ÏöîÎèô", "l": "https://www.mk.co.kr/news/stock/11975801", "d": "2026-03-01"}, {"t": "Ïà† Ïïà ÎßàÏãúÎäî MZ‚Ä¶Ï£ºÎ•òÌöåÏÇ¨ Ï£ºÍ∞Ä¬∑Ïã§Ï†Å 'Îöù'", "l": "https://www.mk.co.kr/news/stock/11975784", "d": "2026-03-01"}]};</script><div style="display:flex;align-items:center;gap:8px;margin-bottom:8px;"><strong style="color:#fbbf24;font-size:0.82em;letter-spacing:0.03em;">üì∞ Îß§ÏùºÍ≤ΩÏ†ú</strong><select id="mk-cat-sel" onchange="mkShow(this.value)" style="background:#1e2535;color:#f8fafc;border:1px solid rgba(255,255,255,0.15);border-radius:6px;padding:2px 10px;font-size:0.75rem;cursor:pointer;"><option value="Ï¶ùÍ∂å" selected>Ï¶ùÍ∂å</option><option value="Í≤ΩÏ†ú" >Í≤ΩÏ†ú</option><option value="Î∂ÄÎèôÏÇ∞" >Î∂ÄÎèôÏÇ∞</option><option value="Íµ≠Ï†ú" >Íµ≠Ï†ú</option><option value="ÏÇ∞ÏóÖ¬∑IT" >ÏÇ∞ÏóÖ¬∑IT</option></select></div><div id="mk-articles-box"></div><script>if(typeof mkShow==="function"){mkShow("Ï¶ùÍ∂å");}</script></div>
                        <!-- RIGHT_CARD_END -->
                    </div>
                </div>
            </div>
<!-- MARKET_NEWS_CARD_END -->

                <!-- ÌûàÌä∏Îßµ ÏÑπÏÖò (Full Width) -->
                <div class="card heatmap-card" style="margin: 20px; padding: 0; overflow: hidden;">
                    <div
                        style="display:flex; justify-content:space-between; align-items:center; padding:20px; border-bottom:1px solid #edf2f7;">
                        <h3 class="section-title" style="border:none; padding:0; margin:0;">üìä Market Heat Map</h3>
                        <div style="display:flex; align-items:center; gap:15px;">
                            <!-- Ïô∏Î∂Ä ÎßÅÌÅ¨ Î∞∞ÏßÄ -->
                            <div style="display:flex; align-items:center; gap:8px;">
                                <span style="font-size:0.78rem; color:#94a3b8; white-space:nowrap;">Ïã§ÏãúÍ∞ÑÏúºÎ°ú ÌôïÏù∏ÌïòÎ†§Î©¥ ‚Üí</span>
                                <a href="https://www.tradingview.com/heatmap/stock/" target="_blank"
                                    rel="noopener noreferrer" class="btn-sm"
                                    style="background:#f1f5f9; text-decoration:none; display:flex; align-items:center; gap:4px;">
                                    üìà TradingView
                                </a>
                                <a href="https://finviz.com/map.ashx" target="_blank" rel="noopener noreferrer"
                                    class="btn-sm"
                                    style="background:#f1f5f9; text-decoration:none; display:flex; align-items:center; gap:4px;">
                                    üó∫Ô∏è Finviz
                                </a>
                            </div>
                            <select id="mapSelector" onchange="updateTradingViewMap()" class="search-input"
                                style="width: auto; padding: 6px 12px; margin: 0;">
                                <option value="S&P 500">S&P 500</option>
                                <option value="Nasdaq 100">Nasdaq 100</option>
                            </select>
                        </div>
                    </div>
                    <!-- ÌôïÎåÄ/Ï∂ïÏÜå ÏïàÎÇ¥ -->
                    <div style="padding:6px 20px; background:#f8fafc; border-bottom:1px solid #edf2f7; font-size:0.78rem; color:#64748b;">
                        üñ±Ô∏è <strong>Ctrl + Ïä§ÌÅ¨Î°§</strong>Î°ú ÌôïÎåÄ/Ï∂ïÏÜå &nbsp;|&nbsp; ÏùºÎ∞ò Ïä§ÌÅ¨Î°§ÏùÄ ÌéòÏù¥ÏßÄ Ïù¥Îèô
                    </div>
                    <!-- Ïò§Î≤ÑÎ†àÏù¥Î°ú ÏùºÎ∞ò Ïä§ÌÅ¨Î°§ Ï∞®Îã®, Ctrl+Ïä§ÌÅ¨Î°§Îßå iframeÏóê Ï†ÑÎã¨ -->
                    <div style="position:relative; width:100%; height:800px;">
                        <div id="tradingview_heatmap_container" style="width:100%; height:100%;"></div>
                        <div id="heatmap-scroll-overlay" style="
                            position:absolute; top:0; left:0; width:100%; height:100%;
                            z-index:10; pointer-events:auto; cursor:default;
                        "></div>
                    </div>
                </div>




            </div>

            <!-- Í≤ΩÏ†ú Ï∫òÎ¶∞Îçî ÏÑπÏÖò -->
            <div class="card calendar-card" style="padding: 24px;">
                <h3 class="section-title">üìÖ Ïã§ÏãúÍ∞Ñ Í≤ΩÏ†ú Ï∫òÎ¶∞Îçî</h3>
                <p style="margin:4px 0 12px; font-size:0.78rem; color:#94a3b8;">
                    ‚ÑπÔ∏è TradingView Í≤ΩÏ†ú Ï∫òÎ¶∞ÎçîÎäî iframe Î∞©ÏãùÏúºÎ°ú Ï†úÍ≥µÎêòÏñ¥ ÏßÄÌëúÎ™Ö¬∑ÎÇ†ÏßúÍ∞Ä ÏòÅÏñ¥Î°ú ÌëúÏãúÎê©ÎãàÎã§. ÏßÄÌëú ÌÅ¥Î¶≠ Ïãú ÏòàÏÉÅÏπò¬∑Ïã§Ï†úÏπò¬∑Ïù¥Ï†ÑÏπòÎ•º ÌôïÏù∏Ìï† Ïàò ÏûàÏúºÎ©∞, ÌïòÎã® <strong style="color:#667eea;">More events</strong>Î•º ÌÅ¥Î¶≠ÌïòÎ©¥ Ï†ÑÏ≤¥ ÏùºÏ†ïÏùÑ Î≥º Ïàò ÏûàÏäµÎãàÎã§.
                </p>
                <div class="tradingview-widget-container" style="height: 600px;">
                    <div class="tradingview-widget-container__widget"></div>
                    <script type="text/javascript"
                        src="https://s3.tradingview.com/external-embedding/embed-widget-events.js" async>
                            {
                                "colorTheme": "light", "isTransparent": false,
                                "width": "100%", "height": 600, "locale": "ko",
                                "importanceFilter": "0,1",
                                "currencyFilter": "USD,EUR,JPY,KRW,CNY,GBP"
                            }
                    </script>
                </div>
            </div>

            <script>
                // ‚îÄ‚îÄ ÌûàÌä∏Îßµ Ïä§ÌÅ¨Î°§ Ï†úÏñ¥: Ctrl+Ïä§ÌÅ¨Î°§Îßå ÌôïÎåÄ/Ï∂ïÏÜå ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
                (function() {
                    function initHeatmapScrollGuard() {
                        var overlay = document.getElementById('heatmap-scroll-overlay');
                        if (!overlay) return;

                        // Ctrl ÎàÑÎ¶Ñ ‚Üí Ïò§Î≤ÑÎ†àÏù¥ Ìà¨Î™ÖÌôî(pointer-events:none) ‚Üí iframeÏù¥ Ïä§ÌÅ¨Î°§ Î∞õÏùå
                        document.addEventListener('keydown', function(e) {
                            if (e.key === 'Control' || e.key === 'Meta') {
                                overlay.style.pointerEvents = 'none';
                            }
                        });
                        // Ctrl Îóå ‚Üí Ïò§Î≤ÑÎ†àÏù¥ Î≥µÍµ¨ ‚Üí iframe Ïä§ÌÅ¨Î°§ Ï∞®Îã®
                        document.addEventListener('keyup', function(e) {
                            if (e.key === 'Control' || e.key === 'Meta') {
                                overlay.style.pointerEvents = 'auto';
                            }
                        });
                        // Ìè¨Ïª§Ïä§ Î≤óÏñ¥ÎÇ† ÎïåÎèÑ Î≥µÍµ¨ (Alt+Tab Îì±)
                        window.addEventListener('blur', function() {
                            overlay.style.pointerEvents = 'auto';
                        });
                        // Ïò§Î≤ÑÎ†àÏù¥ ÏúÑ Ïä§ÌÅ¨Î°§ ‚Üí ÌéòÏù¥ÏßÄ Ïä§ÌÅ¨Î°§Î°ú Ï†ÑÎã¨
                        overlay.addEventListener('wheel', function(e) {
                            e.preventDefault();
                            window.scrollBy({ top: e.deltaY, behavior: 'auto' });
                        }, { passive: false });
                    }
                    if (document.readyState === 'loading') {
                        document.addEventListener('DOMContentLoaded', initHeatmapScrollGuard);
                    } else {
                        initHeatmapScrollGuard();
                    }
                })();

                function updateTradingViewMap() {
                    const selector = document.getElementById('mapSelector');
                    const container = document.getElementById('tradingview_heatmap_container');

                    // 1. Í∏∞Ï°¥ ÏúÑÏ†Ø ÎπÑÏö∞Í∏∞
                    container.innerHTML = '<div style="display:flex; justify-content:center; align-items:center; height:100%; color:#64748b;">üîÑ Ïã§ÏãúÍ∞Ñ Îßµ Î°úÎî© Ï§ë...</div>';

                    // 2. ÏÑ†ÌÉùÎêú ÎßµÏóê Îî∞Îùº Îç∞Ïù¥ÌÑ∞ ÏÜåÏä§ ÏÑ§Ï†ï
                    let dataSource = selector.value; // "S&P 500" ÎòêÎäî "Nasdaq 100" ÏßÅÏ†ë ÏÇ¨Ïö©

                    // 3. ÏúÑÏ†Ø Ïä§ÌÅ¨Î¶ΩÌä∏ ÏÉùÏÑ± Î∞è ÏÑ§Ï†ï
                    const script = document.createElement('script');
                    script.type = 'text/javascript';
                    // ÌÉÄÏûÑÏä§ÌÉ¨ÌîÑÎ•º Ï∂îÍ∞ÄÌïòÏó¨ Ï∫êÏãúÎ•º Î∞©ÏßÄÌïòÍ≥† Ïã§ÏãúÍ∞ÑÏÑ± ÌôïÎ≥¥
                    script.src = 'https://s3.tradingview.com/external-embedding/embed-widget-stock-heatmap.js?v=' + Date.now();
                    script.async = true;

                    const config = {
                        "dataSource": dataSource,
                        "grouping": "sector",
                        "blockSize": "market_cap_basic",
                        "blockColor": "change",
                        "locale": "ko",
                        "symbolUrl": "",
                        "colorTheme": "light",
                        "hasTopBar": true,
                        "isTransparent": false,
                        "hasSymbolTooltip": true,
                        "width": "100%",
                        "height": "100%"
                    };

                    script.text = JSON.stringify(config);

                    // Î°úÎî© Î©îÏãúÏßÄ Ï†úÍ±∞ ÌõÑ Ï∂îÍ∞Ä
                    setTimeout(() => {
                        container.innerHTML = '';
                        container.appendChild(script);
                    }, 100);
                }
            </script>




        </div>

        <!-- Î¶¨Ìè¨Ìä∏ ÏÑ†ÌÉùÍ∏∞ ÏÑπÏÖò -->
        <div class="controls">
            <h3 class="section-title">üìΩÔ∏è Î∂ÑÏÑù Î¶¨Ìè¨Ìä∏ ÏÑ†ÌÉù Î∞è Ï°∞Ìöå</h3>
            <div class="grid-top-row">
                <!-- Ï¢ÖÎ™© Î¶¨Ìè¨Ìä∏ -->
                <div class="category-section featured">
                    <div class="category-header">
                        <div class="category-icon">üìà</div>
                        <div class="category-title">
                            <div
                                style="display: flex; justify-content: space-between; align-items: center; width: 100%;">
                                <h3>Ï£ºÏãù Ï¢ÖÎ™© Î¶¨Ìè¨Ìä∏ <span class="badge">MAIN</span></h3>
                                <a href="methodology.html" target="_blank" rel="noopener noreferrer" class="btn-sm"
                                    style="text-decoration: none;">üìù Î∞©Î≤ïÎ°†</a>
                            </div>
                            <p>Í∏∞Ïà†Ï†Å Î∂ÑÏÑù Î∞è Îß§Ïàò Ï†ÑÎûµ</p>
                        </div>
                    </div>
                    <div class="selector-row">
                        <select id="dateRecommendation"></select>
                        <button class="btn-load" onclick="loadReport('recommendation')">üìÑ Î∂àÎü¨Ïò§Í∏∞</button>
                    </div>
                </div>

                <!-- Í∏âÎì± Ï¢ÖÎ™© Î¶¨Ìè¨Ìä∏ -->
                <div class="category-section featured">
                    <div class="category-header">
                        <div class="category-icon">üöÄ</div>
                        <div class="category-title">
                            <div
                                style="display: flex; justify-content: space-between; align-items: center; width: 100%;">
                                <h3>Í∏âÎì± Ï¢ÖÎ™© Î¶¨Ìè¨Ìä∏ <span class="badge">ALERT</span></h3>
                                <a href="7Factor.html" target="_blank" rel="noopener noreferrer" class="btn-sm"
                                    style="text-decoration: none;">üìù Î∞©Î≤ïÎ°†</a>
                            </div>
                            <p>Í∏âÎì± ÌÉêÏßÄ Î∞è 7ÏöîÏÜå Î∂ÑÏÑù</p>
                        </div>
                    </div>
                    <div class="selector-row">
                        <select id="dateShoot"></select>
                        <button class="btn-load" onclick="loadReport('shoot')">üìÑ Î∂àÎü¨Ïò§Í∏∞</button>
                    </div>
                </div>

                <!-- ÏãúÌô© & Î≥¥Í≥†ÏÑú -->
                <div class="category-section news">
                    <div class="category-header">
                        <div class="category-icon">üì∞</div>
                        <div class="category-title">
                            <h3>ÏãúÌô© & Î≥¥Í≥†ÏÑú <span class="badge news">NEW</span></h3>
                            <p>Í∏ÄÎ°úÎ≤å Í±∞Ïãú Í≤ΩÏ†ú Î∞è Ï£ºÏöî Í≥µÏãú</p>
                        </div>
                    </div>
                    <div class="selector-row">
                        <select id="dateNews"></select>
                        <button class="btn-load" onclick="loadReport('news')">üìÑ Î∂àÎü¨Ïò§Í∏∞</button>
                    </div>
                </div>
            </div>

            <div class="grid-bottom-row" style="margin-top: 20px;">
                <!-- ÏÉÅÏÑ∏ Î∂ÑÏÑù ÎèÑÍµ¨ -->
                <div class="category-section">
                    <div class="category-header">
                        <div class="category-icon">üí∞</div>
                        <div class="category-title">
                            <h3>[Î∂ÑÏÑù1] ÎØ∏Íµ≠ÏãúÏû• Ïú†ÎèôÏÑ±</h3>
                            <p>Ïó∞Ï§Ä Ï†ïÏ±Ö Î∞è Í∏àÏúµ Ïó¨Í±¥ Î∂ÑÏÑù</p>
                        </div>
                    </div>
                    <div class="selector-row">
                        <select id="dateAnalysis1"></select>
                        <button class="btn-load" onclick="loadReport('analysis1')">üîç Î∂ÑÏÑù</button>
                    </div>
                </div>
                <div class="category-section">
                    <div class="category-header">
                        <div class="category-icon">üìä</div>
                        <div class="category-title">
                            <h3>[Î∂ÑÏÑù2] ETF ÏûêÍ∏à ÌùêÎ¶Ñ</h3>
                            <p>ÌÖåÎßàÎ≥Ñ ÏûêÍ∏à Ïú†ÏûÖ Ï≤¥ÌÅ¨</p>
                        </div>
                    </div>
                    <div class="selector-row">
                        <select id="dateAnalysis2"></select>
                        <button class="btn-load" onclick="loadReport('analysis2')">üîç Î∂ÑÏÑù</button>
                    </div>
                </div>
                <div class="category-section">
                    <div class="category-header">
                        <div class="category-icon">üëî</div>
                        <div class="category-title">
                            <h3>[Î∂ÑÏÑù3] ÎÇ¥Î∂ÄÏûê Îß§Ïàò Î∂ÑÏÑù</h3>
                            <p>Í≤ΩÏòÅÏßÑ Í≥†ÌôïÏã† Îß§Ïàò ÏãúÍ∑∏ÎÑê</p>
                        </div>
                    </div>
                    <div class="selector-row">
                        <select id="dateAnalysis3"></select>
                        <button class="btn-load" onclick="loadReport('analysis3')">üîç Î∂ÑÏÑù</button>
                    </div>
                </div>
                <div class="category-section">
                    <div class="category-header">
                        <div class="category-icon">üéØ</div>
                        <div class="category-title">
                            <h3>[Î∂ÑÏÑù4] Ïï†ÎÑêÎ¶¨Ïä§Ìä∏ Î™©Ìëú</h3>
                            <p>ÏõîÍ∞Ä Î™©ÌëúÏ£ºÍ∞Ä ÏÉÅÌñ• Ï∂îÏ†Å</p>
                        </div>
                    </div>
                    <div class="selector-row">
                        <select id="dateAnalysis4"></select>
                        <button class="btn-load" onclick="loadReport('analysis4')">üîç Î∂ÑÏÑù</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="pdf-viewer">
            <div id="pdfContent" class="info">
                <h3>üëã ÌôòÏòÅÌï©ÎãàÎã§!</h3>
                <p style="margin-top: 10px;">ÏúÑÏóêÏÑú Ïπ¥ÌÖåÍ≥†Î¶¨ÏôÄ ÎÇ†ÏßúÎ•º ÏÑ†ÌÉùÌïú ÌõÑ "Î∂àÎü¨Ïò§Í∏∞" Î≤ÑÌäºÏùÑ ÌÅ¥Î¶≠ÌïòÏÑ∏Ïöî.</p>
                <ul style="margin-top: 15px;">
                    <li><strong>Ï∂îÏ≤ú Ï¢ÖÎ™©:</strong> Ìà¨Ïûê Ï∂îÏ≤ú Î∞è Îß§Îß§ Ï†ÑÎûµ</li>
                    <li><strong>Í∏âÎì± Ï¢ÖÎ™©:</strong> Í∏âÎì± Ï¢ÖÎ™© ÌÉêÏßÄ Î∞è 7Í∞ÄÏßÄ ÏöîÏÜå Î∂ÑÏÑù <span style="color: #dc3545; font-weight: 700;">üöÄ
                            NEW!</span></li>
                    <li><strong>Ï¢ÖÎ™© Îâ¥Ïä§:</strong> Ï£ºÏöî Ï¢ÖÎ™© Îâ¥Ïä§ Î∞è ÏãúÏû• ÎèôÌñ• <span
                            style="color: #28a745; font-weight: 700;">NEW!</span>
                    </li>
                    <li><strong>Î∂ÑÏÑù1:</strong> ÎØ∏Íµ≠ ÏãúÏû• Ïú†ÎèôÏÑ± Î∞è ÏûêÏÇ∞ Î∞∞Î∂Ñ</li>
                    <li><strong>Î∂ÑÏÑù2:</strong> ETF ÏûêÍ∏à ÌùêÎ¶Ñ Î∞è ÏÑπÌÑ∞ Î°úÌÖåÏù¥ÏÖò</li>
                    <li><strong>Î∂ÑÏÑù3:</strong> ÎÇ¥Î∂ÄÏûê Îß§Ïàò ÏãúÍ∑∏ÎÑê</li>
                    <li><strong>Î∂ÑÏÑù4:</strong> Ïï†ÎÑêÎ¶¨Ïä§Ìä∏ Î™©ÌëúÍ∞Ä ÏÉÅÌñ•</li>
                </ul>
            </div>
        </div>

        <!-- Footer with Source (Ï∂úÏ≤ò ÌÜµÌï©) -->
        <div class="footer">
            <div class="footer-content">
                <h4>üìö 4Í∞ÄÏßÄ Î∂ÑÏÑù ÌîÑÎ†àÏûÑÏõåÌÅ¨ Ï∂úÏ≤ò</h4>
                <a href="https://youtu.be/R8Re7W02oxg?si=-Yi1xNDBs4HaYRyO" target="_blank" class="footer-source">
                    Î∂ÑÏÑù Î∞©Î≤ïÎ°† ÏÉÅÏÑ∏ ÏòÅÏÉÅ Î≥¥Í∏∞
                </a>
                <p>
                    Î∂ÑÏÑù1~4Ïùò ÌîÑÎ†àÏûÑÏõåÌÅ¨Îäî ÏúÑ ÏòÅÏÉÅÏùÑ Í∏∞Î∞òÏúºÎ°ú ÏûëÏÑ±ÎêòÏóàÏäµÎãàÎã§.<br>
                    Ìà¨ÏûêÏóê ÎåÄÌïú Î™®Îì† Ï±ÖÏûÑÏùÄ Ìà¨ÏûêÏûê Î≥∏Ïù∏ÏóêÍ≤å ÏûàÏäµÎãàÎã§.
                </p>
            </div>
        </div>

        <script>
            console.log('==========================================');
            console.log('  üì¶ ÌååÏùº Î≤ÑÏ†Ñ: v1771922054');
            console.log('  üïê Î°úÎìú ÏãúÍ∞Ñ:', new Date().toLocaleString());
            console.log('==========================================');

            const reportFiles = {
                recommendation: {
                    '2026-02-22': { file: 'reports/recommendation/2026-02-22_catalyst.pdf', title: 'Îã®Í∏∞' },
                    '2026-02-21': { file: 'reports/recommendation/2026-02-22_analysis.pdf', title: 'Ï§ëÍ∏∞' },
                    '2026-02-18': { file: 'reports/recommendation/2026-02-18_catalyst.pdf', title: 'Îã®Í∏∞' },
                    '2026-02-12': { file: 'reports/recommendation/2026-02-12_catalyst.pdf', title: 'Îã®Í∏∞' },
                    '2026-02-09': { file: 'reports/recommendation/2026-02-09_analysis.pdf', title: 'Ï§ëÍ∏∞' },
                    '2026-02-06': { file: 'reports/recommendation/2026-02-06_analysis.pdf', title: 'Ï§ëÍ∏∞' }
                },
                shoot: { '2026-02-22': { file: 'reports/shoot/2026-02-22_shoot.pdf', title: 'VRNS/KKR/QDEL/RAL' } },
                news: {
                    '2026-02-17': { file: 'reports/news/US_Market_Analysis_20260217.pdf', title: 'Í∏àÏùº ÎØ∏Íµ≠ ÏãúÌô©' },
                    '2026-02-16': { file: 'reports/news/memory_supercycle.pdf', title: 'Î©îÎ™®Î¶¨ ÏÇ¨ÏóÖÏùò Ï†ÑÎßù' },
                    '2026-02-15': { file: 'reports/news/2026-02-15_news.pdf', title: 'Ï£ºÍ∞Ñ ÏãúÏû• ÎèôÌñ•' }
                },
                analysis1: {
                    '2026-03-02': { file: 'reports/analysis1/2026-03-02_liquidity.pdf', title: 'Ïú†ÎèôÏÑ± Î¶¨Ìè¨Ìä∏' },
                    '2026-02-10': { file: 'reports/analysis1/2026-02-10_liquidity.pdf', title: 'Ïú†ÎèôÏÑ± Î¶¨Ìè¨Ìä∏' }
                },
                analysis2: {
                    '2026-03-02': { file: 'reports/analysis2/2026-03-02_etf.pdf', title: 'ETF Î¶¨Ìè¨Ìä∏' },
                    '2026-02-10': { file: 'reports/analysis2/2026-02-10_etf.pdf', title: 'ETF Î¶¨Ìè¨Ìä∏' }
                },
                analysis3: {
                    '2026-03-02': { file: 'reports/analysis3/2026-03-02_insider.pdf', title: 'ÎÇ¥Î∂ÄÏûê Î∂ÑÏÑù' },
                    '2026-02-10': { file: 'reports/analysis3/2026-02-10_insider.pdf', title: 'ÎÇ¥Î∂ÄÏûê Î∂ÑÏÑù' }
                },
                analysis4: {
                    '2026-03-02': { file: 'reports/analysis4/2026-03-02_analyst.pdf', title: 'Ïï†ÎÑêÎ¶¨Ïä§Ìä∏ Î∂ÑÏÑù' },
                    '2026-02-10': { file: 'reports/analysis4/2026-02-10_analyst.pdf', title: 'Ïï†ÎÑêÎ¶¨Ïä§Ìä∏ Î∂ÑÏÑù' }
                }
            };
            const categories = {
                recommendation: { name: 'Ï∂îÏ≤ú Ï¢ÖÎ™©', icon: 'üéØ', selectId: 'dateRecommendation' },
                shoot: { name: 'Í∏âÎì± Ï¢ÖÎ™©', icon: 'üöÄ', selectId: 'dateShoot' },
                news: { name: 'Îâ¥Ïä§', icon: 'üì∞', selectId: 'dateNews' },
                analysis1: { name: 'Ïú†ÎèôÏÑ±', icon: 'üí∞', selectId: 'dateAnalysis1' },
                analysis2: { name: 'ETF', icon: 'üìà', selectId: 'dateAnalysis2' },
                analysis3: { name: 'ÎÇ¥Î∂ÄÏûê', icon: 'üîç', selectId: 'dateAnalysis3' },
                analysis4: { name: 'Ïï†ÎÑêÎ¶¨Ïä§Ìä∏', icon: 'üìä', selectId: 'dateAnalysis4' }
            };




            function loadDateList() {
                Object.keys(categories).forEach(categoryKey => {
                    const category = categories[categoryKey], select = document.getElementById(category.selectId);
                    if (!select) return;
                    select.innerHTML = "";
                    const dates = Object.keys(reportFiles[categoryKey]).sort().reverse();
                    dates.forEach(date => {
                        const option = document.createElement('option'); option.value = date;
                        if (categoryKey === 'news' || categoryKey === 'recommendation' || categoryKey === 'shoot') {
                            const data = reportFiles[categoryKey][date]; option.textContent = formatDate(date) + ' ¬∑ ' + data.title;
                        } else option.textContent = formatDate(date);
                        select.appendChild(option);
                    });
                });
            }
            function formatDate(dateStr) {
                const date = new Date(dateStr), month = date.getMonth() + 1, day = date.getDate();
                const weekday = ['Ïùº', 'Ïõî', 'Ìôî', 'Ïàò', 'Î™©', 'Í∏à', 'ÌÜ†'][date.getDay()];
                return month + 'Ïõî ' + day + 'Ïùº (' + weekday + ')';
            }
            // ÏãúÏû• Ïã¨Î¶¨ ÏúÑÏ†Ø Î≥ÄÍ≤Ω Ìï®Ïàò (TradingView Í∏∞Ïà†Ï†Å Î∂ÑÏÑù ÏúÑÏ†Ø)
            function changeSentiment(symbol) {
                const container = document.getElementById('sentiment-widget-container');
                if (!container) return;

                // TradingView ÌëúÏ§Ä Íµ¨Ï°∞Ïóê ÎßûÏ∂∞ ÎÇ¥Î∂Ä Ï¥àÍ∏∞Ìôî
                container.innerHTML = `
                <div class="tradingview-widget-container" style="width: 100%; height: 100%;">
                    <div class="tradingview-widget-container__widget"></div>
                    <div class="tradingview-widget-copyright">
                        <a href="https://kr.tradingview.com/" rel="noopener nofollow" target="_blank">
                            <span class="blue-text">Ìä∏Î†àÏù¥Îî©Î∑∞ Í∏∞Ïà†Ï†Å Î∂ÑÏÑù</span>
                        </a>
                    </div>
                </div>
            `;

                const script = document.createElement('script');
                script.type = 'text/javascript';
                script.src = 'https://s3.tradingview.com/external-embedding/embed-widget-technical-analysis.js';
                script.async = true;

                const config = {
                    "interval": "1m",
                    "width": "100%",
                    "isTransparent": false,
                    "height": 400, // ÎÜíÏù¥Î•º ÏÉÅÌñ•ÌïòÏó¨ Í∞ÄÎèÖÏÑ± ÌôïÎ≥¥
                    "symbol": symbol,
                    "showIntervalTabs": true,
                    "displayMode": "single",
                    "locale": "ko",
                    "colorTheme": "light"
                };

                script.text = JSON.stringify(config);
                container.querySelector('.tradingview-widget-container').appendChild(script);

                // Ïª®ÌÖåÏù¥ÎÑà ÏûêÏ≤¥ ÎÜíÏù¥ Ï°∞Ï†à (Î∂ÄÎ™® divÏóê ÎßûÏ∂∞ÏÑú)
                container.style.height = "400px";
                console.log(`üìä ÏãúÏû• Ïã¨Î¶¨ Î≥ÄÍ≤Ω ÏôÑÎ£å: ${symbol}`);
            }

            // Ï†úÎ™© ÌïúÍµ≠Ïñ¥ Î≤àÏó≠
            // 1Ï∞®: Google Î¨¥Î£å API (gtx, Îçî ÏïàÏ†ïÏ†Å)
            // 2Ï∞®: MyMemory API (Ìè¥Î∞±)
            // null Î∞òÌôò = Î≤àÏó≠ Ïã§Ìå®, string Î∞òÌôò = Î≤àÏó≠ ÏÑ±Í≥µ
            async function translateTitle(title) {
                // 1Ï∞®: Google ÎπÑÍ≥µÏãù Î¨¥Î£å API
                try {
                    const ctrl = new AbortController();
                    setTimeout(() => ctrl.abort(), 8000);
                    const url = 'https://translate.googleapis.com/translate_a/single?client=gtx&sl=en&tl=ko&dt=t&q=' +
                        encodeURIComponent(title.slice(0, 500));
                    const res = await fetch(url, { signal: ctrl.signal });
                    const data = await res.json();
                    if (Array.isArray(data) && Array.isArray(data[0])) {
                        const text = data[0].map(function(c) { return c[0] || ''; }).join('');
                        if (text) return text;
                    }
                } catch(e) {}
                // 2Ï∞®: MyMemory Ìè¥Î∞±
                try {
                    const ctrl2 = new AbortController();
                    setTimeout(() => ctrl2.abort(), 7000);
                    const url2 = 'https://api.mymemory.translated.net/get?q=' +
                        encodeURIComponent(title.slice(0, 500)) + '&langpair=en|ko';
                    const res2 = await fetch(url2, { signal: ctrl2.signal });
                    const json2 = await res2.json();
                    if (json2.responseStatus === 200 && json2.responseData && json2.responseData.translatedText) {
                        const t = json2.responseData.translatedText;
                        if (t && !t.includes('MYMEMORY WARNING')) return t;
                    }
                } catch(e2) {}
                return null; // Ïã§Ìå® Ïãú null (ÏõêÎ¨∏ Ïú†ÏßÄ)
            }

            // Îâ¥Ïä§ Ï¶âÏãú Î†åÎçîÎßÅ (ÏòÅÏñ¥ Ï†úÎ™©ÏúºÎ°ú Î®ºÏ†Ä ÌëúÏãú, data-idx ÏÜçÏÑ± Î∂ÄÏó¨)
            function renderNews(newsData, apiSource) {
                const container = document.getElementById('newsContainer');
                container.innerHTML = '';
                // Î≤àÏó≠ ÏãúÏûë Ï†Ñ: Î≤ÑÌäº Î°úÎî© ÏÉÅÌÉú
                var _ltBtn = document.getElementById('newsLangToggle');
                if (_ltBtn) { _ltBtn.textContent = 'üåê Î≤àÏó≠ Ï§ë...'; _ltBtn.disabled = true; }
                newsData.forEach(function(news, idx) {
                    var timeStr = news.published_at ? new Date(news.published_at).toLocaleString('ko-KR') : '';
                    var srcLabel = news.source || apiSource;
                    var html = '<div class="news-item">' +
                        '<a href="' + news.url + '" target="_blank" rel="noopener" class="news-link"' +
                        ' title="' + (news.title || '').replace(/"/g, '&quot;') + '">' +
                        '<div class="news-title" data-idx="' + idx + '" data-orig="' +
                            (news.title || '').replace(/"/g, '&quot;') + '">üì¢ ' + (news.title || '') + '</div>' +
                        '<div class="news-meta">' + srcLabel + ' ¬∑ ' + timeStr + '</div>' +
                        '</a></div>';
                    container.insertAdjacentHTML('beforeend', html);
                });
            }

            // Î∞±Í∑∏ÎùºÏö¥Îìú ÏàúÏ∞® Î≤àÏó≠ ‚Üí data-ko Ï†ÄÏû• + ÌïúÍµ≠Ïñ¥ Î™®ÎìúÎ©¥ Ï¶âÏãú ÌëúÏãú
            async function translateAndUpdate(newsData) {
                var container = document.getElementById('newsContainer');
                for (var i = 0; i < newsData.length; i++) {
                    var ko = await translateTitle(newsData[i].title);
                    if (ko) {
                        var el = container.querySelector('.news-title[data-idx="' + i + '"]');
                        if (el) {
                            el.setAttribute('data-ko', ko);
                            if (_newsLangKo) el.textContent = 'üì¢ ' + ko;
                        }
                    }
                    // 200ms Í∞ÑÍ≤© ‚Üí API Î†àÏù¥Ìä∏ Î¶¨Î∞ã Î∞©ÏßÄ
                    if (i < newsData.length - 1) {
                        await new Promise(function(r) { setTimeout(r, 200); });
                    }
                }
                // Î≤àÏó≠ ÏôÑÎ£å ÌõÑ Î≤ÑÌäº ÌôúÏÑ±Ìôî
                var btn = document.getElementById('newsLangToggle');
                if (btn) {
                    btn.disabled = false;
                    btn.textContent = _newsLangKo ? 'üåê English' : 'üåê ÌïúÍµ≠Ïñ¥';
                }
            }

            // Îâ¥Ïä§ Ïñ∏Ïñ¥ ÌÜ†Í∏Ä (ÌïúÍµ≠Ïñ¥ ‚Üî ÏòÅÏñ¥)
            function toggleNewsLang() {
                _newsLangKo = !_newsLangKo;
                var btn = document.getElementById('newsLangToggle');
                var titles = document.querySelectorAll('#newsContainer .news-title');
                titles.forEach(function(el) {
                    if (_newsLangKo) {
                        var ko = el.getAttribute('data-ko');
                        el.textContent = 'üì¢ ' + (ko || el.getAttribute('data-orig') || '');
                    } else {
                        el.textContent = 'üì¢ ' + (el.getAttribute('data-orig') || '');
                    }
                });
                if (btn) btn.textContent = _newsLangKo ? 'üåê English' : 'üåê ÌïúÍµ≠Ïñ¥';
            }

            // Ïã§ÏãúÍ∞Ñ Îâ¥Ïä§ Î°úÎî©
            async function loadNews() {
                const container = document.getElementById('newsContainer');
                if (!container) return;

                container.innerHTML = '<div class="news-item">üîÑ ÏµúÏã† ÏãúÏû• Îâ¥Ïä§Î•º Î∂àÎü¨Ïò§Îäî Ï§ë...</div>';

                // --- 1Îã®Í≥Ñ: The Guardian (ÎπÑÏ¶àÎãàÏä§/Í∏àÏúµ Îâ¥Ïä§, Î¨¥Î£å test ÌÇ§) ---
                try {
                    const url = 'https://content.guardianapis.com/search?section=business&api-key=test&page-size=9&order-by=newest';
                    const res = await fetch(url);
                    const json = await res.json();
                    if (json.response && json.response.results && json.response.results.length > 0) {
                        const formattedData = json.response.results.map(function(item) {
                            return {
                                title: item.webTitle,
                                url: item.webUrl,
                                source: 'The Guardian',
                                published_at: item.webPublicationDate
                            };
                        });
                        // Ï¶âÏãú ÏòÅÎ¨∏ÏúºÎ°ú ÌëúÏãú ‚Üí Î∞±Í∑∏ÎùºÏö¥ÎìúÏóêÏÑú ÏàúÏ∞® Î≤àÏó≠
                        renderNews(formattedData, 'The Guardian');
                        translateAndUpdate(formattedData);
                        return;
                    }
                } catch(e) { console.log("Guardian Ïã§Ìå®", e); }

                // --- 2Îã®Í≥Ñ: CryptoCompare (Í∏àÏúµ/ÏïîÌò∏ÌôîÌèê Îâ¥Ïä§) ---
                try {
                    const res = await fetch('https://min-api.cryptocompare.com/data/v2/news/?lang=EN');
                    const json = await res.json();
                    if (json.Data && json.Data.length > 0) {
                        const formattedData = json.Data.slice(0, 9).map(function(item) {
                            return {
                                title: item.title,
                                url: item.url,
                                source: item.source_info ? item.source_info.name : item.source,
                                published_at: item.published_on * 1000
                            };
                        });
                        renderNews(formattedData, 'CryptoCompare');
                        translateAndUpdate(formattedData);
                        return;
                    }
                } catch(e) { console.log("CryptoCompare Ïã§Ìå®"); }

                // --- 3Îã®Í≥Ñ: Î°úÏª¨ Îâ¥Ïä§ (ÏµúÏ¢Ö Î∞±ÏóÖ) ---
                loadLocalNews();
            }


            // Î°úÏª¨ Î∞±ÏóÖ Îâ¥Ïä§ (API Ïã§Ìå® Ïãú)
            function loadLocalNews() {
                const container = document.getElementById('newsContainer');
                const localNews = [
                    { title: 'üìà S&P 500, ÏÇ¨ÏÉÅ ÏµúÍ≥†Ïπò Í≤ΩÏã†', source: 'Bloomberg', time: '2ÏãúÍ∞Ñ Ï†Ñ', url: 'https://www.bloomberg.com/markets' },
                    { title: 'üî• AI Î∞òÎèÑÏ≤¥ ÏàòÏöî Í∏âÏ¶ù, NVDA Ï£ºÍ∞Ä Í∞ïÏÑ∏', source: 'CNBC', time: '3ÏãúÍ∞Ñ Ï†Ñ', url: 'https://www.cnbc.com/technology/' },
                    { title: 'üí∞ Ïó∞Ï§Ä, Í∏àÎ¶¨ ÎèôÍ≤∞ ÏãúÏÇ¨', source: 'Reuters', time: '5ÏãúÍ∞Ñ Ï†Ñ', url: 'https://www.reuters.com/markets/' },
                    { title: '‚ö° ÌÖåÌÅ¨ ÏÑπÌÑ∞ Í∞ïÏÑ∏ ÏßÄÏÜç', source: 'WSJ', time: 'Ïñ¥Ï†ú', url: 'https://www.wsj.com/economy' },
                    { title: 'üè¶ ÎπÖÌÖåÌÅ¨ Ïã§Ï†Å ÏãúÏ¶å ÎåÄÍ∏∞', source: 'MarketWatch', time: 'Ïñ¥Ï†ú', url: 'https://www.marketwatch.com/investing' },
                    { title: 'üåç Í∏ÄÎ°úÎ≤å ÏãúÏû• ÏïàÏ†ïÌôî ÌùêÎ¶Ñ', source: 'Financial Times', time: 'Ïñ¥Ï†ú', url: 'https://www.ft.com/' },
                    { title: 'üöó ÌÖåÏä¨Îùº Ïã§Ï†Å ÏòàÏÉÅÏπò ÏÉÅÌöå', source: 'Reuters', time: 'Ïñ¥Ï†ú', url: 'https://www.reuters.com' },
                    { title: 'üì± Ïï†Ìîå, ÏÉàÎ°úÏö¥ Ï†úÌíà ÎùºÏù∏ÏóÖ Í≥µÍ∞ú', source: 'Bloomberg', time: 'Ïñ¥Ï†ú', url: 'https://www.bloomberg.com/' },
                    { title: 'üìâ ÏïÑÏãúÏïÑ Ï¶ùÏãú ÌòºÏ°∞ÏÑ∏ ÎßàÍ∞ê', source: 'CNBC', time: 'Ïñ¥Ï†ú', url: 'https://www.cnbc.com/' }
                ];

                const newsHTML = localNews.map(news => `
                <a href="${news.url}" target="_blank" rel="noopener" class="news-link">
                    <div class="news-item">
                        <div class="news-title">${news.title}</div>
                        <div class="news-meta">Ï∂úÏ≤ò: ${news.source} ¬∑ ${news.time}</div>
                    </div>
                </a>
            `).join('');

                container.innerHTML = newsHTML;
                console.log('‚ö†Ô∏è Î°úÏª¨ Îâ¥Ïä§Î°ú ÎåÄÏ≤¥');
            }

            // Îâ¥Ïä§ ÏÉàÎ°úÍ≥†Ïπ®
            function refreshNews() {
                console.log('üîÑ Îâ¥Ïä§ ÏÉàÎ°úÍ≥†Ïπ®...');
                loadNews();
            }

            function loadReport(categoryKey) {
                const category = categories[categoryKey], select = document.getElementById(category.selectId), date = select.value;
                if (!date) { alert('ÎÇ†ÏßúÎ•º ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.'); return; }
                let pdfFile; const data = reportFiles[categoryKey][date];
                if (typeof data === 'string') pdfFile = data; else pdfFile = data.file;
                displayPDF(pdfFile, date, category);
            }
            function displayPDF(pdfPath, date, category) {
                document.getElementById('pdfContent').innerHTML = '<div class="current-view"><h4>' + category.icon + ' ' + category.name + '</h4><div class="info-grid"><div class="info-item"><div class="label">ÎÇ†Ïßú</div><div class="value">' + formatDate(date) + '</div></div></div></div><div class="pdf-container"><iframe src="' + pdfPath + '" type="application/pdf"></iframe></div>';
            }
            // ‚îÄ‚îÄ Finnhub Ïã§Ï†Å Í≤ÄÏÉâ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
            const FH_KEY = 'd6i3mn9r01ql9cier6agd6i3mn9r01ql9cier6b0';

            // ÏûêÏ£º Ïì∞Îäî ÌïúÍ∏Ä ÌöåÏÇ¨Î™Ö ‚Üí Ìã∞Ïª§ ÏßÅÏ†ë Îß§Ìïë
            const KO_TICKER = {
                'Ïï†Ìîå':'AAPL','ÏóîÎπÑÎîîÏïÑ':'NVDA','ÌÖåÏä¨Îùº':'TSLA','ÏïÑÎßàÏ°¥':'AMZN',
                'ÎßàÏù¥ÌÅ¨Î°úÏÜåÌîÑÌä∏':'MSFT','Íµ¨Í∏Ä':'GOOGL','ÏïåÌååÎ≤≥':'GOOGL','Î©îÌÉÄ':'META',
                'ÎÑ∑ÌîåÎ¶≠Ïä§':'NFLX','Ïù∏ÌÖî':'INTC','ÌÄÑÏª¥':'QCOM','Î∏åÎ°úÎìúÏª¥':'AVGO',
                'ÌåîÎûÄÌã∞Ïñ¥':'PLTR','Ïö∞Î≤Ñ':'UBER','ÏóêÏñ¥ÎπÑÏï§ÎπÑ':'ABNB','ÏΩîÏù∏Î≤†Ïù¥Ïä§':'COIN',
                'Ïä§Ìè¨Ìã∞ÌååÏù¥':'SPOT','Ï§å':'ZM','ÌåîÎ°úÏïåÌÜ†':'PANW','ÌÅ¨ÎùºÏö∞ÎìúÏä§Ìä∏ÎùºÏù¥ÌÅ¨':'CRWD',
                'Ïò§ÎùºÌÅ¥':'ORCL','ÏÑ∏ÏùºÏ¶àÌè¨Ïä§':'CRM','Ïñ¥ÎèÑÎπÑ':'ADBE','ÎßàÏù¥ÌÅ¨Î°†':'MU',
                'TSMC':'TSM','Ï°¥Ïä®Ïï§ÎìúÏ°¥Ïä®':'JNJ','ÌôîÏù¥Ïûê':'PFE','Î™®ÎçîÎÇò':'MRNA',
                'ÏóëÏä®Î™®Îπå':'XOM','ÏâêÎ∏åÎ°†':'CVX','Í≥®ÎìúÎßåÏÇ≠Ïä§':'GS','Ï†úÏù¥ÌîºÎ™®Í±¥':'JPM',
                'Î±ÖÌÅ¨Ïò§Î∏åÏïÑÎ©îÎ¶¨Ïπ¥':'BAC','ÏõîÎßàÌä∏':'WMT','ÏΩîÏä§Ìä∏ÏΩî':'COST','ÌÉÄÍ≤ü':'TGT',
                'Îß•ÎèÑÎÇ†Îìú':'MCD','Ïä§ÌÉÄÎ≤ÖÏä§':'SBUX','ÎÇòÏù¥ÌÇ§':'NKE','ÎîîÏ¶àÎãà':'DIS',
                'Î≤ÑÎùºÏù¥Ï¶å':'VZ','AT&T':'T','Î≥¥Ïûâ':'BA','Ï∫êÌÑ∞ÌïÑÎü¨':'CAT',
                'Ïì∞Î¶¨Ïó†':'MMM','ÌïòÎãàÏõ∞':'HON','Îç±Ïä§Ïª¥':'DXCM','ÏùºÎùºÏù¥Î¶¥Î¶¨':'LLY',
                'Ïï†Î∏åÎπÑ':'ABBV','ÏïÑÏä§Ìä∏ÎùºÏ†úÎÑ§Ïπ¥':'AZN','Î∞îÏù¥Ïò§ÏóîÌÖåÌÅ¨':'BNTX',
                'ÏïîÏ††':'AMGN','Í∏∏Î¶¨Ïñ¥Îìú':'GILD','Î¶¨Ï†úÎÑ§Î°†':'REGN',
            };

            async function _fhFetch(endpoint, params) {
                var url = 'https://finnhub.io/api/v1/' + endpoint + '?' +
                    Object.entries(params).map(function(kv){ return kv[0]+'='+encodeURIComponent(kv[1]); }).join('&') +
                    '&token=' + FH_KEY;
                var ctrl = new AbortController();
                setTimeout(function(){ ctrl.abort(); }, 9000);
                var res = await fetch(url, { signal: ctrl.signal });
                return await res.json();
            }

            async function _resolveToTicker(query) {
                var q = query.trim();
                // 1. ÌïúÍ∏Ä ÏßÅÏ†ë Îß§Ìïë
                for (var ko in KO_TICKER) {
                    if (q === ko || q.includes(ko)) return KO_TICKER[ko];
                }
                // 2. Ïù¥ÎØ∏ Ìã∞Ïª§ ÌòïÌÉú (ÏòÅÎ¨∏ 1-6Ïûê)
                if (/^[A-Za-z]{1,6}$/.test(q)) return q.toUpperCase();
                // 3. ÌïúÍ∏Ä ‚Üí ÏòÅÏñ¥ Î≤àÏó≠
                var searchQuery = q;
                if (/[„Ñ±-„Öé„Öè-„Ö£Í∞Ä-Ìû£]/.test(q)) {
                    try {
                        var trRes = await fetch('https://api.mymemory.translated.net/get?q=' +
                            encodeURIComponent(q) + '&langpair=ko|en');
                        var trJson = await trRes.json();
                        searchQuery = (trJson.responseData && trJson.responseData.translatedText) || q;
                    } catch(e) {}
                }
                // 4. Finnhub Ïã¨Î≥º Í≤ÄÏÉâ
                try {
                    var sJson = await _fhFetch('search', { q: searchQuery });
                    if (sJson.result && sJson.result.length) {
                        var found = sJson.result.find(function(r){ return r.type === 'Common Stock'; })
                                    || sJson.result[0];
                        return found.symbol;
                    }
                } catch(e) {}
                return null;
            }


            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            // Í∏∞ÏóÖ ÏöîÏïΩÏ†ïÎ≥¥ Í≤ÄÏÉâ (Finnhub Ïã§ÏãúÍ∞Ñ)
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            async function searchCompanyInfo() {
                var input     = document.getElementById('companyInput');
                var resultDiv = document.getElementById('companyResult');
                var query     = (input ? input.value : '').trim();

                if (!query) {
                    resultDiv.innerHTML = '<div class="search-result empty">üîç ÌöåÏÇ¨Î™Ö ÎòêÎäî Ìã∞Ïª§Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî</div>';
                    return;
                }

                // ÎÑ§Ìä∏ÏõåÌÅ¨ Ïó∞Í≤∞ ÌôïÏù∏
                if (!navigator.onLine) {
                    resultDiv.innerHTML = '<p class="co-offline">üì° Ïù∏ÌÑ∞ÎÑ∑ Ïó∞Í≤∞Ïù¥ ÏóÜÏäµÎãàÎã§. ÎÑ§Ìä∏ÏõåÌÅ¨Î•º ÌôïÏù∏Ìï¥ Ï£ºÏÑ∏Ïöî.</p>';
                    return;
                }

                resultDiv.innerHTML = '<div class="search-result">üîÑ Í≤ÄÏÉâ Ï§ë‚Ä¶ (' + query + ')</div>';

                try {
                    // Ìã∞Ïª§ ÌôïÏ†ï (Í∏∞Ï°¥ _resolveToTicker Ïû¨ÌôúÏö©)
                    var ticker = await _resolveToTicker(query);
                    if (!ticker) throw new Error('ÌöåÏÇ¨Î•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§: ' + query);

                    // ÌîÑÎ°úÌïÑ¬∑Ïã§ÏãúÍ∞Ñ ÏãúÏÑ∏¬∑Ïû¨Î¨¥ÏßÄÌëú Î≥ëÎ†¨ Ï°∞Ìöå
                    var results = await Promise.all([
                        _fhFetch('stock/profile2', { symbol: ticker }),
                        _fhFetch('quote',          { symbol: ticker }),
                        _fhFetch('stock/metric',   { symbol: ticker, metric: 'all' })
                    ]);
                    var profile = results[0], quote = results[1], metricRes = results[2];

                    if (!profile || !profile.name) throw new Error('Í∏∞ÏóÖ Ï†ïÎ≥¥Î•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§: ' + ticker);

                    // ‚îÄ‚îÄ Í∞ÄÍ≤© ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
                    var price     = (quote.c != null) ? '$' + quote.c.toFixed(2) : 'N/A';
                    var chgAmt    = (quote.d  != null) ? quote.d.toFixed(2)  : null;
                    var chgPct    = (quote.dp != null) ? quote.dp.toFixed(2) : null;
                    var isUp      = chgAmt !== null && parseFloat(chgAmt) >= 0;
                    var chgHtml   = chgAmt !== null
                        ? '<span class="' + (isUp ? 'co-chg-up' : 'co-chg-dn') + '">'
                          + (isUp ? '‚ñ≤' : '‚ñº') + ' $' + Math.abs(chgAmt) + ' (' + Math.abs(chgPct) + '%)</span>'
                        : '';

                    // ‚îÄ‚îÄ ÏãúÍ∞ÄÏ¥ùÏï° ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
                    var mc  = profile.marketCapitalization;   // Îã®ÏúÑ: Î∞±Îßå Îã¨Îü¨
                    var mcStr = mc == null ? 'N/A'
                        : mc >= 1e6  ? '$' + (mc / 1e6).toFixed(2)  + 'T'
                        : mc >= 1e3  ? '$' + (mc / 1e3).toFixed(1)  + 'B'
                        : '$' + mc.toFixed(0) + 'M';

                    // ‚îÄ‚îÄ Ïû¨Î¨¥ÏßÄÌëú ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
                    var m   = (metricRes && metricRes.metric) ? metricRes.metric : {};
                    var pe  = m['peBasicExclExtraTTM']      ? m['peBasicExclExtraTTM'].toFixed(1)      : 'N/A';
                    var eps = m['epsBasicExclExtraAnnual']   ? '$' + m['epsBasicExclExtraAnnual'].toFixed(2) : 'N/A';
                    var beta= m['beta']                      ? m['beta'].toFixed(2)                    : 'N/A';
                    var div = m['dividendYieldIndicatedAnnual'] ? m['dividendYieldIndicatedAnnual'].toFixed(2) + '%' : 'ÏóÜÏùå';
                    var roe = m['roeTTM']                    ? m['roeTTM'].toFixed(1) + '%'             : 'N/A';
                    var w52h= m['52WeekHigh'] ? '$' + m['52WeekHigh'].toFixed(2) : 'N/A';
                    var w52l= m['52WeekLow']  ? '$' + m['52WeekLow'].toFixed(2)  : 'N/A';

                    // ‚îÄ‚îÄ Î°úÍ≥† ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
                    var logoHtml = profile.logo
                        ? '<img class="co-logo" src="' + profile.logo + '" alt="' + ticker + '" onerror="this.style.display=\'none\'">'
                        : '';

                    // ‚îÄ‚îÄ Ïô∏Î∂Ä ÎßÅÌÅ¨ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
                    var t    = encodeURIComponent(ticker);
                    var tLow = ticker.toLowerCase();
                    var links =
                        '<a class="co-link yf" href="https://finance.yahoo.com/quote/' + t + '" target="_blank" rel="noopener">Yahoo Finance</a>' +
                        '<a class="co-link mw" href="https://www.marketwatch.com/investing/stock/' + tLow + '" target="_blank" rel="noopener">MarketWatch</a>' +
                        '<a class="co-link fv" href="https://finviz.com/quote.ashx?t=' + t + '" target="_blank" rel="noopener">Finviz</a>' +
                        (profile.weburl ? '<a class="co-link ws" href="' + profile.weburl + '" target="_blank" rel="noopener">üåê Í≥µÏãù ÏÇ¨Ïù¥Ìä∏</a>' : '');

                    // ‚îÄ‚îÄ ÌÉúÍ∑∏ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
                    var tags = '';
                    if (profile.finnhubIndustry) tags += '<span class="co-tag">üè≠ ' + profile.finnhubIndustry + '</span>';
                    if (profile.country)         tags += '<span class="co-tag">üåç ' + profile.country + '</span>';
                    if (profile.ipo)             tags += '<span class="co-tag">üìÖ IPO: ' + profile.ipo + '</span>';
                    if (profile.currency)        tags += '<span class="co-tag">üí± ' + profile.currency + '</span>';

                    resultDiv.innerHTML =
                        '<div class="co-card">' +
                            '<div class="result-topbar">' +
                                '<span class="result-topbar-label">' + (profile.name || ticker) + ' (' + ticker + ')</span>' +
                                '<div class="result-action-btns">' +
                                    '<button class="result-min-btn" title="ÏµúÏÜåÌôî" onclick="toggleResultMin(this)">‚ñ¥</button>' +
                                    '<button class="result-cls-btn" title="Îã´Í∏∞" onclick="document.getElementById(\'companyResult\').innerHTML=\'\'">‚úï</button>' +
                                '</div>' +
                            '</div>' +
                            '<div class="result-body">' +
                                '<div class="co-header">' +
                                    logoHtml +
                                    '<div>' +
                                        '<div class="co-name">' + profile.name + '</div>' +
                                        '<span class="co-ticker">' + ticker + '</span>' +
                                        '<span class="co-exchange">' + (profile.exchange || '') + '</span>' +
                                    '</div>' +
                                '</div>' +
                                '<div class="co-price-row">' +
                                    '<span class="co-price">' + price + '</span>' +
                                    chgHtml +
                                    '<span style="font-size:0.72rem;color:#94a3b8;margin-left:4px;">Ïã§ÏãúÍ∞Ñ</span>' +
                                '</div>' +
                                '<div class="co-metrics">' +
                                    '<div class="co-metric"><div class="co-metric-lbl">ÏãúÍ∞ÄÏ¥ùÏï°</div><div class="co-metric-val">' + mcStr + '</div></div>' +
                                    '<div class="co-metric"><div class="co-metric-lbl">P/E Ratio (TTM)</div><div class="co-metric-val">' + pe + '</div></div>' +
                                    '<div class="co-metric"><div class="co-metric-lbl">EPS (Ïó∞Í∞Ñ)</div><div class="co-metric-val">' + eps + '</div></div>' +
                                    '<div class="co-metric"><div class="co-metric-lbl">Î∞∞Îãπ ÏàòÏùµÎ•†</div><div class="co-metric-val">' + div + '</div></div>' +
                                    '<div class="co-metric"><div class="co-metric-lbl">Î≤†ÌÉÄ</div><div class="co-metric-val">' + beta + '</div></div>' +
                                    '<div class="co-metric"><div class="co-metric-lbl">52Ï£º Î≤îÏúÑ</div><div class="co-metric-val">' + w52l + ' ‚Äì ' + w52h + '</div></div>' +
                                '</div>' +
                                (tags ? '<div class="co-tags">' + tags + '</div>' : '') +
                                '<div class="co-links">' + links + '</div>' +
                            '</div>' +
                        '</div>';

                } catch(e) {
                    // Ïò§ÌîÑÎùºÏù∏ Ïù¥Ï§ë Ï≤¥ÌÅ¨
                    var msg = !navigator.onLine
                        ? 'üì° Ïù∏ÌÑ∞ÎÑ∑ Ïó∞Í≤∞Ïù¥ ÏóÜÏäµÎãàÎã§. ÎÑ§Ìä∏ÏõåÌÅ¨Î•º ÌôïÏù∏Ìï¥ Ï£ºÏÑ∏Ïöî.'
                        : '‚ö†Ô∏è ' + e.message;
                    resultDiv.innerHTML = '<div class="search-result empty">' + msg + '</div>';
                }
            }

            async function searchEarningsAPI() {
                var input = document.getElementById('earningsSearchInput');
                var resultDiv = document.getElementById('earningsResult');
                if (!input || !resultDiv) return;

                var query = input.value.trim();
                if (!query) {
                    resultDiv.innerHTML = '<div class="search-result empty">üîç Ìã∞Ïª§ ÎòêÎäî ÌöåÏÇ¨Î™Ö ÏûÖÎ†• (ÌïúÍ∏Ä ÏßÄÏõê: ÏóîÎπÑÎîîÏïÑ, Ïï†Ìîå ‚Ä¶)</div>';
                    return;
                }

                resultDiv.innerHTML = '<div class="search-result">üîÑ Í≤ÄÏÉâ Ï§ë‚Ä¶ (' + query + ')</div>';

                try {
                    // ‚ë† Ìã∞Ïª§ ÌôïÏ†ï
                    var ticker = await _resolveToTicker(query);
                    if (!ticker) {
                        resultDiv.innerHTML = '<div class="search-result empty">‚ö†Ô∏è Ï¢ÖÎ™©ÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§: <b>' + query + '</b></div>';
                        return;
                    }

                    // ‚ë° ÌöåÏÇ¨ ÌîÑÎ°úÌïÑ
                    var profile = {};
                    try { profile = await _fhFetch('stock/profile2', { symbol: ticker }); } catch(e) {}
                    var companyName = profile.name || ticker;

                    // ‚ë¢ Îã§Ïùå Ïã§Ï†Å ÎÇ†Ïßú (Ìñ•ÌõÑ 120Ïùº)
                    var today = new Date();
                    var future = new Date(today); future.setDate(today.getDate() + 120);
                    var fmt = function(d){ return d.toISOString().slice(0,10); };
                    var cal = {};
                    try { cal = await _fhFetch('calendar/earnings', { symbol: ticker, from: fmt(today), to: fmt(future) }); } catch(e) {}
                    var nextE = cal.earningsCalendar && cal.earningsCalendar[0];

                    // ‚ë£ ÏµúÍ∑º Ïã§Ï†Å Ïù¥Î†• (4Î∂ÑÍ∏∞)
                    var history = [];
                    try {
                        var h = await _fhFetch('stock/earnings', { symbol: ticker, limit: 4 });
                        if (Array.isArray(h)) history = h;
                    } catch(e) {}

                    // ‚îÄ‚îÄ ÎÇ†Ïßú Ìè¨Îß∑ ‚îÄ‚îÄ
                    var dateDisplay = 'ÎØ∏Ï†ï';
                    var hourStr = '';
                    if (nextE && nextE.date) {
                        var d = new Date(nextE.date + 'T00:00:00');
                        var wd = ['Ïùº','Ïõî','Ìôî','Ïàò','Î™©','Í∏à','ÌÜ†'][d.getDay()];
                        hourStr = nextE.hour === 'amc' ? ' ¬∑ Ïû•ÎßàÍ∞ê ÌõÑ' : nextE.hour === 'bmo' ? ' ¬∑ Ïû•Í∞úÏû• Ï†Ñ' : '';
                        dateDisplay = (d.getMonth()+1) + 'Ïõî ' + d.getDate() + 'Ïùº (' + wd + ')' + hourStr;
                    }
                    var epsEst = (nextE && nextE.epsEstimate != null) ? '$' + (+nextE.epsEstimate).toFixed(2) : 'ÎØ∏Ï†ï';
                    var revEst = (nextE && nextE.revenueEstimate)
                        ? '$' + (nextE.revenueEstimate / 1e9).toFixed(2) + 'B' : 'ÎØ∏Ï†ï';

                    // ‚îÄ‚îÄ ÏµúÍ∑º 4Î∂ÑÍ∏∞ Ïù¥Î†• ÌÖåÏù¥Î∏î ‚îÄ‚îÄ
                    var histHtml = '';
                    if (history.length) {
                        histHtml = '<div style="margin-top:15px;padding-top:12px;border-top:1px solid #e2e8f0">' +
                            '<div style="font-weight:600;color:#667eea;margin-bottom:8px;font-size:0.85em;">üìä ÏµúÍ∑º Ïã§Ï†Å Ïù¥Î†•</div>' +
                            '<table style="width:100%;font-size:0.82em;border-collapse:collapse;">' +
                            '<tr style="color:#667eea;font-weight:600;">' +
                            '<td style="padding:3px 6px;">Î∂ÑÍ∏∞</td>' +
                            '<td style="padding:3px 6px;text-align:right;">ÏòàÏÉÅEPS</td>' +
                            '<td style="padding:3px 6px;text-align:right;">Ïã§Ï†úEPS</td>' +
                            '<td style="padding:3px 6px;text-align:right;">ÏÑúÌîÑÎùºÏù¥Ï¶à</td></tr>';
                        history.forEach(function(q) {
                            var spPct = q.surprisePercent != null
                                ? (q.surprisePercent >= 0 ? '+' : '') + (+q.surprisePercent).toFixed(1) + '%' : '-';
                            var spCol = (q.surprisePercent != null && q.surprisePercent >= 0) ? '#10b981' : '#f43f5e';
                            histHtml += '<tr style="border-top:1px solid #f0f0f0;">' +
                                '<td style="padding:3px 6px;">' + q.year + ' Q' + q.quarter + '</td>' +
                                '<td style="padding:3px 6px;text-align:right;">' + (q.estimate != null ? '$' + (+q.estimate).toFixed(2) : '-') + '</td>' +
                                '<td style="padding:3px 6px;text-align:right;">' + (q.actual != null ? '$' + (+q.actual).toFixed(2) : '-') + '</td>' +
                                '<td style="padding:3px 6px;text-align:right;color:' + spCol + ';font-weight:600;">' + spPct + '</td></tr>';
                        });
                        histHtml += '</table></div>';
                    }

                    resultDiv.innerHTML =
                        '<div class="search-result">' +
                        '<div class="result-topbar">' +
                            '<span class="result-topbar-label">üìÖ ' + companyName + ' (' + ticker + ')</span>' +
                            '<div class="result-action-btns">' +
                                '<button class="result-min-btn" title="ÏµúÏÜåÌôî" onclick="toggleResultMin(this)">‚ñ¥</button>' +
                                '<button class="result-cls-btn" title="Îã´Í∏∞" onclick="document.getElementById(\'earningsResult\').innerHTML=\'\'">‚úï</button>' +
                            '</div>' +
                        '</div>' +
                        '<div class="result-body">' +
                        '<div class="result-company">' + companyName + ' (' + ticker + ')</div>' +
                        '<div class="result-date">üìÖ Îã§Ïùå Ïã§Ï†Å Î∞úÌëú: ' + dateDisplay + '</div>' +
                        '<div class="result-info">' +
                        '<div style="display:grid;grid-template-columns:1fr 1fr;gap:15px;margin-top:15px">' +
                        '<div style="text-align:center">' +
                        '<div style="color:#667eea;font-weight:600;margin-bottom:5px">ÏòàÏÉÅ EPS</div>' +
                        '<div style="font-size:1.2em;font-weight:700">' + epsEst + '</div></div>' +
                        '<div style="text-align:center">' +
                        '<div style="color:#667eea;font-weight:600;margin-bottom:5px">ÏòàÏÉÅ Îß§Ï∂ú</div>' +
                        '<div style="font-size:1.2em;font-weight:700">' + revEst + '</div></div></div>' +
                        histHtml +
                        '<div style="margin-top:15px;padding-top:12px;border-top:1px solid #e2e8f0">' +
                        '<a href="https://finance.yahoo.com/quote/' + ticker + '/analysis"' +
                        ' target="_blank" style="color:#667eea;text-decoration:none;font-weight:600">' +
                        'üìä ÏûêÏÑ∏Ìïú Î∂ÑÏÑù Î≥¥Í∏∞ ‚Üí</a></div>' +
                        '</div>' +       /* .result-info */
                        '</div>' +       /* .result-body */
                        '</div>';        /* .search-result */

                } catch(e) {
                    resultDiv.innerHTML = '<div class="search-result empty">‚ö†Ô∏è Ïò§Î•ò: ' + e.message + '</div>';
                }
            }
            // --- Ï¥àÍ∏∞Ìôî Î∞è Ïã§Ìñâ ---
            document.addEventListener("DOMContentLoaded", () => {
                showMainContent();
            });

            // Î©îÏù∏ ÌôîÎ©¥ ÌëúÏãú Î∞è Îç∞Ïù¥ÌÑ∞ Î°úÎî© Ìï®Ïàò
            function showMainContent() {
                console.log("üî• Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖò Ï¥àÍ∏∞Ìôî Î∞è Îç∞Ïù¥ÌÑ∞ Î°úÎî© ÏãúÏûë");

                // Î©îÏù∏ Ïª®ÌÖêÏ∏† ÌëúÏãú
                const mainContent = document.getElementById('mainContent');
                if (mainContent) {
                    mainContent.style.display = 'block';
                }

                // 1. Î¶¨Ìè¨Ìä∏ ÏÑ†ÌÉùÍ∏∞ Î∞è Îâ¥Ïä§ Î°úÎìú
                if (typeof loadDateList === 'function') loadDateList();
                if (typeof loadNews === 'function') loadNews();

                // 2. ÏãúÏû• Ïã¨Î¶¨ ÏúÑÏ†Ø Ï¥àÍ∏∞Ìôî (ÎÇòÏä§Îã• Í∏∞Î≥∏)
                if (typeof changeSentiment === 'function') {
                    changeSentiment('NASDAQ:QQQ');
                }

                // 4. ÌûàÌä∏Îßµ Ï¥àÍ∏∞Ìôî
                if (typeof updateTradingViewMap === 'function') {
                    updateTradingViewMap();
                }

                // 5. MK Îâ¥Ïä§ Í∏∞Î≥∏ Ïπ¥ÌÖåÍ≥†Î¶¨(Ï¶ùÍ∂å) ÌëúÏãú
                if (typeof mkShow === 'function') mkShow('Ï¶ùÍ∂å');

                // 6. Îâ¥Ïä§ Í≤ÄÏÉâ ÏûÖÎ†• Ïù¥Î≤§Ìä∏ (Î≥ÑÎèÑ DOMContentLoaded Ï†úÍ±∞ ‚Üí Ïó¨Í∏∞ÏÑú ÌÜµÌï© Îì±Î°ù)
                var nsInp = document.getElementById('nsInput');
                if (nsInp) nsInp.addEventListener('input', function() {
                    clearTimeout(_nsDebounce);
                    _nsDebounce = setTimeout(_nsDoSearch, 500);
                });

                console.log("‚úÖ Î™®Îì† Îç∞Ïù¥ÌÑ∞ Î°úÎî© ÏôÑÎ£å");
            }



            // Ïù¥Î©îÏùº Î≥µÏÇ¨ Ìï®Ïàò
            function copyToClipboard(text) {
                navigator.clipboard.writeText(text).then(() => {
                    alert('Ïù¥Î©îÏùº Ï£ºÏÜåÍ∞Ä Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§: ' + text);
                }).catch(err => {
                    console.error('Î≥µÏÇ¨ Ïã§Ìå®:', err);
                });
            }

            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            // Ïã§ÏãúÍ∞Ñ Í∏àÏúµ Îâ¥Ïä§ Í≤ÄÏÉâ v2 - Íµ≠ÎÇ¥/Ìï¥Ïô∏ ÎèôÏãú Í≤ÄÏÉâ + ÌïúÍ∏Ä ÏûêÎèô Î≤àÏó≠
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

            // ‚îÄ‚îÄ‚îÄ API ÌÇ§ ÏÑ§Ï†ï (ÏÑ†ÌÉùÏÇ¨Ìï≠ - ÎØ∏ÏÑ§Ï†ï Ïãú Î¨¥Î£å fallbackÏúºÎ°ú ÎèôÏûë) ‚îÄ‚îÄ‚îÄ
            // ‚ë† Naver Open API (Íµ≠ÎÇ¥ Îâ¥Ïä§ 1ÏàúÏúÑ) ‚Äî corsproxy.ioÎ°ú CORS Ïö∞Ìöå
            //    Í∞ÄÏûÖ: https://developers.naver.com ‚Üí Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖò Îì±Î°ù ‚Üí Í≤ÄÏÉâ API
            var NS_NAVER_ID     = 'ZtMfDpGdck5cjAKBhP5p';  // ‚Üê Client ID
            var NS_NAVER_SECRET = 'tJG2dvct0P';             // ‚Üê Client Secret

            // ‚ë° GNews (Ìï¥Ïô∏ Îâ¥Ïä§ 1ÏàúÏúÑ, CORS Í≥µÏãù ÏßÄÏõê)
            //    Í∞ÄÏûÖ: https://gnews.io ‚Üí Î¨¥Î£å 100Í±¥/Ïùº
            var NS_GNEWS_KEY    = 'd878b3dd7dc594c4fba6bc6ab3d3d51f';  // GNews API ÌÇ§
            // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

            var _nsDebounce = null;
            var _nsToken    = 0;   // Í≤ΩÏüÅ Ï°∞Í±¥ Î∞©ÏßÄÏö© Í≤ÄÏÉâ ÌÜ†ÌÅ∞
            var _newsLangKo = true; // true=ÌïúÍµ≠Ïñ¥ ÌëúÏãú(Í∏∞Î≥∏), false=ÏòÅÏñ¥ ÌëúÏãú

            // ‚îÄ‚îÄ ÏßÑÏûÖÏ†ê: Î≤ÑÌäº/Enter ‚Üí Ï¶âÏãú, ÌÉÄÏù¥Ìïë ‚Üí 0.5s ÎîîÎ∞îÏö¥Ïä§ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
            // ‚îÄ‚îÄ vol-macro ÏïÑÏΩîÎîîÏñ∏ (Í∏∞Î≥∏: Îã´Ìûò) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
            function toggleVolMacro() {
                var body = document.getElementById('volMacroBody');
                var btn  = document.getElementById('volAccBtn');
                if (!body) return;
                var isOpen = body.classList.contains('vm-open');
                body.classList.toggle('vm-open',   !isOpen);
                body.classList.toggle('vm-closed',  isOpen);
                if (btn) btn.textContent = isOpen ? '‚ñæ ÌéºÏπòÍ∏∞' : '‚ñ¥ Ï†ëÍ∏∞';
            }

            /* ‚îÄ‚îÄ Í≤∞Í≥º ÏµúÏÜåÌôî/ÌéºÏπòÍ∏∞ ÌÜ†Í∏Ä ‚îÄ‚îÄ */
            function toggleResultMin(btn) {
                var card = btn.closest('.co-card, .search-result, #nsContainer');
                var body = card ? card.querySelector('.result-body') : null;
                if (!body) return;
                var isMin = body.classList.contains('minimized');
                body.classList.toggle('minimized', !isMin);
                btn.textContent = isMin ? '‚ñ¥' : '‚ñæ';
                btn.title       = isMin ? 'ÏµúÏÜåÌôî' : 'ÌéºÏπòÍ∏∞';
            }

            function nsSearch() {
                clearTimeout(_nsDebounce);
                _nsDebounce = setTimeout(_nsDoSearch, 0);
            }
            // ‚îÄ‚îÄ Î©îÏù∏ Í≤ÄÏÉâ Ïò§ÏºÄÏä§Ìä∏Î†àÏù¥ÌÑ∞ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
            async function _nsDoSearch() {
                var myTok = ++_nsToken;   // Ïù¥ Í≤ÄÏÉâÏùò Í≥†Ïú† ÌÜ†ÌÅ∞ (Í≤ΩÏüÅ Ï°∞Í±¥ Î∞©ÏßÄ)
                var q = ((document.getElementById('nsInput') || {}).value || '').trim();
                var container = document.getElementById('nsContainer');
                var korBox    = document.getElementById('nsKorBox');
                var engBox    = document.getElementById('nsEngBox');
                if (!korBox || !engBox) return;
                if (!q) { if (container) container.style.display = 'none'; return; }

                if (container) {
                    container.style.display = 'block';
                    // ÏÉà Í≤ÄÏÉâ Ïãú ÏµúÏÜåÌôî ÏÉÅÌÉúÏòÄÏúºÎ©¥ ÏûêÎèô ÌéºÏπ®
                    var nsBody = container.querySelector('.result-body');
                    if (nsBody) nsBody.classList.remove('minimized');
                    var nsMinBtn = container.querySelector('.result-min-btn');
                    if (nsMinBtn) { nsMinBtn.textContent = '‚ñ¥'; nsMinBtn.title = 'ÏµúÏÜåÌôî'; }
                }

                // Ïä§ÏºàÎ†àÌÜ§ ÌëúÏãú
                var skel = '<div class="ns-skeleton"></div>'.repeat(3);
                korBox.innerHTML = skel;
                engBox.innerHTML = skel;

                // ÌïúÍ∏Ä Ïó¨Î∂Ä Í∞êÏßÄ ‚Üí ÏñëÎ∞©Ìñ• Î≤àÏó≠
                var isKorean = /[Í∞Ä-Ìû£]/.test(q);
                var qEng = q;   // Ìï¥Ïô∏Îâ¥Ïä§Ïö© (ÏòÅÏñ¥)
                var qKor = q;   // Íµ≠ÎÇ¥Îâ¥Ïä§Ïö© (ÌïúÍ∏Ä)
                var badge = document.getElementById('nsTransBadge');
                if (isKorean) {
                    // ÌïúÍ∏Ä ‚Üí ÏòÅÏñ¥ (Ìï¥Ïô∏Îâ¥Ïä§ Í≤ÄÏÉâÏö©)
                    qEng = await _nsTranslate(q, 'ko|en');
                    if (badge) { badge.textContent = '"' + qEng + '"'; badge.style.display = 'inline'; }
                } else {
                    // ÏòÅÏñ¥ ‚Üí ÌïúÍ∏Ä (Íµ≠ÎÇ¥Îâ¥Ïä§ Í≤ÄÏÉâÏö©)
                    qKor = await _nsTranslate(q, 'en|ko');
                    if (badge) badge.style.display = 'none';
                }

                // Î≤àÏó≠ Ï§ë ÏÉà Í≤ÄÏÉâÏù¥ ÏãúÏûëÎêêÏúºÎ©¥ Ï§ëÎã®
                if (_nsToken !== myTok) return;

                // Íµ≠ÎÇ¥ + Ìï¥Ïô∏ Î≥ëÎ†¨ Ïã§Ìñâ (ÌÜ†ÌÅ∞ Ï†ÑÎã¨)
                await Promise.all([
                    _nsSearchKorean(qKor, korBox, myTok),
                    _nsSearchEnglish(qEng, engBox, myTok)
                ]);
            }

            // Í∏àÏúµ ÌÇ§ÏõåÎìú ÏÇ¨Ï†Ñ (Î≤àÏó≠ Ïã§Ìå® Ïãú fallback: Ìïú‚ÜíÏòÅ)
            var _nsFinDict = {
                'ÎØ∏Íµ≠':'United States','ÌïúÍµ≠':'South Korea','Ï§ëÍµ≠':'China','ÏùºÎ≥∏':'Japan',
                'Ïú†ÎüΩ':'Europe','ÎèÖÏùº':'Germany','ÏòÅÍµ≠':'United Kingdom','Ïù∏ÎèÑ':'India',
                'ÏÇºÏÑ±':'Samsung','Ïï†Ìîå':'Apple','Íµ¨Í∏Ä':'Google','ÏïåÌååÎ≤≥':'Alphabet',
                'ÎßàÏù¥ÌÅ¨Î°úÏÜåÌîÑÌä∏':'Microsoft','ÌÖåÏä¨Îùº':'Tesla','ÏóîÎπÑÎîîÏïÑ':'Nvidia',
                'ÏïÑÎßàÏ°¥':'Amazon','Î©îÌÉÄ':'Meta','ÎÑ∑ÌîåÎ¶≠Ïä§':'Netflix','Ïù∏ÌÖî':'Intel',
                'Ï£ºÏãù':'stock','Í∏àÎ¶¨':'interest rate','ÌôòÏú®':'exchange rate',
                'Ïù∏ÌîåÎ†àÏù¥ÏÖò':'inflation','Ïó∞Ï§Ä':'Federal Reserve','Í∏∞Ï§ÄÍ∏àÎ¶¨':'benchmark rate',
                'Í≤ΩÍ∏∞Ïπ®Ï≤¥':'recession','Î∞òÎèÑÏ≤¥':'semiconductor','Î∞∞ÌÑ∞Î¶¨':'battery',
                'ÏΩîÏä§Ìîº':'KOSPI','ÏΩîÏä§Îã•':'KOSDAQ','ÎÇòÏä§Îã•':'Nasdaq','Îã§Ïö∞':'Dow Jones',
                'Ï±ÑÍ∂å':'bond','ÏõêÏûêÏû¨':'commodities','Ïú†Í∞Ä':'oil price','Í∏à':'gold',
                'Îã¨Îü¨':'dollar','ÏõêÌôî':'Korean won','ÏóîÌôî':'Japanese yen',
                'Î¨¥Ïó≠Ï†ÑÏüÅ':'trade war','Í¥ÄÏÑ∏':'tariff','Í≤ΩÏ†ú':'economy','Í∏àÏúµ':'finance',
                'Ìä∏ÎüºÌîÑ':'Trump','Î∞îÏù¥Îì†':'Biden','ÌååÏõî':'Powell','Fed':'Fed'
            };

            // ‚îÄ‚îÄ ÏñëÎ∞©Ìñ• Î≤àÏó≠ (MyMemory, Î¨¥Î£å, ÌÇ§ Î∂àÌïÑÏöî) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
            // langpair: 'ko|en' Ìïú‚ÜíÏòÅ, 'en|ko' ÏòÅ‚ÜíÌïú
            async function _nsTranslate(text, langpair) {
                try {
                    var ctrl = new AbortController();
                    setTimeout(function(){ ctrl.abort(); }, 5000);
                    var url = 'https://api.mymemory.translated.net/get?q=' +
                        encodeURIComponent(text) + '&langpair=' + (langpair || 'ko|en');
                    var res  = await fetch(url, { signal: ctrl.signal });
                    var json = await res.json();
                    if (json.responseStatus === 200) {
                        var t = json.responseData.translatedText || '';
                        if (t && !t.includes('MYMEMORY WARNING') && t !== text) return t;
                    }
                } catch(e) {}
                // fallback: ÏÇ¨Ï†Ñ Í≤ÄÏÉâ (Ìïú‚ÜíÏòÅ only)
                if (langpair === 'ko|en') {
                    for (var k in _nsFinDict) {
                        if (text.includes(k)) return _nsFinDict[k];
                    }
                }
                return text;
            }

            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            // Íµ≠ÎÇ¥ Îâ¥Ïä§ Í≤ÄÏÉâ Ï≤¥Ïù∏ (1‚Üí2‚Üí3‚Üí4 ÏàúÏÑúÎ°ú ÏãúÎèÑ)
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

            // Í≥µÌÜµ: rss2json.com fetch ‚Äî CORS ÏóÜÏùå, Í∞ÄÏû• ÏïàÏ†ïÏ†Å
            async function _rss2json(rssUrl, count, timeoutMs) {
                var ctrl = new AbortController();
                var timer = setTimeout(function(){ ctrl.abort(); }, timeoutMs || 8000);
                try {
                    var api = 'https://api.rss2json.com/v1/api.json?rss_url=' +
                        encodeURIComponent(rssUrl) + '&count=' + (count || 10);
                    var res = await fetch(api, { signal: ctrl.signal, cache: 'no-store' });
                    clearTimeout(timer);
                    return await res.json();
                } catch(e) { clearTimeout(timer); return null; }
            }

            // Í≥µÌÜµ: rss2json item ‚Üí Í∏∞ÏÇ¨ Í∞ùÏ≤¥ Î≥ÄÌôò
            function _r2jToArt(item, defaultSource) {
                var title  = (item.title || '').trim();
                var source = (item.author || defaultSource || '').trim();
                // Google Îâ¥Ïä§: Ï†úÎ™© ÎÅù " - Ï∂úÏ≤òÎ™Ö" ÌååÏã±
                var m = title.match(/\s*-\s*([^-]{2,50})$/);
                if (m) {
                    if (!source || source === defaultSource) source = m[1].trim();
                    title = title.slice(0, title.length - m[0].length).trim();
                }
                return {
                    title:       title,
                    url:         item.link || item.guid || '',
                    source:      source || defaultSource || '',
                    publishedAt: item.pubDate || '',
                    description: (item.description || '').replace(/<[^>]+>/g, '').trim().slice(0, 200)
                };
            }

            // Í≥µÌÜµ: CORS ÌîÑÎ°ùÏãú RSS XML ÌååÏã± (rss2json Ïã§Ìå® Ïãú fallback, 3Í∞ú ÌîÑÎ°ùÏãú ÏãúÎèÑ)
            async function _fetchRssXml(rssUrl, timeoutMs) {
                var proxies = [
                    'https://corsproxy.io/?'            + encodeURIComponent(rssUrl),
                    'https://api.allorigins.win/raw?url=' + encodeURIComponent(rssUrl),
                    'https://api.codetabs.com/v1/proxy?quest=' + encodeURIComponent(rssUrl)
                ];
                for (var pi = 0; pi < proxies.length; pi++) {
                    try {
                        var ctrl  = new AbortController();
                        var timer = setTimeout(function(){ ctrl.abort(); }, timeoutMs || 7000);
                        var res   = await fetch(proxies[pi], { signal: ctrl.signal, cache: 'no-store' });
                        clearTimeout(timer);
                        if (!res.ok) continue;
                        var text = await res.text();
                        if (!text || text.trim().length < 50) continue;
                        var doc = new DOMParser().parseFromString(text, 'text/xml');
                        if (doc.querySelector('parsererror')) continue;
                        return doc;
                    } catch(e) { continue; }
                }
                return null;
            }

            // Í≥µÌÜµ: XML <item> ‚Üí Í∏∞ÏÇ¨ Í∞ùÏ≤¥ Î≥ÄÌôò
            function _xmlItemToArt(it, sourceName) {
                var titleEl = it.getElementsByTagName('title')[0];
                var linkEl  = it.getElementsByTagName('link')[0];
                var guidEl  = it.getElementsByTagName('guid')[0];
                var pubEl   = it.getElementsByTagName('pubDate')[0];
                var srcEl2  = it.getElementsByTagName('source')[0];
                var descEl  = it.getElementsByTagName('description')[0];
                var link = '';
                if (linkEl) {
                    link = linkEl.textContent.trim();
                    if (!link) {
                        var nx = linkEl.nextSibling;
                        if (nx && nx.nodeType === 3) link = nx.nodeValue.trim();
                    }
                }
                if (!link && guidEl) link = guidEl.textContent.trim();
                return {
                    title:       titleEl ? titleEl.textContent.trim() : '',
                    url:         link,
                    source:      srcEl2  ? srcEl2.textContent.trim() : (sourceName || ''),
                    publishedAt: pubEl   ? pubEl.textContent.trim()  : '',
                    description: descEl  ? descEl.textContent.replace(/<[^>]+>/g, '').trim() : ''
                };
            }

            async function _nsSearchKorean(q, box, tok) {
                var srcEl = document.getElementById('nsKorSrc');
                function stale() { return _nsToken !== tok; }

                // Í∏àÏúµ ÌÇ§ÏõåÎìú ÏûêÎèô Ï°∞Ìï©
                var finWords = ['Ï£ºÏãù','Ï¶ùÍ∂å','Í∏àÏúµ','Ìà¨Ïûê','ÌôòÏú®','Ï±ÑÍ∂å','ÌéÄÎìú',
                                'ETF','ÏΩîÏä§Ìîº','ÏΩîÏä§Îã•','ÎÇòÏä§Îã•','Í∏àÎ¶¨'];
                var alreadyFin = finWords.some(function(k){ return q.includes(k); });
                var optQ = alreadyFin ? q : (q + ' Ï£ºÏãù Ï¶ùÍ∂å');

                // ‚îÄ‚îÄ 1ÏàúÏúÑ: Naver News API (corsproxy ‚Üí allorigins fallback) ‚îÄ‚îÄ
                if (NS_NAVER_ID && NS_NAVER_SECRET) {
                    var naverApiUrl = 'https://openapi.naver.com/v1/search/news.json?query=' +
                        encodeURIComponent(optQ) + '&display=5&sort=date';
                    var naverProxies = [
                        'https://corsproxy.io/?' + encodeURIComponent(naverApiUrl),
                        'https://api.allorigins.win/raw?url=' + encodeURIComponent(naverApiUrl)
                    ];
                    for (var ni = 0; ni < naverProxies.length; ni++) {
                        try {
                            var ctrlN = new AbortController();
                            setTimeout(function(){ ctrlN.abort(); }, 9000);
                            var resN = await fetch(naverProxies[ni], {
                                signal: ctrlN.signal,
                                headers: {
                                    'X-Naver-Client-Id':     NS_NAVER_ID,
                                    'X-Naver-Client-Secret': NS_NAVER_SECRET
                                }
                            });
                            var jsonN = await resN.json();
                            if (jsonN.items && jsonN.items.length) {
                                if (stale()) return;
                                _nsRender(jsonN.items.slice(0,5).map(function(a) {
                                    return {
                                        title:       a.title.replace(/<[^>]+>/g,''),
                                        url:         a.originallink || a.link,
                                        source:      'ÎÑ§Ïù¥Î≤ÑÎâ¥Ïä§',
                                        publishedAt: a.pubDate,
                                        description: a.description ? a.description.replace(/<[^>]+>/g,'') : ''
                                    };
                                }), box, 'kor');
                                if (srcEl) srcEl.textContent = 'üì° Ï∂úÏ≤ò: ÎÑ§Ïù¥Î≤Ñ Îâ¥Ïä§ API';
                                return;
                            }
                            break; // ÏùëÎãµ ÏôîÏúºÎÇò Í≤∞Í≥º ÏóÜÏùå ‚Üí Îã§Ïùå ÏÜåÏä§
                        } catch(e) { continue; }
                    }
                }

                // ‚îÄ‚îÄ 2ÏàúÏúÑ: Google News RSS (rss2json.com ‚Äî CORS ÏóÜÏù¥ ÏïàÏ†ïÏ†Å) ‚îÄ
                var gnRssUrl = 'https://news.google.com/rss/search?q=' +
                    encodeURIComponent(optQ) + '&hl=ko&gl=KR&ceid=KR:ko';
                var r2jGN = await _rss2json(gnRssUrl, 6, 8000);
                if (r2jGN && r2jGN.status === 'ok' && r2jGN.items && r2jGN.items.length) {
                    var artsR2J = r2jGN.items.slice(0, 5).map(function(it) {
                        return _r2jToArt(it, 'Íµ¨Í∏ÄÎâ¥Ïä§');
                    }).filter(function(a) { return a.title && a.url; });
                    if (artsR2J.length > 0) {
                        if (stale()) return;
                        _nsRender(artsR2J.slice(0, 3), box, 'kor');
                        if (srcEl) srcEl.textContent = 'üì° Ï∂úÏ≤ò: Google Îâ¥Ïä§ (ÌïúÍµ≠Ïñ¥)';
                        return;
                    }
                }

                // ‚îÄ‚îÄ 3ÏàúÏúÑ: Google News RSS (CORS ÌîÑÎ°ùÏãú 3Í∞ú fallback) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
                var docGN = await _fetchRssXml(gnRssUrl, 9000);
                if (docGN) {
                    var itemsGN = Array.from(docGN.getElementsByTagName('item'));
                    var artsGN  = itemsGN.slice(0, 6).map(function(it) {
                        return _xmlItemToArt(it, 'Íµ¨Í∏ÄÎâ¥Ïä§');
                    }).filter(function(a) { return a.title && a.url; });
                    if (artsGN.length > 0) {
                        if (stale()) return;
                        _nsRender(artsGN.slice(0, 3), box, 'kor');
                        if (srcEl) srcEl.textContent = 'üì° Ï∂úÏ≤ò: Google Îâ¥Ïä§ (ÌïúÍµ≠Ïñ¥)';
                        return;
                    }
                }

                // ‚îÄ‚îÄ 4ÏàúÏúÑ: GNews API lang=ko ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
                if (NS_GNEWS_KEY) {
                    try {
                        var gUrl = 'https://gnews.io/api/v4/search?' + [
                            'q='       + encodeURIComponent(optQ),
                            'lang=ko', 'country=kr',
                            'max=3',   'sortby=publishedAt',
                            'apikey='  + NS_GNEWS_KEY
                        ].join('&');
                        var ctrl0 = new AbortController();
                        setTimeout(function(){ ctrl0.abort(); }, 8000);
                        var res0  = await fetch(gUrl, { signal: ctrl0.signal });
                        var json0 = await res0.json();
                        if (json0.articles && json0.articles.length) {
                            if (stale()) return;
                            _nsRender(json0.articles.slice(0,3).map(function(a) {
                                return { title: a.title, url: a.url,
                                         source: a.source ? a.source.name : 'GNews',
                                         description: a.description || '',
                                         publishedAt: a.publishedAt };
                            }), box, 'kor');
                            if (srcEl) srcEl.textContent = 'üì° Ï∂úÏ≤ò: GNews API (ÌïúÍµ≠Ïñ¥)';
                            return;
                        }
                    } catch(e) { console.log('GNews KO Ïã§Ìå®', e); }
                }

                // ‚îÄ‚îÄ 5ÏàúÏúÑ: Íµ≠ÎÇ¥ Ïñ∏Î°†ÏÇ¨ RSS (rss2json Ïö∞ÏÑ†, CORS ÌîÑÎ°ùÏãú fallback) ‚îÄ
                var korFeeds = [
                    { url: 'https://www.mk.co.kr/rss/30200030/', name: 'Îß§ÏùºÍ≤ΩÏ†ú Íµ≠Ï†ú' },
                    { url: 'https://www.mk.co.kr/rss/40300001/', name: 'Îß§ÏùºÍ≤ΩÏ†ú Ï¶ùÍ∂å' },
                    { url: 'https://www.mk.co.kr/rss/30100041/', name: 'Îß§ÏùºÍ≤ΩÏ†ú Í≤ΩÏ†ú' },
                    { url: 'https://www.mk.co.kr/rss/50200011/', name: 'Îß§ÏùºÍ≤ΩÏ†ú IT' },
                    { url: 'https://www.yna.co.kr/rss/international.xml', name: 'Ïó∞Ìï©Îâ¥Ïä§ Íµ≠Ï†ú' },
                    { url: 'https://www.yna.co.kr/rss/economy.xml',       name: 'Ïó∞Ìï©Îâ¥Ïä§ Í≤ΩÏ†ú' },
                    { url: 'https://www.yna.co.kr/rss/stock.xml',         name: 'Ïó∞Ìï©Îâ¥Ïä§ Ï¶ùÍ∂å' },
                    { url: 'https://www.hankyung.com/feed/economy',        name: 'ÌïúÍµ≠Í≤ΩÏ†ú' },
                    { url: 'https://www.hankyung.com/feed/finance',        name: 'ÌïúÍµ≠Í≤ΩÏ†ú Ï¶ùÍ∂å' }
                ];
                var qLow = q.toLowerCase();
                var feedResults = await Promise.all(korFeeds.map(function(feed) {
                    return _rss2json(feed.url, 50, 7000).then(function(r2j) {
                        if (r2j && r2j.status === 'ok' && r2j.items && r2j.items.length) {
                            return { items: r2j.items.map(function(it) { return _r2jToArt(it, feed.name); }) };
                        }
                        return _fetchRssXml(feed.url, 7000).then(function(doc) {
                            if (!doc) return { items: [] };
                            return { items: Array.from(doc.getElementsByTagName('item')).slice(0, 50)
                                .map(function(it) { return _xmlItemToArt(it, feed.name); }) };
                        });
                    });
                }));
                var allFiltered = [];
                var seen = {};
                feedResults.forEach(function(r) {
                    (r.items || []).forEach(function(art) {
                        if (art.title && art.url && art.title.toLowerCase().includes(qLow) && !seen[art.url]) {
                            seen[art.url] = true;
                            allFiltered.push(art);
                        }
                    });
                });
                if (allFiltered.length > 0) {
                    allFiltered.sort(function(a,b) { return new Date(b.publishedAt) - new Date(a.publishedAt); });
                    if (stale()) return;
                    _nsRender(allFiltered.slice(0,3), box, 'kor');
                    if (srcEl) srcEl.textContent = 'üì° Ï∂úÏ≤ò: Íµ≠ÎÇ¥ RSS (Îß§ÏùºÍ≤ΩÏ†ú¬∑Ïó∞Ìï©Îâ¥Ïä§¬∑ÌïúÍ≤Ω)';
                    return;
                }

                if (stale()) return;
                box.innerHTML = '<p class="ns-empty">üòî Íµ≠ÎÇ¥ Îâ¥Ïä§ ÏóÜÏùå<br>' +
                    '<span style="font-size:0.8em;color:#94a3b8;">Îçî ÏùºÎ∞òÏ†ÅÏù∏ ÌÇ§ÏõåÎìúÎ°ú ÏãúÎèÑÌï¥ Î≥¥ÏÑ∏Ïöî</span></p>';
                if (srcEl) srcEl.textContent = '';
            }

            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            // Ìï¥Ïô∏ Îâ¥Ïä§ Í≤ÄÏÉâ Ï≤¥Ïù∏ (1‚Üí2‚Üí3‚Üí4 ÏàúÏÑúÎ°ú ÏãúÎèÑ)
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            async function _nsSearchEnglish(q, box, tok) {
                var srcEl = document.getElementById('nsEngSrc');
                function stale() { return _nsToken !== tok; }

                // ‚îÄ‚îÄ 1ÏàúÏúÑ: Google News RSS (rss2json.com ‚Äî CORS ÏóÜÏù¥ ÏïàÏ†ïÏ†Å) ‚îÄ
                var gnEngUrl = 'https://news.google.com/rss/search?q=' +
                    encodeURIComponent(q + ' finance stock') + '&hl=en-US&gl=US&ceid=US:en';
                var r2jEng = await _rss2json(gnEngUrl, 6, 8000);
                if (r2jEng && r2jEng.status === 'ok' && r2jEng.items && r2jEng.items.length) {
                    var artsR2J = r2jEng.items.slice(0, 5).map(function(it) {
                        return _r2jToArt(it, 'Google News');
                    }).filter(function(a) { return a.title && a.url; });
                    if (artsR2J.length > 0) {
                        if (stale()) return;
                        _nsRender(artsR2J.slice(0, 3), box, 'eng');
                        if (srcEl) srcEl.textContent = 'üì° Ï∂úÏ≤ò: Google Îâ¥Ïä§ (ÏòÅÏñ¥)';
                        return;
                    }
                }

                // ‚îÄ‚îÄ 2ÏàúÏúÑ: Google News RSS (CORS ÌîÑÎ°ùÏãú 3Í∞ú fallback) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
                var docEng = await _fetchRssXml(gnEngUrl, 9000);
                if (docEng) {
                    var gnItems = Array.from(docEng.getElementsByTagName('item'));
                    var gnArts  = gnItems.slice(0, 6).map(function(it) {
                        return _xmlItemToArt(it, 'Google News');
                    }).filter(function(a) { return a.title && a.url; });
                    if (gnArts.length > 0) {
                        if (stale()) return;
                        _nsRender(gnArts.slice(0, 3), box, 'eng');
                        if (srcEl) srcEl.textContent = 'üì° Ï∂úÏ≤ò: Google Îâ¥Ïä§ (ÏòÅÏñ¥)';
                        return;
                    }
                }

                // ‚îÄ‚îÄ 3ÏàúÏúÑ: GNews API (ÌÇ§ ÏûàÏùÑ Îïå) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
                if (NS_GNEWS_KEY) {
                    try {
                        var ctrl2 = new AbortController();
                        setTimeout(function(){ ctrl2.abort(); }, 8000);
                        var gUrl = 'https://gnews.io/api/v4/search?' + [
                            'q='       + encodeURIComponent(q + ' finance OR stock OR market'),
                            'lang=en', 'max=3',
                            'sortby=publishedAt',
                            'apikey='  + NS_GNEWS_KEY
                        ].join('&');
                        var resG = await fetch(gUrl, { signal: ctrl2.signal });
                        var jsonG = await resG.json();
                        if (jsonG.articles && jsonG.articles.length) {
                            if (stale()) return;
                            _nsRender(jsonG.articles.slice(0,3).map(function(a) {
                                return { title: a.title, url: a.url,
                                         source: a.source ? a.source.name : 'GNews',
                                         publishedAt: a.publishedAt };
                            }), box, 'eng');
                            if (srcEl) srcEl.textContent = 'üì° Ï∂úÏ≤ò: GNews API';
                            return;
                        }
                    } catch(e) { console.log('GNews Ïã§Ìå®', e); }
                }

                // ‚îÄ‚îÄ 4ÏàúÏúÑ: The Guardian (Î¨¥Î£å test ÌÇ§, CORS ÏßÄÏõê) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
                try {
                    var ctrl3 = new AbortController();
                    setTimeout(function(){ ctrl3.abort(); }, 8000);
                    var grdUrl = 'https://content.guardianapis.com/search?' + [
                        'q='         + encodeURIComponent(q),
                        'order-by=newest', 'page-size=3', 'api-key=test'
                    ].join('&');
                    var resGrd  = await fetch(grdUrl, { signal: ctrl3.signal });
                    var jsonGrd = await resGrd.json();
                    var grdItems = jsonGrd.response && jsonGrd.response.results;
                    if (grdItems && grdItems.length) {
                        if (stale()) return;
                        _nsRender(grdItems.slice(0,3).map(function(a) {
                            return { title: a.webTitle, url: a.webUrl,
                                     source: 'The Guardian', publishedAt: a.webPublicationDate };
                        }), box, 'eng');
                        if (srcEl) srcEl.textContent = 'üì° Ï∂úÏ≤ò: The Guardian';
                        return;
                    }
                } catch(e) { console.log('Guardian Ïã§Ìå®', e); }

                if (stale()) return;
                box.innerHTML = '<p class="ns-empty">üòî Ìï¥Ïô∏ Îâ¥Ïä§ ÏóÜÏùå<br>Îã§Î•∏ ÌÇ§ÏõåÎìúÎ°ú ÏãúÎèÑÌï¥ Î≥¥ÏÑ∏Ïöî</p>';
                if (srcEl) srcEl.textContent = '';
            }

            // ‚îÄ‚îÄ Í≥µÌÜµ Ïπ¥Îìú Î†åÎçîÎßÅ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
            function _nsRender(articles, box, side) {
                if (!articles || !articles.length) {
                    box.innerHTML = '<p class="ns-empty">Í≤∞Í≥º ÏóÜÏùå</p>'; return;
                }
                var cls = side === 'kor' ? 'ns-card kor' : 'ns-card eng';
                var srcCls = side === 'kor' ? 'ns-source-kor' : 'ns-source-eng';
                box.innerHTML = articles.map(function(a) {
                    var t = a.publishedAt ? new Date(a.publishedAt).toLocaleString('ko-KR') : '';
                    var desc = (a.description || '').trim().slice(0, 120);
                    if (desc.length === 120) desc += '‚Ä¶';
                    return '<a class="' + cls + '" href="' + _nsEsc(a.url) + '" target="_blank" rel="noopener">' +
                        '<span class="ns-title">' + _nsEsc(a.title) + '</span>' +
                        (desc ? '<span class="ns-desc">' + _nsEsc(desc) + '</span>' : '') +
                        '<span class="ns-meta">' +
                          '<span class="' + srcCls + '">' + _nsEsc(a.source || '') + '</span>' +
                          (t ? '<span>üïê ' + t + '</span>' : '') +
                        '</span></a>';
                }).join('');
            }

            function _nsEsc(s) {
                return String(s || '')
                    .replace(/&/g,'&amp;').replace(/</g,'&lt;')
                    .replace(/>/g,'&gt;').replace(/"/g,'&quot;');
            }

            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            // Í≤ΩÏ†úÏßÄÌëú ÏÉÅÌÉú Î©îÌÉÄÎç∞Ïù¥ÌÑ∞ (Ï†ïÏùò¬∑ÌïúÏ§ÑÏöîÏïΩ¬∑Í∏∞Ï§ÄÏπò)
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            var ECON_STATUS = {
                fedfunds: {
                    def: 'Ï§ëÏïôÏùÄÌñâÏùò Ï†ïÏ±Ö Í∏àÎ¶¨',
                    thrStr: 'Í∏∞Ï§Ä: <3%üü¢ / 3~4.5%üü° / >4.5%üî¥',
                    status: function(v) { return v < 3.0 ? 'bull' : v < 4.5 ? 'neutral' : 'bear'; },
                    summary: { bull:'Fed Í∏àÎ¶¨ ÏôÑÌôî Íµ¨Í∞Ñ ÏßÑÏûÖ, Ïú†ÎèôÏÑ± ÌôïÎåÄÎ°ú Ï£ºÏãù¬∑Ï±ÑÍ∂å ÎèôÎ∞ò Ïö∞Ìò∏Ï†Å ÌôòÍ≤Ω', neutral:'Fed Í∏àÎ¶¨ Ïù∏Ìïò ÏÇ¨Ïù¥ÌÅ¥ ÏßÑÌñâ Ï§ë, 3%ÎåÄ ÏßÑÏûÖ Ïãú Í∞ïÏÑ∏ Ï†ÑÌôò Í∏∞ÎåÄ', bear:'Í≥†Í∏àÎ¶¨ Í∏¥Ï∂ï Íµ¨Í∞Ñ, ÎåÄÏ∂ú Î∂ÄÎã¥ Ï¶ùÍ∞ÄÎ°ú ÏÜåÎπÑ¬∑Ìà¨Ïûê ÏñµÏ†ú ÏúÑÌóò' }
                },
                cpi: {
                    def: 'ÏÜåÎπÑÏûê Î¨ºÍ∞Ä ÏÉÅÏäπÎ•†',
                    thrStr: 'Í∏∞Ï§Ä: <2.5%üü¢ / 2.5~3.5%üü° / >3.5%üî¥',
                    status: function(v) { return v < 2.5 ? 'bull' : v < 3.5 ? 'neutral' : 'bear'; },
                    summary: { bull:'Î¨ºÍ∞ÄÏïàÏ†ïÏÑ∏ ÎöúÎ†∑, Fed Î™©Ìëú(2%) Í∑ºÏ†ëÌïòÎ©∞ Í∏àÎ¶¨Ïù∏Ìïò Í∞ÄÏÜç Ïó¨Í±¥ ÏÑ±Ïàô', neutral:'Ïù∏ÌîåÎ†àÏù¥ÏÖò ÎëîÌôî Ï§ëÏù¥ÎÇò Î™©Ìëú ÏÉÅÌöå, Ïó∞Ï§Ä Ïã†Ï§ëÌïú Í∏àÎ¶¨Ïù∏Ìïò Í∏∞Ï°∞ Ïú†ÏßÄ', bear:'Î¨ºÍ∞Ä Í≥ºÏó¥ Íµ¨Í∞Ñ, Ïó∞Ï§Ä Ï∂îÍ∞Ä Í∏¥Ï∂ï ÎòêÎäî Í∏àÎ¶¨Ïù∏Ìïò ÏßÄÏó∞ Í∞ÄÎä•ÏÑ±' }
                },
                core_cpi: {
                    def: 'Î≥ÄÎèôÏÑ± Ï†úÏô∏ Í∑ºÏõê Î¨ºÍ∞Ä',
                    thrStr: 'Í∏∞Ï§Ä: <2.5%üü¢ / 2.5~3.5%üü° / >3.5%üî¥',
                    status: function(v) { return v < 2.5 ? 'bull' : v < 3.5 ? 'neutral' : 'bear'; },
                    summary: { bull:'ÏóêÎÑàÏßÄ¬∑ÏãùÌíà Ï†úÏô∏ Î¨ºÍ∞ÄÎèÑ ÏïàÏ†ï, Í∏∞Ï°∞Ï†Å Ïù∏ÌîåÎ†àÏù¥ÏÖò Ìï¥ÏÜå ÌôïÏù∏', neutral:'ÏóêÎÑàÏßÄ¬∑ÏãùÌíà Ï†úÏô∏ Î¨ºÍ∞ÄÎèÑ ÌïòÎùΩ Ï§ë, Ï∂îÏÑ∏ Ïú†ÏßÄ Ïó¨Î∂Ä Í¥ÄÏ∞∞ ÌïÑÏöî', bear:'Í∑ºÏõê Î¨ºÍ∞Ä Í≥†Ï∞©Ìôî ÏúÑÌóò, Ïó∞Ï§ÄÏùò Í∏¥Ï∂ï Ïú†ÏßÄ Î™ÖÎ∂Ñ Í∞ïÌôî' }
                },
                core_pce: {
                    def: 'Ïó∞Ï§Ä Ï§ëÏ†ê Î¨ºÍ∞Ä ÏßÄÌëú',
                    thrStr: 'Í∏∞Ï§Ä: <2.5%üü¢ / 2.5~3.5%üü° / >3.5%üî¥',
                    status: function(v) { return v < 2.5 ? 'bull' : v < 3.5 ? 'neutral' : 'bear'; },
                    summary: { bull:'Ïó∞Ï§Ä Î™©ÌëúÏπò Îã¨ÏÑ±, Í∏àÎ¶¨Ïù∏Ìïò ÏÇ¨Ïù¥ÌÅ¥ Í∞ÄÏÜçÌôî Í∏∞ÎåÄ', neutral:'ÌÉÄ ÏßÄÌëú ÎåÄÎπÑ Îã§ÏÜå ÎÜíÏïÑ Î∞òÎì± Í∏∞ÎØ∏ Í¥ÄÏ∞∞ ÌïÑÏöî, Í∏àÎ¶¨Ïù∏Ìïò ÏÜçÎèÑ Ï°∞Ï†à', bear:'Fed ÌïµÏã¨ Î¨ºÍ∞ÄÏßÄÌëú ÏÉÅÏäπ Î∞òÏ†Ñ, Í∏àÎ¶¨Ïù∏Ìïò ÏÜçÎèÑ Ï†úÎèô Ïö∞Î†§' }
                },
                payems: {
                    def: 'Ïã†Í∑ú ÏùºÏûêÎ¶¨ Ï∞ΩÏ∂ú Ïàò',
                    thrStr: 'Í∏∞Ï§Ä: >150Küü¢ / 75~150Küü° / <75Küî¥',
                    status: function(v) { return v > 150 ? 'bull' : v > 75 ? 'neutral' : 'bear'; },
                    summary: { bull:'Í∞ïÌïú Í≥†Ïö© ÏÑ±Ïû•, ÏÜåÎπÑ Í∏∞Î∞ò Í≤¨Ï°∞Î°ú Í≤ΩÍ∏∞ Ïó∞Ï∞©Î•ô Í∞ÄÎä•ÏÑ± ÏÉÅÏäπ', neutral:'Í∏âÏ¶ùÏÑ∏Îäî Í∫æÏòÄÏúºÎÇò Ï†ÅÏ†ï ÏàòÏ§ÄÏùò Í≥†Ïö© Ïú†ÏßÄ, ÏÜåÌîÑÌä∏ÎûúÎî© Íµ¨Í∞Ñ', bear:'Í≥†Ïö© Í∏âÎû≠, ÏÜåÎπÑ ÏúÑÏ∂ïÍ≥º Í≤ΩÍ∏∞Ïπ®Ï≤¥ Í∞ÄÎä•ÏÑ± Í≤ΩÍ≥† Ïã†Ìò∏' }
                },
                unrate: {
                    def: 'Í≤ΩÏ†úÌôúÎèô Ïù∏Íµ¨ Ï§ë Ïã§ÏóÖÏûê',
                    thrStr: 'Í∏∞Ï§Ä: <4.0%üü¢ / 4.0~5.0%üü° / >5.0%üî¥',
                    status: function(v) { return v < 4.0 ? 'bull' : v < 5.0 ? 'neutral' : 'bear'; },
                    summary: { bull:'ÏôÑÏ†ÑÍ≥†Ïö© ÏàòÏ§Ä, ÎÖ∏ÎèôÏãúÏû• Í≥ºÏó¥ Ï£ºÏùòÌïòÎÇò ÏÜåÎπÑ Í∏∞Î∞ò Í≤¨Ï°∞', neutral:'ÏôÑÏ†ÑÍ≥†Ïö© Ï¥àÍ≥º, ÎÖ∏ÎèôÏãúÏû• ÎÉâÍ∞Å Ï§ëÏù¥ÎÇò ÏïÑÏßÅ ÏúÑÌóò ÏàòÏ§Ä ÏïÑÎãò', bear:'Ïã§ÏóÖÎ•† Í∏âÎì±, ÏÜåÎπÑ ÏúÑÏ∂ïÍ≥º Í≤ΩÍ∏∞Ïπ®Ï≤¥ Ïã†Ìò∏ Í≤ΩÍ≥Ñ' }
                },
                dgs10: {
                    def: 'ÏãúÏû• Ïû•Í∏∞ Í∏àÎ¶¨ Í∞ÄÏù¥Îìú',
                    thrStr: 'Í∏∞Ï§Ä: <4.0%üü¢ / 4.0~4.5%üü° / >4.5%üî¥',
                    status: function(v) { return v < 4.0 ? 'bull' : v < 4.5 ? 'neutral' : 'bear'; },
                    summary: { bull:'Í∏àÎ¶¨ ÌïòÎùΩÏúºÎ°ú Ï£ºÏãù Î∞∏Î•òÏóêÏù¥ÏÖò Î∂ÄÎã¥ ÏôÑÌôî, ÏÑ±Ïû•Ï£º Ïú†Î¶¨Ìïú ÌôòÍ≤Ω', neutral:'Í∏àÎ¶¨ ÏïàÏ†ï Íµ¨Í∞Ñ, ÏãúÏû• Í∏àÎ¶¨ ÏÉÅÎã®Ïù¥ ÎÇÆÏïÑÏßÄÎ©∞ Ï±ÑÍ∂å ÏãúÏû• ÏïàÏ†ïÌôî', bear:'Ïû•Í∏∞Í∏àÎ¶¨ Í≥†Í≥µÌñâÏßÑ, Ï£ºÏãù Î∞∏Î•òÏóêÏù¥ÏÖò ÏïïÎ∞ï¬∑Ï±ÑÍ∂å Îß§Î†• Ï¶ùÍ∞Ä' }
                },
                spread: {
                    def: 'Í≤ΩÍ∏∞ Ïπ®Ï≤¥ ÏòàÍ≥† ÏßÄÌëú (10Y-2Y)',
                    thrStr: 'Í∏∞Ï§Ä: >0.5%üü¢ / 0~0.5%üü° / <0üî¥',
                    status: function(v) { return v > 0.5 ? 'bull' : v >= 0 ? 'neutral' : 'bear'; },
                    summary: { bull:'Ïó≠Ï†Ñ Ìï¥ÏÜå ÏôÑÎ£å, Í≤ΩÍ∏∞Ïπ®Ï≤¥ Ïã†Ìò∏ ÏÜåÎ©∏ÎêòÎ©∞ Ï†ïÏÉÅÌôî Íµ≠Î©¥ ÏßÑÏûÖ', neutral:'ÌîåÎü¨Ïä§(+) Í∂åÏó≠ Ïú†ÏßÄÎ°ú Í≤ΩÍ∏∞Ïπ®Ï≤¥ Ïö∞Î†§ Ìï¥ÏÜå Ï§ë, Í≤ΩÍ∏∞ Ï†ÑÌôò Ïã†Ìò∏ Ï£ºÏãú', bear:'Ïû•Îã®Í∏∞ Í∏àÎ¶¨ Ïó≠Ï†Ñ ÏßÄÏÜç, Ïó≠ÏÇ¨Ï†ÅÏúºÎ°ú Ïπ®Ï≤¥ 6~18Í∞úÏõî Ï†Ñ Ïã†Ìò∏' }
                },
                mfg_pmi: {
                    def: 'Ï†úÏ°∞ÏóÖ Í≤ΩÍ∏∞ ÌôïÏû• ÏßÄÏàò',
                    thrStr: 'Í∏∞Ï§Ä: >52üü¢ / 50~52üü° / <50üî¥',
                    status: function(v) { return v > 52 ? 'bull' : v >= 50 ? 'neutral' : 'bear'; },
                    summary: { bull:'Ï†úÏ°∞ÏóÖ Í∞ïÌïú ÌôïÏû•, Í∏ÄÎ°úÎ≤å ÍµêÏó≠ ÌöåÎ≥µÍ≥º ÏÑ§ÎπÑÌà¨Ïûê ÌôïÎåÄ Í∏∞ÎåÄ', neutral:'Í∏∞Ï§ÄÏÑ† 50 ÌÑ±Í±∏Ïù¥ÌïòÎ©∞ Í≤ΩÍ∏∞ ÏúÑÏ∂ï Íµ≠Î©¥ ÌÉàÏ∂ú ÏãúÎèÑ, Î™®Î©òÌÖÄ ÌôïÏù∏ ÌïÑÏöî', bear:'Ï†úÏ°∞ÏóÖ ÏàòÏ∂ï Íµ≠Î©¥, Ïû¨Í≥† Ï°∞Ï†ïÍ≥º Í∏ÄÎ°úÎ≤å ÏàòÏöî ÎëîÌôî Ïã†Ìò∏' }
                },
                svc_pmi: {
                    def: 'ÏÑúÎπÑÏä§ÏóÖ Í≤ΩÍ∏∞ ÌôïÏû• ÏßÄÏàò',
                    thrStr: 'Í∏∞Ï§Ä: >53üü¢ / 50~53üü° / <50üî¥',
                    status: function(v) { return v > 53 ? 'bull' : v >= 50 ? 'neutral' : 'bear'; },
                    summary: { bull:'ÏÑúÎπÑÏä§ÏóÖ Í∞ïÌïú ÌôïÏû•, ÏÜåÎπÑ¬∑Í≥†Ïö© Í≤¨Ï°∞Î°ú GDP ÏÑ±Ïû• Í≤¨Ïù∏', neutral:'ÌôïÏû•ÏÑ∏ Ïú†ÏßÄ Ï§ëÏù¥ÎÇò ÏÑ±Ïû• ÏÜçÎèÑ ÎëîÌôî, GDP Ï£ºÏöî Î≤ÑÌåÄÎ™© ÏïΩÌôî Ï£ºÏãú', bear:'ÏÑúÎπÑÏä§ÏóÖ ÏàòÏ∂ï ÏßÑÏûÖ, ÎØ∏Íµ≠ Í≤ΩÏ†ú Ï£ºÏöî ÏóîÏßÑ ÏïΩÌôî Ïã†Ìò∏' }
                },
                retail: {
                    def: 'ÏÜåÎπÑ ÏãúÏû•Ïùò ÌôúÎ†•ÎèÑ',
                    thrStr: 'Í∏∞Ï§Ä: >4%üü¢ / 2~4%üü° / <2%üî¥',
                    status: function(v) { return v > 4 ? 'bull' : v >= 2 ? 'neutral' : 'bear'; },
                    summary: { bull:'Í∞ïÌïú ÏÜåÎπÑ ÏÑ±Ïû•, Ïù∏ÌîåÎ†àÏù¥ÏÖò Í∞êÏïàÌï¥ÎèÑ Ïã§Ïßà ÏÜåÎπÑ Ï¶ùÍ∞Ä ÌôïÏù∏', neutral:'ÏÜåÎπÑ Ï¶ùÍ∞ÄÏÑ∏ Ïú†ÏßÄÌïòÎÇò ÎëîÌôî, Ïù∏ÌîåÎ†àÏù¥ÏÖò Í∞êÏïà Ïãú Ïã§Ïßà ÏÜåÎπÑÎäî Ï†ïÏ≤¥ ÏàòÏ§Ä', bear:'Ï†ÑÏõî ÎåÄÎπÑ ÌïòÎùΩÌè≠Ïù¥ Ïª§ ÏÜåÎπÑ Ïã¨Î¶¨ ÏúÑÏ∂ï Ïö∞Î†§, Í≤ΩÍ∏∞ ÎëîÌôî Ïã†Ìò∏ Í≤ΩÍ≥Ñ' }
                },
                umcsent: {
                    def: 'Ìñ•ÌõÑ Í≤ΩÍ∏∞Ïóê ÎåÄÌïú Í∏∞ÎåÄÍ∞ê',
                    thrStr: 'Í∏∞Ï§Ä: >70üü¢ / 55~70üü° / <55üî¥',
                    status: function(v) { return v > 70 ? 'bull' : v >= 55 ? 'neutral' : 'bear'; },
                    summary: { bull:'ÏÜåÎπÑÏûê ÎÇôÍ¥ÄÎ°† Ïö∞ÏÑ∏, ÏÜåÎπÑ ÏßÄÏ∂ú ÌôïÎåÄÏôÄ Í≤ΩÍ∏∞ ÌöåÎ≥µ Í∏∞ÎåÄ', neutral:'Î∞òÎì±ÌñàÏúºÎÇò ÎÇôÍ¥Ä Í∏∞Ï§Ä(70) ÎØ∏Îã¨, ÏÜåÎπÑ Î∂àÏïà Ïã¨Î¶¨ ÏûîÏ°¥', bear:'Ïã¨Î¶¨ ÎπÑÍ¥Ä Íµ¨Í∞Ñ, ÏÜåÎπÑ ÏúÑÏ∂ïÍ≥º Í≤ΩÍ∏∞ ÌïòÎ∞© ÏïïÎ†• Í≤ΩÍ≥† Îã®Í≥Ñ' }
                }
            };

            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            // Ï£ºÏöî Í≤ΩÏ†úÏßÄÌëú ÎåÄÏãúÎ≥¥Îìú
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            (function() {
                if (typeof ECON_DATA === 'undefined') return;
                var D = ECON_DATA;
                var grid = document.getElementById('econGrid');
                var updEl = document.getElementById('econUpdated');
                if (updEl && D.lastUpdated) updEl.textContent = 'Ï∂úÏ≤ò: FRED¬∑ISM¬∑BLS¬∑BEA | ÏóÖÎç∞Ïù¥Ìä∏: ' + D.lastUpdated;

                // ‚îÄ‚îÄ Í≤ΩÏ†ú Î∂ÑÏÑù ÏöîÏïΩ Î†åÎçîÎßÅ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
                (function() {
                    var anaBox  = document.getElementById('econAnalysis');
                    var anaBadge= document.getElementById('econAnaBadge');
                    var anaDate = document.getElementById('econAnaDate');
                    var anaSum  = document.getElementById('econAnaSum');
                    var anaDet  = document.getElementById('econAnaDet');
                    if (!anaBox || !D.analysisSummary) return;
                    anaSum.textContent  = D.analysisSummary;
                    anaDet.textContent  = D.analysisDetail || '';
                    if (anaBadge) {
                        anaBadge.style.background = D.analysisColor || '#84cc16';
                        anaBadge.textContent = 'üìä ' + (D.analysisSituation || 'Í≤ΩÏ†ú Î∂ÑÏÑù');
                    }
                    if (anaDate && D.analysisMonth)
                        anaDate.textContent = D.analysisMonth + ' Í∏∞Ï§Ä ¬∑ Ïõî 1Ìöå ÏóÖÎç∞Ïù¥Ìä∏';
                    anaBox.style.display = 'block';
                })();

                var ORDER = ['fedfunds','cpi','core_cpi','core_pce','payems','unrate','dgs10','spread','mfg_pmi','svc_pmi','retail','umcsent'];

                // ‚îÄ‚îÄ SVG Ïä§ÌååÌÅ¨ÎùºÏù∏ ÏÉùÏÑ± ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
                function sparkSvg(values, threshold, color) {
                    var w = 120, h = 32, pad = 3;
                    if (!values || values.length < 2) {
                        return '<svg class="econ-sparksvg" viewBox="0 0 '+w+' '+h+'"><text x="50%" y="55%" text-anchor="middle" fill="#e2e8f0" font-size="9">N/A</text></svg>';
                    }
                    var allV = values.concat(threshold !== null && threshold !== undefined ? [threshold] : []);
                    var mn = Math.min.apply(null, allV), mx = Math.max.apply(null, allV);
                    var rng = (mx - mn) || 1;
                    var uw = (w - pad * 2) / (values.length - 1);
                    function fx(i) { return (pad + i * uw).toFixed(1); }
                    function fy(v) { return (h - pad - ((v - mn) / rng) * (h - pad * 2)).toFixed(1); }
                    var pts = values.map(function(v, i) { return fx(i) + ',' + fy(v); }).join(' ');
                    var lx = fx(values.length - 1), ly = fy(values[values.length - 1]);
                    var area = pad + ',' + h + ' ' + pts + ' ' + lx + ',' + h;
                    var tLine = '';
                    if (threshold !== null && threshold !== undefined) {
                        var ty = fy(threshold);
                        tLine = '<line x1="'+pad+'" y1="'+ty+'" x2="'+(w-pad)+'" y2="'+ty+'" stroke="#94a3b8" stroke-width="0.8" stroke-dasharray="3,2"/>';
                    }
                    return '<svg class="econ-sparksvg" viewBox="0 0 '+w+' '+h+'">' +
                        '<polygon points="'+area+'" fill="'+color+'" fill-opacity="0.12"/>' +
                        tLine +
                        '<polyline points="'+pts+'" fill="none" stroke="'+color+'" stroke-width="1.8" stroke-linejoin="round"/>' +
                        '<circle cx="'+lx+'" cy="'+ly+'" r="2.5" fill="'+color+'"/>' +
                        '</svg>';
                }

                // ‚îÄ‚îÄ Ïπ¥Îìú Î†åÎçîÎßÅ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
                ORDER.forEach(function(key) {
                    var ind = D.indicators[key];
                    if (!ind) return;
                    var cur = ind.current, chg = ind.change || 0;
                    var valStr = cur === null || cur === undefined ? 'N/A' :
                        (ind.unit === 'K' ? Math.round(cur).toLocaleString() + 'K' :
                         Number(cur).toFixed(1) + ind.unit);
                    // Î∞©Ìñ•Ïóê Îî∞Î•∏ ÏÉâÏÉÅ (Ïù∏ÌîåÎ†àÏù¥ÏÖò¬∑Ïã§ÏóÖÎ•†ÏùÄ ÎÜíÏúºÎ©¥ ÎÇòÏÅ®)
                    var isGood = chg > 0 ? (ind.isHighGood !== false) : (ind.isHighGood === false);
                    var chgCls = chg === 0 ? 'neu' : (isGood ? 'pos' : 'neg');
                    var arrow  = chg > 0 ? '‚ñ≤' : chg < 0 ? '‚ñº' : '‚îÄ';
                    var chgTxt = chg !== 0 ? arrow + Math.abs(chg).toFixed(1) + ind.unit + ' Ï†ÑÏõîÊØî' : '‚îÄ Ï†ÑÏõî ÎèôÏùº';

                    var meta = ECON_STATUS[key];
                    var st   = meta ? meta.status(cur === null || cur === undefined ? 0 : cur) : 'neutral';
                    var stLbl = st === 'bull' ? 'Í∞ïÏÑ∏' : st === 'bear' ? 'Ï£ºÏùò' : 'Ï§ëÎ¶Ω';

                    var card = document.createElement('div');
                    card.className = 'econ-card';
                    card.innerHTML =
                        '<div class="econ-card-hd">' +
                          '<span class="econ-card-lbl">'+ind.label+'</span>' +
                          '<span class="econ-card-ico">'+ind.icon+'</span>' +
                        '</div>' +
                        '<div class="econ-card-val">'+valStr+'</div>' +
                        '<div class="econ-card-chg '+chgCls+'">'+chgTxt+'</div>' +
                        sparkSvg(ind.values, ind.threshold, ind.color || '#3b82f6') +
                        '<div class="econ-card-info">' +
                          '<div class="econ-card-st">' +
                            '<span class="econ-sdot '+st+'"></span>' +
                            '<span class="econ-stxt '+st+'">'+stLbl+'</span>' +
                            (meta ? '<span class="econ-card-def">'+meta.def+'</span>' : '') +
                          '</div>' +
                          (meta ? '<div class="econ-card-sum">'+(meta.summary[st]||'')+'</div>' : '') +
                          (meta ? '<div class="econ-card-thr">'+meta.thrStr+'</div>' : '') +
                        '</div>' +
                        '<div class="econ-card-frq">'+ind.freq+'</div>';
                    card.addEventListener('click', function() { openEconModal(key); });
                    grid.appendChild(card);
                });

                // ‚îÄ‚îÄ Î™®Îã¨ (Chart.js lazy load) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
                var _chartInst = null;

                window.openEconModal = function(key) {
                    var ind = D.indicators[key];
                    if (!ind) return;
                    document.getElementById('econModalTitle').textContent = ind.icon + ' ' + ind.label;
                    var noteEl = document.getElementById('econModalNote');
                    if (noteEl) noteEl.textContent = 'Í∏∞Ï§ÄÏÑ†: ' + (ind.thresholdLabel || '') + ' | Ï∂úÏ≤ò: ' + ind.freq;
                    document.getElementById('econOverlay').classList.add('open');

                    var vals = ind.values || [], dates = ind.dates || [];
                    var cur = ind.current, mn = vals.length ? Math.min.apply(null,vals) : 0;
                    var mx  = vals.length ? Math.max.apply(null,vals) : 0;
                    var avg = vals.length ? (vals.reduce(function(a,b){return a+b;},0)/vals.length).toFixed(2) : '--';
                    document.getElementById('econModalStats').innerHTML =
                        '<div class="econ-stat"><div class="econ-stat-lbl">ÌòÑÏû¨</div><div class="econ-stat-val">'+(cur!==null&&cur!==undefined?cur+ind.unit:'N/A')+'</div></div>' +
                        '<div class="econ-stat"><div class="econ-stat-lbl">'+vals.length+'Í∞úÏõî ÌèâÍ∑†</div><div class="econ-stat-val">'+avg+ind.unit+'</div></div>' +
                        '<div class="econ-stat"><div class="econ-stat-lbl">ÏµúÍ≥†</div><div class="econ-stat-val">'+mx.toFixed(2)+ind.unit+'</div></div>' +
                        '<div class="econ-stat"><div class="econ-stat-lbl">ÏµúÏ†Ä</div><div class="econ-stat-val">'+mn.toFixed(2)+ind.unit+'</div></div>';

                    function drawChart() {
                        var canvas = document.getElementById('econModalCanvas');
                        if (_chartInst) { _chartInst.destroy(); _chartInst = null; }
                        var datasets = [{
                            label: ind.label, data: vals,
                            borderColor: ind.color || '#3b82f6',
                            backgroundColor: (ind.color || '#3b82f6') + '22',
                            borderWidth: 2, pointRadius: 3, fill: true, tension: 0.3
                        }];
                        if (ind.threshold !== null && ind.threshold !== undefined) {
                            datasets.push({ label: ind.thresholdLabel || 'Í∏∞Ï§ÄÏÑ†',
                                data: dates.map(function(){ return ind.threshold; }),
                                borderColor: '#94a3b8', borderDash: [5,5],
                                borderWidth: 1, pointRadius: 0, fill: false });
                        }
                        _chartInst = new Chart(canvas, {
                            type: 'line',
                            data: { labels: dates, datasets: datasets },
                            options: {
                                responsive: true, maintainAspectRatio: false,
                                plugins: { legend: { labels: { font: { size: 11 }, boxWidth: 16 } } },
                                scales: {
                                    x: { ticks: { maxTicksLimit: 12, font: { size: 10 } } },
                                    y: { ticks: { font: { size: 10 } } }
                                }
                            }
                        });
                    }
                    if (typeof Chart !== 'undefined') { drawChart(); }
                    else {
                        var s = document.createElement('script');
                        s.src = 'https://cdn.jsdelivr.net/npm/chart.js@4/dist/chart.umd.min.js';
                        s.onload = drawChart;
                        document.head.appendChild(s);
                    }
                };

                window.closeEconModal = function() {
                    document.getElementById('econOverlay').classList.remove('open');
                };
                document.addEventListener('keydown', function(e) {
                    if (e.key === 'Escape') closeEconModal();
                });
            })();

            // ‚îÄ‚îÄ MK RSS Ïπ¥ÌÖåÍ≥†Î¶¨Î≥Ñ URL ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
            var MK_RSS_URLS = {
                'Ï¶ùÍ∂å':   'https://www.mk.co.kr/rss/40300001/',
                'Í≤ΩÏ†ú':   'https://www.mk.co.kr/rss/30100041/',
                'Î∂ÄÎèôÏÇ∞': 'https://www.mk.co.kr/rss/50300009/',
                'Íµ≠Ï†ú':   'https://www.mk.co.kr/rss/30200030/',
                'ÏÇ∞ÏóÖ¬∑IT':'https://www.mk.co.kr/rss/50200011/'
            };

            // Ïã§ÏãúÍ∞Ñ MK RSS ÌîºÎìú fetch (rss2json.com CORS ÌîÑÎ°ùÏãú)
            async function mkFetchLive(cat) {
                var box = document.getElementById('mk-articles-box');
                if (box) box.innerHTML = '<p style="color:#94a3b8;font-size:0.82em;padding:6px 0;">‚ü≥ ÏµúÏã† Í∏∞ÏÇ¨ Î∂àÎü¨Ïò§Îäî Ï§ë...</p>';

                var rssUrl = MK_RSS_URLS[cat];
                if (!rssUrl) { mkShow(cat); return; }

                try {
                    var apiUrl = 'https://api.rss2json.com/v1/api.json?rss_url=' + encodeURIComponent(rssUrl) + '&count=10';
                    var res = await fetch(apiUrl);
                    var json = await res.json();
                    if (json.status === 'ok' && json.items && json.items.length > 0) {
                        if (typeof _MKD === 'undefined') window._MKD = {};
                        _MKD[cat] = json.items.slice(0, 10).map(function(item) {
                            var d = item.pubDate ? item.pubDate.slice(0, 10) : '';
                            return { t: item.title, l: item.link, d: d };
                        });
                        mkShow(cat);
                        return;
                    }
                } catch(e) { console.log('MK ÎùºÏù¥Î∏å ÌîºÎìú Ïã§Ìå®', e); }

                // Ïã§Ìå® Ïãú Ï∫êÏãú Îç∞Ïù¥ÌÑ∞ ÌëúÏãú
                mkShow(cat);
            }

            // ÌîÑÎ¶¨ÏßÑÍ≤ΩÏ†ú ÏÑπÏÖò Ïã§ÏãúÍ∞Ñ fetch (allorigins.win CORS ÌîÑÎ°ùÏãú)
            // ÏÉàÎ°úÍ≥†Ïπ® Î≤ÑÌäº Ìï∏Îì§Îü¨ (MK Í∞±Ïã†)
            function refreshRightCard() {
                var sel = document.getElementById('mk-cat-sel');
                var cat = sel ? sel.value : 'Ï¶ùÍ∂å';
                mkFetchLive(cat);
            }

            // ‚îÄ‚îÄ MK RSS ÎìúÎ°≠Îã§Ïö¥ Î†åÎçîÎßÅ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
            function mkShow(cat) {
                var arts = (typeof _MKD !== 'undefined' && _MKD[cat]) ? _MKD[cat] : [];
                var h = '';
                arts.forEach(function(a) {
                    h += '<div style="margin-bottom:9px;padding:9px 10px;' +
                         'background:rgba(0,0,0,0.2);border-left:3px solid rgba(251,191,36,0.5);' +
                         'border-radius:0 6px 6px 0;">';
                    h += '<a href="' + a.l + '" target="_blank" rel="noopener" ' +
                         'style="color:#f8fafc;text-decoration:none;font-size:0.87em;' +
                         'font-weight:600;line-height:1.4;display:block;">' + a.t + '</a>';
                    h += '<span style="color:#64748b;font-size:0.72em;display:block;margin-top:3px;">' +
                         (a.d || '') + ' &middot; Ï∂úÏ≤ò: <a href="https://www.mk.co.kr" ' +
                         'target="_blank" rel="noopener" ' +
                         'style="color:#94a3b8;text-decoration:underline;">Îß§ÏùºÍ≤ΩÏ†ú</a></span>';
                    h += '</div>';
                });
                var box = document.getElementById('mk-articles-box');
                if (box) {
                    box.innerHTML = h || '<p style="color:#f87171;font-size:0.85em;">Í∏∞ÏÇ¨Î•º Î∂àÎü¨Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§.</p>';
                }
            }
        </script>


    <!-- PWA ÏÑ§Ïπò + Î∞©Î¨∏Ïûê Ïπ¥Ïö¥ÌÑ∞ -->
    <script>
        // ‚îÄ‚îÄ PWA ÏÑ§Ïπò ÌîÑÎ°¨ÌîÑÌä∏ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        var _pwaPrompt = null;

        window.addEventListener('beforeinstallprompt', function(e) {
            e.preventDefault();
            _pwaPrompt = e;
            var btn = document.getElementById('pwaInstallBtn');
            if (btn) btn.style.display = 'inline-flex';
        });

        window.addEventListener('appinstalled', function() {
            var btn = document.getElementById('pwaInstallBtn');
            if (btn) btn.style.display = 'none';
            _pwaPrompt = null;
        });

        function pwaInstall() {
            if (_pwaPrompt) {
                // Android / Chrome: ÏãúÏä§ÌÖú ÏÑ§Ïπò ÌîÑÎ°¨ÌîÑÌä∏
                _pwaPrompt.prompt();
                _pwaPrompt.userChoice.then(function(result) {
                    if (result.outcome === 'accepted') {
                        var btn = document.getElementById('pwaInstallBtn');
                        if (btn) btn.style.display = 'none';
                    }
                    _pwaPrompt = null;
                });
            } else {
                // iOS Safari: ÏàòÎèô ÏïàÎÇ¥ ÌåùÏóÖ
                alert('Ìôà ÌôîÎ©¥Ïóê Ï∂îÍ∞ÄÌïòÎäî Î∞©Î≤ï:\n\niOS Safari: ÌïòÎã® Í≥µÏú† Î≤ÑÌäº(‚ñ°‚Üë) ‚Üí "Ìôà ÌôîÎ©¥Ïóê Ï∂îÍ∞Ä"\nAndroid: Î∏åÎùºÏö∞Ï†Ä Î©îÎâ¥(‚ãÆ) ‚Üí "Ìôà ÌôîÎ©¥Ïóê Ï∂îÍ∞Ä"');
            }
        }

        // iOSÏóêÏÑúÎèÑ Î≤ÑÌäº ÌëúÏãú (beforeinstallprompt ÎØ∏ÏßÄÏõê)
        (function() {
            var isIOS = /iphone|ipad|ipod/i.test(navigator.userAgent);
            var isInApp = window.navigator.standalone;
            if (isIOS && !isInApp) {
                var btn = document.getElementById('pwaInstallBtn');
                if (btn) btn.style.display = 'inline-flex';
            }
        })();

        // ‚îÄ‚îÄ Î∞©Î¨∏Ïûê Ïπ¥Ïö¥ÌÑ∞ (countapi.xyz) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        (function() {
            var ns = 'investflow-apus80';
            var today = new Date().toISOString().split('T')[0].replace(/-/g, '');
            // Í∞ôÏùÄ ÏÑ∏ÏÖòÏóêÏÑú Ï§ëÎ≥µ Ïπ¥Ïö¥Ìä∏ Î∞©ÏßÄ
            var counted = sessionStorage.getItem('vc_counted');

            function fmt(n) {
                return Number(n).toLocaleString('ko-KR');
            }

            function updateDisplay(todayVal, totalVal) {
                var t = document.getElementById('vcToday');
                var v = document.getElementById('vcTotal');
                if (t) t.textContent = fmt(todayVal);
                if (v) v.textContent = fmt(totalVal);
            }

            if (!counted) {
                // ÏµúÏ¥à Î∞©Î¨∏: Îëê Ïπ¥Ïö¥ÌÑ∞ Î™®Îëê Ï¶ùÍ∞Ä
                sessionStorage.setItem('vc_counted', '1');
                Promise.all([
                    fetch('https://api.countapi.xyz/hit/' + ns + '/total').then(function(r){ return r.json(); }),
                    fetch('https://api.countapi.xyz/hit/' + ns + '/day-' + today).then(function(r){ return r.json(); })
                ]).then(function(results) {
                    updateDisplay(results[1].value, results[0].value);
                }).catch(function() {});
            } else {
                // Ïû¨Î∞©Î¨∏(Í∞ôÏùÄ ÏÑ∏ÏÖò): Ï¶ùÍ∞Ä ÏóÜÏù¥ Ï°∞ÌöåÎßå
                Promise.all([
                    fetch('https://api.countapi.xyz/get/' + ns + '/total').then(function(r){ return r.json(); }),
                    fetch('https://api.countapi.xyz/get/' + ns + '/day-' + today).then(function(r){ return r.json(); })
                ]).then(function(results) {
                    updateDisplay(results[1].value, results[0].value);
                }).catch(function() {});
            }
        })();
    </script>

    <!-- PWA Service Worker Îì±Î°ù -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js')
                    .then(reg => console.log('SW Îì±Î°ù ÏÑ±Í≥µ:', reg.scope))
                    .catch(err => console.log('SW Îì±Î°ù Ïã§Ìå®:', err));
            });
        }
    </script>

</body>

</html>
