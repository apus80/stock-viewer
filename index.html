<!DOCTYPE html>
<html lang="ko">

<head>
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <!-- Version: v1771922054 -->

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì£¼ì‹ ë¶„ì„ í†µí•© ë¦¬í¬íŠ¸ ë·°ì–´</title>

    <!-- PWA ì„¤ì • -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#667eea">
    <meta name="mobile-web-app-capable" content="yes">

    <!-- iOS Safari í™ˆ í™”ë©´ ì¶”ê°€ ì§€ì› -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="InvestFlow">
    <link rel="apple-touch-icon" href="icons/apple-touch-icon.png">
    <style>
        :root {
            /* ì»¬ëŸ¬ ì‹œìŠ¤í…œ */
            --primary: #667eea;
            --primary-dark: #5a67d8;
            --secondary: #764ba2;
            --accent: #ff4757;
            --success: #28a745;
            --bg-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --light-bg: #f8f9fa;
            --card-bg: #ffffff;

            /* í…ìŠ¤íŠ¸ ì»¬ëŸ¬ */
            --text-main: #2d3748;
            --text-muted: #718096;
            --text-light: #ffffff;

            /* ê°„ê²© ë° ë‘¥ê¸€ê¸° */
            --radius-main: 15px;
            --radius-small: 8px;
            --spacing-main: 30px;
            --spacing-mobile: 15px;

            /* ê·¸ë¦¼ì */
            --shadow-main: 0 4px 15px rgba(0, 0, 0, 0.1);
            --shadow-float: 0 10px 25px rgba(0, 0, 0, 0.15);
            --shadow-deep: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', sans-serif;
            background: var(--bg-gradient);
            min-height: 100vh;
            padding: 20px;
            color: var(--text-main);
            line-height: 1.6;
        }

        /* ê³µí†µ ì¹´ë“œ ìŠ¤íƒ€ì¼ */
        .card {
            background: var(--card-bg);
            border-radius: var(--radius-small);
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--shadow-main);
            border-left: 5px solid var(--primary);
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-float);
        }

        .container {
            width: 100%;
            max-width: 100%;
            margin: 0;
            background: white;
            border-radius: var(--radius-main);
            box-shadow: var(--shadow-deep);
            overflow: hidden;
        }

        /* í—¤ë” ìŠ¤íƒ€ì¼ ìµœì í™” */
        .header {
            background: var(--bg-gradient);
            color: white;
            padding: 40px 30px;
            text-align: center;
            position: relative;
        }

        .header h1 {
            font-size: 2.2em;
            margin-bottom: 10px;
            font-weight: 800;
            letter-spacing: -0.02em;
        }

        .header p {
            opacity: 0.9;
            font-size: 1.1em;
            font-weight: 400;
        }

        .logout-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.4);
            color: white;
            border-radius: var(--radius-small);
            cursor: pointer;
            font-size: 0.85em;
            transition: all 0.3s;
            backdrop-filter: blur(5px);
        }

        .logout-btn:hover {
            background: white;
            color: var(--primary);
        }

        /* ë ˆì´ì•„ì›ƒ ì‹œìŠ¤í…œ */
        .grid-dashboard {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            padding: 20px;
            width: 100%;
        }

        .section-title {
            font-size: 1.25em;
            color: var(--text-main);
            margin-bottom: 20px;
            padding-left: 10px;
            border-left: 4px solid var(--primary);
            font-weight: 700;
        }

        .controls {
            padding: 30px;
            background: var(--light-bg);
            border-top: 1px solid #edf2f7;
        }

        .category-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }

        /* 2ë‹¨ ë¦¬í¬íŠ¸ ë ˆì´ì•„ì›ƒ ì „ìš© ìŠ¤íƒ€ì¼ */
        .grid-top-row {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 20px;
        }

        .grid-bottom-row {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
        }

        @media (max-width: 1200px) {

            .grid-top-row,
            .grid-bottom-row {
                grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            }
        }

        .category-section {
            margin-bottom: 0px;
            /* ê·¸ë¦¬ë“œ ê°­ìœ¼ë¡œ ëŒ€ì²´ */
            padding: 24px;
            background: white;
            border-radius: var(--radius-small);
            box-shadow: var(--shadow-main);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid #edf2f7;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .category-section:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-float);
            border-color: var(--primary);
        }

        .category-section.featured {
            border: 2px solid var(--primary);
            background: linear-gradient(180deg, #f8f9ff 0%, #ffffff 100%);
        }

        .category-section.news {
            border: 2px solid var(--success);
            background: linear-gradient(180deg, #f0fff4 0%, #ffffff 100%);
        }

        .category-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .category-icon {
            font-size: 2.2em;
            background: #f1f5f9;
            padding: 10px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .category-title h3 {
            color: var(--primary-dark);
            font-size: 1.2em;
            margin-bottom: 4px;
            font-weight: 700;
        }

        .category-title p {
            color: var(--text-muted);
            font-size: 0.85em;
        }

        .selector-row {
            display: flex;
            gap: 12px;
            align-items: center;
            flex-wrap: wrap;
            width: 100%;
        }

        .selector-row select {
            flex: 1;
            min-width: 150px;
            padding: 12px 16px;
            border: 1.5px solid #e2e8f0;
            border-radius: var(--radius-small);
            font-size: 0.95em;
            background: #fff;
            cursor: pointer;
            transition: all 0.2s;
            color: var(--text-main);
        }

        .selector-row select:hover {
            border-color: var(--primary);
        }

        .btn-load {
            padding: 12px 24px;
            background: var(--bg-gradient);
            color: white;
            border: none;
            border-radius: var(--radius-small);
            font-size: 0.95em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 4px 6px rgba(102, 126, 234, 0.2);
        }

        .btn-load:hover {
            filter: brightness(1.1);
            transform: scale(1.02);
            box-shadow: 0 6px 12px rgba(102, 126, 234, 0.3);
        }

        /* ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤ ì¶”ê°€ */
        .btn-sm {
            cursor: pointer;
            font-size: 11px;
            padding: 4px 10px;
            border-radius: var(--radius-small);
            border: 1px solid #e2e8f0;
            background: #fff;
            transition: all 0.2s;
            color: var(--text-main);
            font-weight: 600;
        }

        .btn-sm:hover {
            border-color: var(--primary);
            color: var(--primary);
            background: #f8faff;
        }

        .quote-label {
            font-size: 0.85em;
            color: var(--text-muted);
            margin-bottom: 12px;
            font-weight: 700;
        }

        .sentiment-inner {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .quote-item {
            background: #f8fafc;
            padding: 15px;
            border-radius: var(--radius-small);
            border: 1px solid #edf2f7;
        }

        /* PDF ë° ê²€ìƒ‰ ì„¹ì…˜ */
        .pdf-viewer {
            padding: 20px;
            min-height: 800px;
            background: #f8fafc;
            border-top: 1px solid #edf2f7;
        }

        .pdf-container {
            width: 100%;
            height: 1800px;
            border: 2px solid #e2e8f0;
            border-radius: var(--radius-small);
            overflow: hidden;
            background: #f8f9fa;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .pdf-container iframe {
            width: 100%;
            height: 100%;
            border: none;
        }

        /* ë‰´ìŠ¤ & ì„¹í„° ë³‘ë ¬ ë ˆì´ì•„ì›ƒ */
        .news-sector-row {
            display: grid;
            grid-template-columns: 1fr 1.2fr;
            gap: 20px;
            padding: 0 20px;
            margin-bottom: 20px;
        }

        @media (max-width: 1024px) {
            .news-sector-row {
                grid-template-columns: 1fr;
            }
        }

        /* â”€â”€ ì‹¤ì‹œê°„ ê¸ˆìœµ ë‰´ìŠ¤ ê²€ìƒ‰ â”€â”€ */
        .news-search-wrap {
            background: #fff;
            padding: 24px;
            margin: 20px 0;
            border-radius: var(--radius-small);
            box-shadow: var(--shadow-main);
            border-left: 5px solid #f59e0b;
        }
        .news-search-wrap h3 {
            color: var(--primary-dark);
            margin-bottom: 14px;
            font-size: 1.2em;
            font-weight: 700;
        }
        .news-search-bar { display: flex; gap: 10px; margin-bottom: 6px; }
        .news-search-bar input {
            flex: 1; padding: 12px 16px;
            border: 2px solid #e2e8f0; border-radius: var(--radius-small);
            font-size: 1em; transition: all 0.2s; background: #f8fafc;
        }
        .news-search-bar input:focus {
            outline: none; border-color: #f59e0b; background: #fff;
            box-shadow: 0 0 0 3px rgba(245,158,11,0.12);
        }
        .news-search-bar button {
            padding: 12px 24px;
            background: linear-gradient(135deg, #f59e0b, #d97706);
            color: #fff; border: none; border-radius: var(--radius-small);
            font-weight: 600; font-size: 0.95em; cursor: pointer;
            transition: all 0.2s; white-space: nowrap;
        }
        .news-search-bar button:hover { opacity: 0.88; transform: translateY(-1px); }
        .news-search-hint { font-size: 0.78em; color: #94a3b8; margin-bottom: 14px; }
        /* 2-ì»¬ëŸ¼ ê²°ê³¼ ë ˆì´ì•„ì›ƒ */
        .ns-columns {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
            margin-top: 14px;
        }
        .ns-col-header {
            font-size: 0.9em; font-weight: 700; color: var(--primary-dark);
            padding-bottom: 8px; margin-bottom: 10px;
            border-bottom: 2px solid #e2e8f0;
            display: flex; align-items: center; gap: 6px;
        }
        .ns-trans-badge {
            font-size: 0.72em; font-weight: 600;
            background: #eff6ff; color: #3b82f6;
            padding: 2px 7px; border-radius: 10px;
            border: 1px solid #bfdbfe;
        }
        .ns-col-src { font-size: 0.72em; color: #94a3b8; margin-top: 6px; }
        /* ìŠ¤ì¼ˆë ˆí†¤ */
        @keyframes ns-shimmer {
            0%   { background-position: -400px 0; }
            100% { background-position:  400px 0; }
        }
        .ns-skeleton {
            background: linear-gradient(90deg, #f0f4f8 25%, #e2e8f0 50%, #f0f4f8 75%);
            background-size: 400px 100%;
            animation: ns-shimmer 1.3s infinite linear;
            border-radius: 6px; margin-bottom: 10px; height: 66px;
        }
        /* ê²°ê³¼ ì¹´ë“œ */
        .ns-card {
            display: flex; flex-direction: column; gap: 4px;
            padding: 11px 14px; border: 1px solid #e2e8f0;
            border-radius: 8px; margin-bottom: 9px;
            text-decoration: none; color: inherit;
            transition: all 0.18s; background: #fafbff;
        }
        .ns-card.kor { border-left: 4px solid #3b82f6; }
        .ns-card.eng { border-left: 4px solid #f59e0b; }
        .ns-card.kor:hover { background: #eff6ff; transform: translateX(2px); box-shadow: 0 2px 8px rgba(59,130,246,0.12); }
        .ns-card.eng:hover { background: #fff7ed; transform: translateX(2px); box-shadow: 0 2px 8px rgba(245,158,11,0.12); }
        .ns-title  { font-size: 0.9em; font-weight: 700; color: #1e293b; line-height: 1.45; }
        .ns-meta   { font-size: 0.73em; color: #64748b; display: flex; gap: 8px; flex-wrap: wrap; }
        .ns-source-kor { color: #3b82f6; font-weight: 600; }
        .ns-source-eng { color: #f59e0b; font-weight: 600; }
        .ns-empty  { color: #94a3b8; font-size: 0.85em; padding: 14px 0; text-align: center; }
        .ns-api-note { font-size: 0.73em; color: #94a3b8; margin-top: 12px; padding-top: 10px; border-top: 1px solid #f1f5f9; }
        @media (max-width: 680px) {
            .ns-columns { grid-template-columns: 1fr; }
            .news-search-bar { flex-direction: column; }
            .news-search-bar button { width: 100%; }
        }

        .earnings-search {
            background: #fff;
            padding: 24px;
            margin: 20px 0;
            border-radius: var(--radius-small);
            box-shadow: var(--shadow-main);
            border-left: 5px solid var(--primary);
        }

        .earnings-search h3 {
            color: var(--primary-dark);
            margin-bottom: 15px;
            font-size: 1.2em;
            font-weight: 700;
        }

        .search-box {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .search-input {
            flex: 1;
            padding: 12px 16px;
            border: 2px solid #e2e8f0;
            border-radius: var(--radius-small);
            font-size: 1em;
            transition: all 0.2s;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .search-btn {
            padding: 12px 24px;
            background: var(--bg-gradient);
            color: #fff;
            border: none;
            border-radius: var(--radius-small);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .search-result {
            padding: 15px;
            background: #f8fafc;
            border-radius: var(--radius-small);
            border-left: 4px solid var(--primary);
            font-size: 0.95em;
            line-height: 1.6;
        }

        .update-note {
            margin-top: 10px;
            font-size: 0.8em;
            color: var(--text-muted);
            display: flex;
            align-items: center;
            gap: 5px;
        }

        /* ë‰´ìŠ¤ ëŒ€ì‹œë³´ë“œ */
        .news-dashboard {
            padding: 24px;
            background: #fff;
            border-radius: var(--radius-small);
            box-shadow: var(--shadow-main);
            margin-bottom: 30px;
        }

        .news-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-top: 20px;
        }

        .news-item {
            padding: 15px;
            border-radius: var(--radius-small);
            border: 1px solid #edf2f7;
            transition: all 0.2s;
        }

        .news-item:hover {
            border-color: var(--primary);
            background: #f8fafc;
        }

        /* ë°˜ì‘í˜• ë¯¸ë””ì–´ ì¿¼ë¦¬ (Mobile-First ë° Breakpoints) */
        @media (max-width: 1024px) {
            .category-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            .container {
                border-radius: 0;
            }

            .header {
                padding: 30px 15px;
            }

            .header h1 {
                font-size: 1.6em;
            }

            .header p {
                font-size: 0.9em;
            }

            .grid-dashboard {
                grid-template-columns: 1fr;
                padding: 15px;
            }

            .controls {
                padding: 20px 15px;
            }

            .category-section {
                padding: 20px;
            }

            .selector-row {
                flex-direction: column;
                align-items: stretch;
            }

            .selector-row select,
            .btn-load {
                width: 100%;
            }

            .pdf-container {
                height: 500px;
            }

            .logout-btn {
                position: relative;
                top: 0;
                right: 0;
                margin: 15px auto 0;
                display: block;
                width: fit-content;
            }

            .search-box {
                flex-direction: column;
            }

            .search-btn {
                width: 100%;
            }
        }

        @media (max-width: 480px) {
            .header h1 {
                font-size: 1.4em;
            }

            .category-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }

            .category-icon {
                font-size: 1.8em;
                padding: 8px;
            }
        }

        /* ê¸°íƒ€ ìŠ¤íƒ€ì¼ ì •ë¦¬ */
        .divider {
            height: 1px;
            background: #e2e8f0;
            margin: 40px 0;
        }

        .news-sector-row {
            display: grid;
            padding: 40px 20px;
            border-top: 1px solid #e2e8f0;
            text-align: center;
        }

        border-left-color: #ffc107
        }

        .result-company {
            font-weight: 700;
            color: #495057;
            margin-bottom: 5px
        }

        .result-date {
            color: #667eea;
            font-weight: 600;
            margin-bottom: 3px
        }

        .result-info {
            color: #6c757d;
            font-size: 0.85em
        }

        .update-note {
            margin-top: 10px;
            padding: 7px;
            background: #e7f0ff;
            border-radius: 4px;
            font-size: 0.78em
        }

        .news-dashboard {
            background: #fff;
            padding: 18px;
            margin: 15px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05)
        }

        .news-dashboard h2 {
            color: #667eea;
            margin-bottom: 12px;
            font-size: 1.25em;
            text-align: center
        }

        .news-grid {
            display: grid;
            gap: 8px;
            margin-bottom: 12px
        }

        .news-item {
            padding: 9px;
            background: #f8f9fa;
            border-radius: 5px;
            border-left: 3px solid #667eea;
            transition: transform 0.2s
        }

        .news-item:hover {
            transform: translateX(2px)
        }

        .news-title {
            font-weight: 600;
            color: #495057;
            margin-bottom: 3px;
            font-size: 0.85em
        }

        .news-meta {
            font-size: 0.72em;
            color: #6c757d
        }

        .news-link {
            text-decoration: none;
            color: inherit;
            display: block
        }

        .sector-map {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 7px;
            margin-bottom: 12px
        }

        .sector-item {
            padding: 8px;
            border-radius: 5px;
            text-align: center;
            font-size: 0.75em;
            font-weight: 600
        }

        .sector-up {
            background: linear-gradient(135deg, #d4edda, #c3e6cb);
            color: #155724
        }

        .sector-down {
            background: linear-gradient(135deg, #f8d7da, #f5c6cb);
            color: #721c24
        }

        .sector-neutral {
            background: linear-gradient(135deg, #fff3cd, #ffeaa7);
            color: #856404
        }

        .market-summary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: #fff;
            padding: 10px;
            border-radius: 5px;
            text-align: center
        }

        .market-summary h3 {
            margin-bottom: 6px;
            font-size: 1em
        }

        .market-keywords {
            display: flex;
            gap: 5px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 6px
        }

        .keyword {
            background: rgba(255, 255, 255, 0.2);
            padding: 3px 8px;
            border-radius: 10px;
            font-size: 0.75em
        }

        .framework-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px
        }

        @media (max-width:768px) {
            .framework-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px
            }
        }

        @media (max-width:480px) {
            .framework-grid {
                grid-template-columns: 1fr
            }
        }

        /* ê²½ì œ ìº˜ë¦°ë” */
        .economic-calendar {
            background: #fff;
            padding: 20px;
            margin: 15px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05)
        }

        .economic-calendar h2 {
            text-align: center;
            color: #667eea;
            font-size: 1.3em;
            margin-bottom: 15px
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 20px;
            max-width: 700px;
            margin: 0 auto 20px
        }

        .month-calendar {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 10px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.04)
        }

        .month-header {
            text-align: center;
            font-size: 0.95em;
            font-weight: 700;
            color: #495057;
            margin-bottom: 8px;
            padding-bottom: 6px;
            border-bottom: 2px solid #667eea
        }

        .weekdays {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 2px;
            margin-bottom: 6px;
            text-align: center;
            font-weight: 600;
            color: #6c757d;
            font-size: 0.7em
        }

        .dates {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 2px
        }

        .date {
            aspect-ratio: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 3px;
            border-radius: 5px;
            background: #fff;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
            min-height: 35px;
            font-size: 0.75em
        }

        .date:hover:not(.empty) {
            transform: translateY(-1px);
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1)
        }

        .date.empty {
            background: transparent;
            cursor: default
        }

        .date.has-event {
            background: linear-gradient(135deg, #fff 0%, #f0f4ff 100%);
            border: 2px solid #667eea;
            font-weight: 600
        }

        .event-icon {
            font-size: 0.8em;
            margin-top: 1px
        }

        .tooltip {
            display: none;
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: #2c3e50;
            color: #fff;
            padding: 4px 7px;
            border-radius: 4px;
            font-size: 0.65em;
            z-index: 1000;
            margin-bottom: 3px;
            white-space: nowrap
        }

        .date:hover .tooltip {
            display: block
        }

        .event-summary {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px
        }

        .event-summary h3 {
            color: #495057;
            margin-bottom: 10px;
            font-size: 1.05em
        }

        .category-section {
            margin-bottom: 12px
        }

        .category-header-cal {
            font-weight: 700;
            color: #fff;
            padding: 9px;
            border-radius: 6px;
            margin-bottom: 8px;
            text-align: center;
            font-size: 0.88em;
            cursor: pointer;
            user-select: none;
            transition: all 0.2s;
            position: relative
        }

        .category-header-cal:hover {
            opacity: 0.9
        }

        .category-header-cal::after {
            content: 'â–¼';
            float: right;
            transition: transform 0.3s;
            font-size: 0.7em
        }

        .category-header-cal.collapsed::after {
            transform: rotate(-90deg)
        }

        .accordion-content {
            max-height: 3000px;
            overflow: hidden;
            transition: max-height 0.3s ease-out
        }

        .accordion-content.collapsed {
            max-height: 0
        }

        .event-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 8px
        }

        .event-item-cal {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px;
            background: #fff;
            border-radius: 5px;
            border-left: 3px solid #667eea;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.03);
            transition: all 0.2s;
            font-size: 0.85em
        }

        .event-item-cal:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.06)
        }

        .event-icon-large {
            font-size: 1.2em;
            min-width: 25px;
            text-align: center
        }

        .event-details-cal {
            flex: 1
        }

        .event-date-cal {
            font-weight: 700;
            color: #495057;
            font-size: 0.88em
        }

        .event-title-cal {
            color: #6c757d;
            font-size: 0.82em;
            line-height: 1.2
        }

        /* í”„ë¦¬ë¯¸ì—„ 2ë‹¨ ë§ˆì¼“ ë‰´ìŠ¤ ì¹´ë“œ ìŠ¤íƒ€ì¼ */
        .news-card-wrapper {
            display: flex;
            gap: 20px;
            margin: 20px;
            flex-wrap: wrap;
            /* ëª¨ë°”ì¼ ëŒ€ì‘ */
        }

        .news-card-column {
            flex: 1;
            min-width: 350px;
            background: linear-gradient(135deg, rgba(30, 41, 59, 0.85) 0%, rgba(15, 23, 42, 0.95) 100%);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.12);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
            color: #f1f5f9;
        }

        .news-card-header {
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding-bottom: 15px;
            margin-bottom: 20px;
        }

        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .date-badge {
            background: rgba(56, 189, 248, 0.25);
            color: #38bdf8;
            padding: 5px 14px;
            border-radius: 20px;
            font-size: 0.95rem;
            font-weight: 700;
        }

        .market-status-title {
            font-size: 1.4rem;
            font-weight: 800;
            line-height: 1.4;
            color: #fff;
            letter-spacing: -0.02em;
        }

        .section-label {
            font-size: 0.9rem;
            font-weight: 700;
            color: #a78bfa;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin: 20px 0 12px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-label::after {
            content: '';
            flex: 1;
            height: 1px;
            background: rgba(255, 255, 255, 0.08);
        }

        /* ì§€ìˆ˜ ê·¸ë¦¬ë“œ ìµœì í™” (3ì—´) */
        .index-grid-3 {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }

        .mini-box {
            background: rgba(255, 255, 255, 0.04);
            padding: 12px 8px;
            border-radius: 12px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.06);
        }

        .mini-name {
            font-size: 0.85rem;
            color: #94a3b8;
            display: block;
            margin-bottom: 4px;
        }

        .mini-val {
            font-size: 1.05rem;
            font-weight: 700;
            display: block;
        }

        .mini-pct {
            font-size: 0.9rem;
            font-weight: 600;
        }

        /* ê°€ë¡œí˜• ë°ì´í„° ë°” */
        .data-bar-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.03);
            font-size: 1.05rem;
        }

        .data-bar-label {
            display: flex;
            align-items: center;
            gap: 8px;
            flex: 1;
        }

        .data-bar-visual {
            width: 60px;
            height: 6px;
            background: #334155;
            border-radius: 3px;
            margin: 0 10px;
            position: relative;
            overflow: hidden;
        }

        .data-bar-fill {
            height: 100%;
            border-radius: 3px;
        }

        .headline-item {
            background: rgba(255, 255, 255, 0.02);
            padding: 14px 18px;
            border-radius: 12px;
            margin-bottom: 12px;
            border-left: 4px solid #38bdf8;
            font-size: 1.05rem;
            line-height: 1.5;
            transition: all 0.2s;
        }

        .headline-item:hover {
            background: rgba(255, 255, 255, 0.05);
            transform: translateX(5px);
        }

        .headline-item a {
            color: inherit;
            text-decoration: none;
        }

        .news-source-tag {
            display: block;
            font-size: 0.85rem;
            color: #94a3b8;
            margin-top: 6px;
            font-weight: 500;
        }

        .change-up {
            color: #10b981;
        }

        .change-down {
            color: #f43f5e;
        }

        .sources-footer {
            margin-top: 25px;
            padding-top: 15px;
            border-top: 1px dashed rgba(255, 255, 255, 0.1);
            font-size: 0.85rem;
            color: #64748b;
            text-align: center;
        }

        .sources-footer a {
            color: #38bdf8;
            text-decoration: none;
            margin: 0 5px;
        }

        .change-down {
            color: #dc2626;
            font-weight: bold;
        }

        /* â”€â”€â”€ ë³€ë™ì„± & ë§¤í¬ë¡œ ìœ„ì ¯ â”€â”€â”€ */
        .vol-macro-card {
            margin: 14px 20px;
            background: linear-gradient(135deg, rgba(15,23,42,0.98), rgba(30,41,59,0.95));
            border-radius: 14px;
            border: 1px solid rgba(255,255,255,0.07);
            padding: 14px 18px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.35);
        }
        .vol-macro-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            padding-bottom: 8px;
            border-bottom: 1px solid rgba(255,255,255,0.07);
        }
        .vol-macro-title {
            font-size: 0.84rem;
            font-weight: 700;
            color: #e2e8f0;
            letter-spacing: 0.04em;
        }
        .vol-macro-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 14px;
        }
        .vol-section-title {
            font-size: 0.74rem;
            font-weight: 700;
            color: #94a3b8;
            letter-spacing: 0.04em;
            text-transform: uppercase;
            margin-bottom: 8px;
            padding-bottom: 4px;
            border-bottom: 1px solid rgba(255,255,255,0.07);
        }
        .vol-metric-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 3px 0;
        }
        .vol-metric-label { font-size: 0.78rem; color: #94a3b8; white-space: nowrap; }
        .vol-metric-value { font-size: 0.84rem; font-weight: 600; color: #f8fafc; text-align:right; }
        .vol-badge {
            display: inline-block;
            font-size: 0.6rem;
            padding: 1px 4px;
            border-radius: 3px;
            font-weight: 700;
            margin-left: 3px;
            vertical-align: middle;
        }
        .vol-badge-green  { background: rgba(74,222,128,0.18);  color: #4ade80; }
        .vol-badge-lgreen { background: rgba(163,230,53,0.18);  color: #a3e635; }
        .vol-badge-yellow { background: rgba(250,204,21,0.18);  color: #facc15; }
        .vol-badge-orange { background: rgba(251,146,60,0.18);  color: #fb923c; }
        .vol-badge-red    { background: rgba(248,113,113,0.18); color: #f87171; }
        @media (max-width: 768px) {
            .vol-macro-grid { grid-template-columns: 1fr; gap: 10px; }
        }

    </style>
</head>

<body>
    <!-- ë©”ì¸ ì»¨í…ì¸  -->
    <div id="mainContent" class="main-content">
        <div class="container">
            <div class="header">
                <h1>ğŸ“Š ì£¼ì‹ ë¶„ì„ í†µí•© ë¦¬í¬íŠ¸ ë·°ì–´</h1>

                <p>ì¶”ì²œ ì¢…ëª©ë¶€í„° ì‹œì¥ ë¶„ì„ê¹Œì§€, ëª¨ë“  ë¦¬í¬íŠ¸ë¥¼ í•œ ê³³ì—ì„œ</p>
                <div
                    style="margin-top: 15px; font-size: 0.9em; color: rgba(255,255,255,0.9); display: flex; align-items: center; justify-content: center; gap: 8px;">
                    ë¬¸ì˜ ì‚¬í•­ : aiinvestment@gmail.com
                    <button onclick="copyToClipboard('aiinvestment@gmail.com')" class="btn-sm"
                        style="padding: 2px 8px; border: 1px solid rgba(255,255,255,0.4); background: rgba(255,255,255,0.1); color: white;">ë³µì‚¬</button>
                </div>
            </div>

            <!-- TradingView ì‹¤ì‹œê°„ ì „ê´‘íŒ -->
            <div class="tradingview-ticker-container">
                <div class="tradingview-widget-container">
                    <div class="tradingview-widget-container__widget"></div>
                    <script type="text/javascript"
                        src="https://s3.tradingview.com/external-embedding/embed-widget-ticker-tape.js" async>
                            {
                                "symbols": [
                                    {
                                        "proName": "FOREXCOM:SPXUSD",
                                        "title": "S&P 500"
                                    },
                                    {
                                        "proName": "FOREXCOM:DJI",
                                        "title": "Dow Jones"
                                    },
                                    {
                                        "proName": "NASDAQ:AAPL",
                                        "title": "Apple"
                                    },
                                    {
                                        "proName": "NASDAQ:NVDA",
                                        "title": "NVIDIA"
                                    },
                                    {
                                        "proName": "TVC:GOLD",
                                        "title": "Gold"
                                    },
                                    {
                                        "proName": "BITSTAMP:BTCUSD",
                                        "title": "Bitcoin"
                                    }
                                ],
                                    "showSymbolLogo": true,
                                        "colorTheme": "light",
                                            "isTransparent": false,
                                                "displayMode": "adaptive",
                                                    "locale": "kr"
                            }
                        </script>
                </div>
            </div>

            <!-- ì‹¤ì‹œê°„ ê¸ˆìœµ ë‰´ìŠ¤ ê²€ìƒ‰ -->
            <div class="news-search-wrap">
                <h3>ğŸ” ì‹¤ì‹œê°„ ê¸ˆìœµ ë‰´ìŠ¤ ê²€ìƒ‰</h3>
                <div class="news-search-bar">
                    <input type="text" id="nsInput"
                        placeholder="í‚¤ì›Œë“œ ì…ë ¥ (í•œê¸€/ì˜ì–´ ëª¨ë‘ ì§€ì› Â· ì˜ˆ: ì‚¼ì„±ì „ì, ê¸ˆë¦¬, NVDA)"
                        autocomplete="off"
                        onkeydown="if(event.key==='Enter') nsSearch()">
                    <button onclick="nsSearch()">ğŸ” ê²€ìƒ‰</button>
                </div>
                <p class="news-search-hint">
                    ğŸ‡°ğŸ‡· í•œê¸€ ì…ë ¥ ì‹œ êµ­ë‚´ ë‰´ìŠ¤ 3ê±´ + ì˜ì–´ ìë™ ë²ˆì—­ í›„ í•´ì™¸ ë‰´ìŠ¤ 3ê±´ ë™ì‹œ ê²€ìƒ‰
                </p>
                <div id="nsContainer" style="display:none;">
                    <div class="ns-columns">
                        <div class="ns-col">
                            <div class="ns-col-header">ğŸ‡°ğŸ‡· êµ­ë‚´ ë‰´ìŠ¤</div>
                            <div id="nsKorBox"></div>
                            <div id="nsKorSrc" class="ns-col-src"></div>
                        </div>
                        <div class="ns-col">
                            <div class="ns-col-header">
                                ğŸŒ í•´ì™¸ ë‰´ìŠ¤
                                <span id="nsTransBadge" class="ns-trans-badge" style="display:none;"></span>
                            </div>
                            <div id="nsEngBox"></div>
                            <div id="nsEngSrc" class="ns-col-src"></div>
                        </div>
                    </div>
                </div>
                <p class="ns-api-note">
                    ğŸ“¡ êµ­ë‚´: Naver Open API â†’ Naver ê²€ìƒ‰ â†’ êµ­ë‚´ RSS(MKÂ·í•œê²½Â·ì—°í•©) Â·
                    í•´ì™¸: GNews â†’ The Guardian â†’ Reuters/BBC RSS Â·
                    <span id="ns-key-status" style="color:#10b981;">fallback ëª¨ë“œ ë™ì‘ ì¤‘</span>
                </p>
            </div>

            <!-- ì‹¤ì ë°œí‘œ ê²€ìƒ‰ -->
            <div class="earnings-search">
                <h3>ğŸ“Š ì‹¤ì ë°œí‘œ ì¼ì • ê²€ìƒ‰</h3>
                <div class="search-box">
                    <input type="text" id="earningsSearchInput" class="search-input"
                        placeholder="í‹°ì»¤ ì…ë ¥ (ì˜ˆ: NVDA, AAPL - ëª¨ë“  ë¯¸êµ­ ìƒì¥ ê¸°ì—…)"
                        onkeypress="if(event.key==='Enter') searchEarningsAPI()">
                    <button class="search-btn" onclick="searchEarningsAPI()">ğŸ” ê²€ìƒ‰</button>
                </div>
                <div id="earningsResult"></div>
                <div class="update-note">â„¹ï¸ <strong>ë°ì´í„°:</strong> Financial Modeling Prep API | <strong>ë²”ìœ„:</strong> ëª¨ë“ 
                    ë¯¸êµ­ ìƒì¥ ê¸°ì—… | <strong>ì—…ë°ì´íŠ¸:</strong> ì‹¤ì‹œê°„</div>
            </div>

            <!-- VOLATILITY_CARD_START -->
            <div class="vol-macro-card">
                <div class="vol-macro-header">
                    <span class="vol-macro-title">ğŸ“Š ì‹œì¥ ì‹¬ë¦¬ &amp; ë§¤í¬ë¡œ í˜„í™©</span>
                    <span style="font-size:0.7rem;color:#475569;">Updated: 20:50 KST Â· ë§¤ì‹œ ìë™ê°±ì‹  Â· CBOE / FRED / yfinance</span>
                </div>
                <div class="vol-macro-grid">

                    <!-- â‘  ë³€ë™ì„± & ê³µí¬ ì§€í‘œ -->
                    <div>
                        <div class="vol-section-title">ğŸ˜± ë³€ë™ì„± &amp; ê³µí¬ ì§€í‘œ</div>
                        <div class="vol-metric-row" style="margin-bottom:6px;padding-bottom:6px;border-bottom:1px solid rgba(255,255,255,0.07);">
                            <span class="vol-metric-label">CNN ê³µí¬íƒìš•ì§€ìˆ˜</span>
                            <span class="vol-metric-value" style="font-size:0.9rem;">N/A  </span>
                        </div>
                        <div class="vol-metric-row" style="margin-bottom:6px;">
                            <span class="vol-metric-label" style="color:#64748b;font-size:0.71rem;">ë¶„ë¥˜</span>
                            <span class="vol-metric-value" style="color:#94a3b8;font-size:0.72rem;"></span>
                        </div>
                        <div class="vol-metric-row">
                            <span class="vol-metric-label">VIX ê³µí¬ì§€ìˆ˜</span>
                            <span class="vol-metric-value">19.86 <span style="color:#f87171;font-size:0.68rem;margin-left:2px;">â–²1.23</span> <span class="vol-badge vol-badge-lgreen">ë³´í†µ</span></span>
                        </div>
                        <div class="vol-metric-row">
                            <span class="vol-metric-label">52ì£¼ ë²”ìœ„</span>
                            <span class="vol-metric-value" style="color:#64748b;font-size:0.71rem;">13.47 ~ 52.33</span>
                        </div>
                        <div class="vol-metric-row">
                            <span class="vol-metric-label">52ì£¼ ìœ„ì¹˜</span>
                            <span class="vol-metric-value" style="color:#64748b;font-size:0.71rem;">ìƒìœ„ 84%</span>
                        </div>
                        <div class="vol-metric-row" style="margin-top:7px;padding-top:6px;border-top:1px solid rgba(255,255,255,0.05);">
                            <span class="vol-metric-label">Total P/C ë¹„ìœ¨</span>
                            <span class="vol-metric-value">1.21 <span class="vol-badge vol-badge-green">ë°©ì–´</span></span>
                        </div>
                        <div class="vol-metric-row">
                            <span class="vol-metric-label">Equity P/C</span>
                            <span class="vol-metric-value">N/A </span>
                        </div>
                        <div class="vol-metric-row">
                            <span class="vol-metric-label">Index P/C</span>
                            <span class="vol-metric-value">N/A </span>
                        </div>
                        <div class="vol-metric-row">
                            <span class="vol-metric-label">SPY P/C (ì‹¤ì‹œê°„)</span>
                            <span class="vol-metric-value">1.21 <span class="vol-badge vol-badge-green">ë°©ì–´</span></span>
                        </div>
                        <div style="margin-top:5px;font-size:0.64rem;color:#374151;"> CBOE / yfinance</div>
                    </div>

                    <!-- â‘¡ ì˜µì…˜ ì‹ í˜¸ & ê¸ˆë¦¬ -->
                    <div>
                        <div class="vol-section-title">ğŸ“ˆ ì˜µì…˜ ì‹ í˜¸ &amp; ê¸ˆë¦¬</div>
                        <div class="vol-metric-row">
                            <span class="vol-metric-label">ë¯¸êµ­ 10ë…„ë¬¼</span>
                            <span class="vol-metric-value">3.96%</span>
                        </div>
                        <div class="vol-metric-row">
                            <span class="vol-metric-label">ë¯¸êµ­ 3ê°œì›”ë¬¼</span>
                            <span class="vol-metric-value">3.58%</span>
                        </div>
                        <div class="vol-metric-row">
                            <span class="vol-metric-label">ì¥ë‹¨ê¸° ìŠ¤í”„ë ˆë“œ</span>
                            <span class="vol-metric-value" style="color:#4ade80;">0.38% <span class="vol-badge vol-badge-yellow">í‰íƒ„</span></span>
                        </div>
                        <div class="vol-metric-row" style="margin-top:7px;padding-top:6px;border-top:1px solid rgba(255,255,255,0.05);">
                            <span class="vol-metric-label">Index P/C ì‹ í˜¸</span>
                            <span class="vol-metric-value" style="font-size:0.7rem;color:#94a3b8;">ì½œ ìš°ì„¸ Â· ë‚™ê´€</span>
                        </div>
                        <div class="vol-metric-row" style="margin-top:4px;">
                            <span class="vol-metric-label">ë‹¬ëŸ¬ DXY</span>
                            <span class="vol-metric-value">97.7</span>
                        </div>
                        <div class="vol-metric-row">
                            <span class="vol-metric-label">ê¸ˆ ($/oz)</span>
                            <span class="vol-metric-value">$5248</span>
                        </div>
                    </div>

                    <!-- â‘¢ ì›”ë³„ ë§¤í¬ë¡œ ìš”ì•½ -->
                    <div>
                        <div class="vol-section-title">ğŸ¦ ì›”ë³„ ë§¤í¬ë¡œ ìš”ì•½</div>
                        <div class="vol-metric-row">
                            <span class="vol-metric-label">Fed ê¸°ì¤€ê¸ˆë¦¬</span>
                            <span class="vol-metric-value">3.64% <span class="vol-badge vol-badge-yellow">ì¤‘ë¦½</span></span>
                        </div>
                        <div class="vol-metric-row">
                            <span class="vol-metric-label">CPI ë¬¼ê°€ YoY</span>
                            <span class="vol-metric-value">326.59% <span class="vol-badge vol-badge-red">ê³ ë¬¼ê°€</span></span>
                        </div>
                        <div class="vol-metric-row">
                            <span class="vol-metric-label">ì‹¤ì—…ë¥ </span>
                            <span class="vol-metric-value">4.30%</span>
                        </div>
                        <div style="margin-top:10px;padding-top:8px;border-top:1px solid rgba(255,255,255,0.05);
                                    font-size:0.63rem;color:#374151;line-height:1.9;">
                            ğŸ“Œ P/C &lt;0.7 ê³¼ì—´(ë¹¨ê°•) Â· 0.7-1.0 ì¤‘ë¦½(ë…¸ë‘) Â· &gt;1.0 ë°©ì–´(ì´ˆë¡)<br>
                            ğŸ“Œ VIX &lt;15 ì•ˆì • Â· 15-20 ë³´í†µ Â· 20-25 ì£¼ì˜ Â· &gt;25 ê³µí¬<br>
                            ğŸ“Œ ìŠ¤í”„ë ˆë“œ ì–‘ìˆ˜=ì •ìƒ Â· ìŒìˆ˜=ì—­ì „(ì¹¨ì²´ì‹ í˜¸)
                        </div>
                    </div>

                </div>
            </div>
            <!-- VOLATILITY_CARD_END -->

            <!-- ìƒë¶€ ê·¸ë¦¬ë“œ ëŒ€ì‹œë³´ë“œ: ì§€í‘œ, ì‹¬ë¦¬, ì„¹í„° -->
            <div class="grid-dashboard">
                <!-- ê¸€ë¡œë²Œ ì‹œì¥ í•µì‹¬ ì§€í‘œ -->
                <div class="card macro-card">
                    <h3 class="section-title">ğŸ“Š ê¸€ë¡œë²Œ ì‹œì¥ í•µì‹¬ ì§€í‘œ</h3>
                    <div class="tradingview-widget-container" style="height: 550px;">
                        <div class="tradingview-widget-container__widget"></div>
                        <script type="text/javascript"
                            src="https://s3.tradingview.com/external-embedding/embed-widget-market-overview.js" async>
                                {
                                    "colorTheme": "light", "dateRange": "12M", "showChart": true, "locale": "ko", "width": "100%", "height": 550,
                                        "largeChartUrl": "", "isTransparent": false, "showSymbolLogo": true,
                                            "tabs": [
                                                { "name": "ë¯¸êµ­ ì§€ìˆ˜", "symbols": [{ "s": "NASDAQ:QQQ", "d": "ë‚˜ìŠ¤ë‹¥ 100" }, { "s": "AMEX:SPY", "d": "S&P 500" }, { "s": "FOREXCOM:DJI", "d": "ë‹¤ìš° ì¡´ìŠ¤" }] },
                                                { "name": "ê¸€ë¡œë²Œ/ì„ ë¬¼", "symbols": [{ "s": "CME_MINI:NQ1!", "d": "ë‚˜ìŠ¤ë‹¥ ì„ ë¬¼" }, { "s": "BINANCE:BTCUSDT", "d": "ë¹„íŠ¸ì½”ì¸" }, { "s": "OANDA:XAUUSD", "d": "ê¸ˆ (ê³¨ë“œ)" }] }
                                            ]
                                }
                            </script>
                    </div>
                </div>

                <!-- ì‹œì¥ ì‹¬ë¦¬ ë° í™˜ìœ¨ -->
                <div class="card sentiment-card">
                    <h3 class="section-title">ğŸ“ˆ ì‹œì¥ ì‹¬ë¦¬ ë° í™˜ìœ¨</h3>
                    <div class="sentiment-inner">
                        <div class="quote-item">
                            <p class="quote-label">ğŸ‡°ğŸ‡· ì‹¤ì‹œê°„ ì›/ë‹¬ëŸ¬ í™˜ìœ¨</p>
                            <div class="tradingview-widget-container" style="height: 100px;">
                                <script type="text/javascript"
                                    src="https://s3.tradingview.com/external-embedding/embed-widget-single-quote.js"
                                    async>
                                        { "symbol": "FX_IDC:USDKRW", "width": "100%", "colorTheme": "light", "isTransparent": true, "locale": "ko" }
                                    </script>
                            </div>
                        </div>
                        <div class="divider"></div>
                        <div class="sentiment-selection">
                            <p class="quote-label">ğŸ“Š ì‹¤ì‹œê°„ ì‹œì¥ ì‹¬ë¦¬ ì§€í‘œ</p>
                            <div class="selector-row" style="margin-bottom: 15px;">
                                <button class="btn-sm" onclick="changeSentiment('KRX:KOSPI')">êµ­í”¼</button>
                                <button class="btn-sm" onclick="changeSentiment('KRX:KOSDAQ')">êµ­ë‹¥</button>
                                <button class="btn-sm" onclick="changeSentiment('NASDAQ:QQQ')">ë‚˜ìŠ¤ë‹¥</button>
                                <button class="btn-sm" onclick="changeSentiment('AMEX:SPY')">S&P</button>
                                <button class="btn-sm" onclick="changeSentiment('BINANCE:BTCUSDT')">ì½”ì¸</button>
                            </div>
                            <div id="sentiment-widget-container" style="height: 450px;"></div>
                        </div>
                    </div>
                </div>

                <!-- ì‹œì¥ í•µì‹¬ ê±°ì‹œ ì§€í‘œ (Market Pulse) -->
                <!-- TVC: í•©ì„± ì‹¬ë³¼ ì„ë² ë“œ ì°¨ë‹¨ â†’ ê±°ë˜ì†Œ ì‹¤ì‹œê°„ ê°€ëŠ¥ ì‹¬ë³¼ë§Œ ì‚¬ìš© -->
                <div class="card macro-pulse-card">
                    <h3 class="section-title">ğŸŒ ì‹œì¥ í•µì‹¬ ê±°ì‹œ ì§€í‘œ (Market Pulse)</h3>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">

                        <!-- ê¸ˆ (Gold) -->
                        <div class="tradingview-widget-container">
                            <div class="tradingview-widget-container__widget"></div>
                            <script type="text/javascript"
                                src="https://s3.tradingview.com/external-embedding/embed-widget-mini-symbol-overview.js" async>
                                    { "symbol": "OANDA:XAUUSD", "width": "100%", "height": 200, "locale": "ko", "dateRange": "1M", "colorTheme": "light", "trendLineColor": "rgba(255,179,0,1)", "underLineColor": "rgba(255,179,0,0.3)", "underLineBottomColor": "rgba(255,179,0,0)", "isTransparent": true, "autosize": false, "chartOnly": false }
                            </script>
                        </div>

                        <!-- ì€ (Silver) -->
                        <div class="tradingview-widget-container">
                            <div class="tradingview-widget-container__widget"></div>
                            <script type="text/javascript"
                                src="https://s3.tradingview.com/external-embedding/embed-widget-mini-symbol-overview.js" async>
                                    { "symbol": "OANDA:XAGUSD", "width": "100%", "height": 200, "locale": "ko", "dateRange": "1M", "colorTheme": "light", "trendLineColor": "rgba(148,163,184,1)", "underLineColor": "rgba(148,163,184,0.3)", "underLineBottomColor": "rgba(148,163,184,0)", "isTransparent": true, "autosize": false, "chartOnly": false }
                            </script>
                        </div>

                        <!-- ë¹„íŠ¸ì½”ì¸ (Bitcoin) -->
                        <div class="tradingview-widget-container">
                            <div class="tradingview-widget-container__widget"></div>
                            <script type="text/javascript"
                                src="https://s3.tradingview.com/external-embedding/embed-widget-mini-symbol-overview.js" async>
                                    { "symbol": "COINBASE:BTCUSD", "width": "100%", "height": 200, "locale": "ko", "dateRange": "1M", "colorTheme": "light", "trendLineColor": "rgba(247,147,26,1)", "underLineColor": "rgba(247,147,26,0.3)", "underLineBottomColor": "rgba(247,147,26,0)", "isTransparent": true, "autosize": false, "chartOnly": false }
                            </script>
                        </div>

                        <!-- ì´ë”ë¦¬ì›€ (Ethereum) -->
                        <div class="tradingview-widget-container">
                            <div class="tradingview-widget-container__widget"></div>
                            <script type="text/javascript"
                                src="https://s3.tradingview.com/external-embedding/embed-widget-mini-symbol-overview.js" async>
                                    { "symbol": "COINBASE:ETHUSD", "width": "100%", "height": 200, "locale": "ko", "dateRange": "1M", "colorTheme": "light", "trendLineColor": "rgba(98,126,234,1)", "underLineColor": "rgba(98,126,234,0.3)", "underLineBottomColor": "rgba(98,126,234,0)", "isTransparent": true, "autosize": false, "chartOnly": false }
                            </script>
                        </div>

                        <!-- BMNR (Bloomberg US MBS / Bond Market) -->
                        <div class="tradingview-widget-container" style="grid-column: 1 / -1;">
                            <div class="tradingview-widget-container__widget"></div>
                            <script type="text/javascript"
                                src="https://s3.tradingview.com/external-embedding/embed-widget-mini-symbol-overview.js" async>
                                    { "symbol": "BMNR", "width": "100%", "height": 200, "locale": "ko", "dateRange": "1M", "colorTheme": "light", "trendLineColor": "rgba(139,92,246,1)", "underLineColor": "rgba(139,92,246,0.3)", "underLineBottomColor": "rgba(139,92,246,0)", "isTransparent": true, "autosize": false, "chartOnly": false }
                            </script>
                        </div>

                        <!-- WTI ìœ ê°€ (ë§ˆì§€ë§‰, grid-column spanìœ¼ë¡œ ì¤‘ì•™ ì •ë ¬) -->
                        <div class="tradingview-widget-container" style="grid-column: 1 / -1;">
                            <div class="tradingview-widget-container__widget"></div>
                            <script type="text/javascript"
                                src="https://s3.tradingview.com/external-embedding/embed-widget-mini-symbol-overview.js" async>
                                    { "symbol": "TVC:USOIL", "width": "100%", "height": 200, "locale": "ko", "dateRange": "1M", "colorTheme": "light", "trendLineColor": "rgba(76,175,80,1)", "underLineColor": "rgba(76,175,80,0.3)", "underLineBottomColor": "rgba(76,175,80,0)", "isTransparent": true, "autosize": false, "chartOnly": false }
                            </script>
                        </div>

                    </div>
                </div>

            </div>

            <!-- ë‰´ìŠ¤ & ì„¹í„° ì£¼ë„ì£¼ ë³‘ë ¬ ë°°ì¹˜ ì˜ì—­ -->
            <div class="news-sector-row">
                <!-- ì‹¤ì‹œê°„ ì„¹í„° ì£¼ë„ì£¼ -->
                <div class="card sector-card" style="margin-bottom: 0;">
                    <h3 class="section-title">ğŸš€ ì‹¤ì‹œê°„ ì„¹í„° ì£¼ë„ì£¼ (US)</h3>
                    <div class="tradingview-widget-container" style="height: 400px; width: 100%;">
                        <div class="tradingview-widget-container__widget"></div>
                        <script type="text/javascript"
                            src="https://s3.tradingview.com/external-embedding/embed-widget-market-quotes.js" async>
                                {
                                    "width": "100%", "height": 400, "symbolsGroups": [
                                        {
                                            "name": "ì£¼ìš” ì„¹í„°", "symbols": [
                                                { "name": "AMEX:XLK", "displayName": "ê¸°ìˆ  (Tech)" }, { "name": "AMEX:XLV", "displayName": "í—¬ìŠ¤ (Health)" },
                                                { "name": "AMEX:XLF", "displayName": "ê¸ˆìœµ (Finance)" }, { "name": "AMEX:XLE", "displayName": "ì—ë„ˆì§€ (Energy)" },
                                                { "name": "AMEX:XLY", "displayName": "ì†Œë¹„ì¬ (Cons)" }, { "name": "AMEX:XLI", "displayName": "ì‚°ì—…ì¬ (Indus)" },
                                                { "name": "AMEX:XLC", "displayName": "í†µì‹  (Comm)" }, { "name": "AMEX:XLB", "displayName": "ì†Œì¬ (Materials)" },
                                                { "name": "AMEX:XLU", "displayName": "ìœ í‹¸ë¦¬í‹° (Utils)" }, { "name": "AMEX:XLRE", "displayName": "ë¦¬ì¸  (REITs)" }
                                            ]
                                        }
                                    ], "showSymbolLogo": true, "colorTheme": "light", "isTransparent": false, "locale": "ko"
                                }
                            </script>
                    </div>
                </div>

                <!-- ë‰´ìŠ¤ ëŒ€ì‹œë³´ë“œ -->
                <div class="card news-dashboard" style="margin-bottom: 0;">
                    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
                        <div style="display: flex; align-items: center; gap: 15px;">
                            <h3 class="section-title" style="border:none; padding:0; margin:0;">ğŸ“° ì‹¤ì‹œê°„ ì‹œì¥ ë‰´ìŠ¤</h3>
                            <div id="google_translate_element"></div>
                        </div>
                        <button onclick="refreshNews()" class="btn-load" style="padding:4px 12px; font-size:11px;">ğŸ”„
                            ìƒˆë¡œê³ ì¹¨</button>
                    </div>
                    <div class="news-grid" id="newsContainer"></div>

                    <!-- SAVE ë‰´ìŠ¤ë§í¬ ë³µêµ¬ -->
                    <div
                        style="margin-top: 15px; text-align: center; padding: 15px; background: #f8fafc; border-radius: 10px; border: 1px dashed #667eea;">
                        <p style="font-size: 0.85em; color: #4a5568; margin-bottom: 10px; font-weight: 600;">
                            ğŸ” ì •ë°€ í‹°ì»¤ ë¶„ì„ì´ í•„ìš”í•˜ë‹¤ë©´?
                        </p>
                        <a href="https://saveticker.com/" target="_blank" rel="noopener noreferrer"
                            style="display:inline-block; padding:8px 25px; background:var(--bg-gradient); color:#fff; text-decoration:none; border-radius:20px; font-weight:700; font-size:0.9em; transition:all 0.3s; box-shadow:var(--shadow-main);"
                            onmouseover="this.style.transform='translateY(-2px)';"
                            onmouseout="this.style.transform='translateY(0)';" id="save-link-btn">
                            ğŸš€ SaveTicker ë°©ë¬¸
                        </a>
                    </div>
                </div>

                <!-- ìë™í™” ë§ˆì¼“ ë‰´ìŠ¤ ì¹´ë“œ ìœ„ì¹˜ -->
                <!-- MARKET_NEWS_CARD_START -->
            <div id="marketNewsCardArea">
                <div class="news-card-wrapper">
                    <div class="news-card-column" id="left-card-column">
                        <!-- LEFT_CARD_START -->
                        <div class="news-card-header">
                            <div class="header-top">
                                <span class="date-badge">2026.03.01 (ì¼)</span>
                                <span style="font-size: 0.9rem; color: #94a3b8;">US Market Focus</span>
                            </div>
                            <div class="market-status-title" style="margin-top: 5px; font-size: 1.25rem;">ì‹¤ì‹œê°„ ì‹œì¥ ì§€í‘œ & ì„¹í„° í˜„í™© ğŸ“Š</div>
                        </div>
                        <div class="section-label">Major Indices</div>
                        <div class="index-grid-3"><div class="mini-box"><span class="mini-name">DOW</span><span class="mini-val">48,977.9</span><span class="mini-pct change-down">â–¼ -1.05%</span></div><div class="mini-box"><span class="mini-name">S&P 500</span><span class="mini-val">6,878.9</span><span class="mini-pct change-down">â–¼ -0.43%</span></div><div class="mini-box"><span class="mini-name">NASDAQ</span><span class="mini-val">22,668.2</span><span class="mini-pct change-down">â–¼ -0.92%</span></div><div class="mini-box"><span class="mini-name">Russell 2K</span><span class="mini-val">2,632.4</span><span class="mini-pct change-down">â–¼ -1.68%</span></div><div class="mini-box"><span class="mini-name">Phil. Semi</span><span class="mini-val">8,098.4</span><span class="mini-pct change-down">â–¼ -1.21%</span></div><div class="mini-box"><span class="mini-name">VIX Index</span><span class="mini-val">19.9</span><span class="mini-pct change-up">â–² +6.60%</span></div></div>
                        <div class="section-label">S&P 500 Sectors</div>
                        <div style="margin-bottom:20px;"><div class="data-bar-row"><div class="data-bar-label"><span>Financials (XLF)</span><div class="data-bar-visual"><div class="data-bar-fill" style="width:30%; background:#f43f5e;"></div></div></div><span class="change-down">-2.04%</span></div><div class="data-bar-row"><div class="data-bar-label"><span>Industrials (XLI)</span><div class="data-bar-visual"><div class="data-bar-fill" style="width:52%; background:#10b981;"></div></div></div><span class="change-up">+0.25%</span></div><div class="data-bar-row"><div class="data-bar-label"><span>Technology (XLK)</span><div class="data-bar-visual"><div class="data-bar-fill" style="width:34%; background:#f43f5e;"></div></div></div><span class="change-down">-1.60%</span></div><div class="data-bar-row"><div class="data-bar-label"><span>Health Care (XLV)</span><div class="data-bar-visual"><div class="data-bar-fill" style="width:68%; background:#10b981;"></div></div></div><span class="change-up">+1.77%</span></div></div>
                        <div class="section-label">Magnificent 7</div>
                        <div class="index-grid-3" style="grid-template-columns: repeat(4, 1fr);"><div class="mini-box" style="padding:8px 4px;"><span class="mini-name" style="font-size:0.8rem;">MSFT</span><span class="change-down" style="font-size:0.95rem; font-weight:700;">-2.24%</span></div><div class="mini-box" style="padding:8px 4px;"><span class="mini-name" style="font-size:0.8rem;">AAPL</span><span class="change-down" style="font-size:0.95rem; font-weight:700;">-3.21%</span></div><div class="mini-box" style="padding:8px 4px;"><span class="mini-name" style="font-size:0.8rem;">NVDA</span><span class="change-down" style="font-size:0.95rem; font-weight:700;">-4.16%</span></div><div class="mini-box" style="padding:8px 4px;"><span class="mini-name" style="font-size:0.8rem;">GOOGL</span><span class="change-up" style="font-size:0.95rem; font-weight:700;">+1.42%</span></div><div class="mini-box" style="padding:8px 4px;"><span class="mini-name" style="font-size:0.8rem;">AMZN</span><span class="change-up" style="font-size:0.95rem; font-weight:700;">+1.00%</span></div><div class="mini-box" style="padding:8px 4px;"><span class="mini-name" style="font-size:0.8rem;">TSLA</span><span class="change-down" style="font-size:0.95rem; font-weight:700;">-1.49%</span></div><div class="mini-box" style="padding:8px 4px;"><span class="mini-name" style="font-size:0.8rem;">META</span><span class="change-down" style="font-size:0.95rem; font-weight:700;">-1.34%</span></div></div>
                        <div class="section-label">Korea Market Summary</div>
                        <div style="font-size:1rem; line-height:1.6; color:#cbd5e1; background:rgba(255,255,255,0.03); padding:12px; border-radius:10px;">
                            ğŸ‡°ğŸ‡· ì‹¤ì‹œê°„ ê¸€ë¡œë²Œ ì‹œì¥ ë³€ë™ì— ë”°ë¥¸ íˆ¬ì ì‹¬ë¦¬ ë³€í™”ê°€ ê°ì§€ë˜ê³  ìˆìŠµë‹ˆë‹¤. ì£¼ë„ ì„¹í„° ë° ê¸°ê´€ ìˆ˜ê¸‰ ìœ ì… ìƒí™©ì„ ì£¼ì˜ ê¹Šê²Œ ì‚´í´ë³´ì„¸ìš”.
                        </div>
                        <!-- LEFT_CARD_END -->
                    </div>
                    <div class="news-card-column" id="right-card-column">
                        <!-- RIGHT_CARD_START -->
                        <div class="news-card-header"><div class="header-top"><span class="date-badge" style="background:rgba(251,191,36,0.15);color:#fbbf24;">ë‰´ìŠ¤</span><span style="font-size:0.9rem;color:#94a3b8;">Updated: 20:50 KST</span><button onclick="refreshRightCard()" title="ìƒˆë¡œê³ ì¹¨" style="margin-left:auto;background:rgba(255,255,255,0.08);border:1px solid rgba(255,255,255,0.15);color:#94a3b8;font-size:0.8rem;padding:3px 10px;border-radius:6px;cursor:pointer;transition:all 0.2s;" onmouseover="this.style.background='rgba(255,255,255,0.15)';this.style.color='#f8fafc'" onmouseout="this.style.background='rgba(255,255,255,0.08)';this.style.color='#94a3b8'">âŸ³ ìƒˆë¡œê³ ì¹¨</button></div><div class="market-status-title" style="margin-top:10px;">ğŸ“° ë‰´ìŠ¤ ë¸Œë¦¬í•‘</div></div><div style="margin-bottom:14px;"><strong style="color:#fbbf24;font-size:0.82em;display:block;margin-bottom:8px;letter-spacing:0.03em;border-bottom:1px solid rgba(251,191,36,0.2);padding-bottom:4px;">ğŸ“° ë§¤ì¼ê²½ì œ</strong><script>var _MKD={"ì¦ê¶Œ": [{"t": "ë¯¸êµ­, í† ìš”ì¼ ì•„ì¹¨ ê¸°ìŠµ ê³µê²©â€¦ì´ë€ ìˆ˜ë‡Œë¶€ ëª¨ì¸ íšŒì˜ì¥ì†Œ ì •ë°€íƒ€ê²©", "l": "https://www.mk.co.kr/news/world/11975868", "d": "2026-03-01"}, {"t": "ì´ì¬ëª… â€œë‹¤ì£¼íƒ â€˜íŒ”ì•„ë¼â€™ â€˜ì‚¬ì§€ë§ˆë¼â€™ ê°•ìš”í•  í•„ìš”ì—†ì–´â€¦ì„¸ê¸ˆ ê¸ˆìœµ ë“± ì² ì €íˆ ì„¤ê³„â€", "l": "https://www.mk.co.kr/news/economy/11975867", "d": "2026-03-01"}, {"t": "â€˜ë³´ê¸€ë³´ê¸€â€™ ì°Œê°œ êµ­ë¬¼ ê±°í’ˆ ê·¸ëƒ¥ ë¨¹ì–´ë„ ë˜ë‚˜â€¦â€œì´ëŸ´ ë• ê¼­ ê±·ì–´ ë‚´ì„¸ìš”â€", "l": "https://www.mk.co.kr/news/society/11975866", "d": "2026-03-01"}], "ê²½ì œ": [{"t": "ì´ì¬ëª… â€œë‹¤ì£¼íƒ â€˜íŒ”ì•„ë¼â€™ â€˜ì‚¬ì§€ë§ˆë¼â€™ ê°•ìš”í•  í•„ìš”ì—†ì–´â€¦ì„¸ê¸ˆ ê¸ˆìœµ ë“± ì² ì €íˆ ì„¤ê³„â€", "l": "https://www.mk.co.kr/news/economy/11975867", "d": "2026-03-01"}, {"t": "ì¤‘ê¸°ë¶€, ì¤‘ë™ìƒí™© í”¼í•´ ì ‘ìˆ˜â€¦ì •ì±…ìê¸ˆÂ·ë³´ì¦ ì§€ì›í‚¤ë¡œ", "l": "https://www.mk.co.kr/news/economy/11975850", "d": "2026-03-01"}, {"t": "â€œì´ ì¹´ë“œ ì–¸ì œ ë§Œë“¤ì—ˆë”ë¼?â€â€¦ì—­ëŒ€ìµœë‹¤ ì¥ë¡±ì¹´ë“œì— ì¹´ë“œì‚¬ í•œìˆ¨ë§Œ", "l": "https://www.mk.co.kr/news/economy/11975822", "d": "2026-03-01"}], "ë¶€ë™ì‚°": [{"t": "ì´ì¬ëª… â€œë‹¤ì£¼íƒ â€˜íŒ”ì•„ë¼â€™ â€˜ì‚¬ì§€ë§ˆë¼â€™ ê°•ìš”í•  í•„ìš”ì—†ì–´â€¦ì„¸ê¸ˆ ê¸ˆìœµ ë“± ì² ì €íˆ ì„¤ê³„â€", "l": "https://www.mk.co.kr/news/economy/11975867", "d": "2026-03-01"}, {"t": "â€œì „ì„¸ ë³´ì¦ê¸ˆ ê·¸ëŒ€ë¡œì— ì›”ì„¸ ì–¹ì£ â€â€¦ë§¤ë¬¼ ì”¨ë§ˆë¥´ì â€˜ë°°ì§± ì¬ê³„ì•½â€™ ê¸°ìŠ¹", "l": "https://www.mk.co.kr/news/realestate/11975825", "d": "2026-03-01"}, {"t": "ì „ì„¸ ë³´ì¦ê¸ˆ ì˜¬ë¦¬ë©´ì„œ ì›”ì„¸ë„ ì–¹ëŠ” ê³„ì•½ ëŠ˜ì–´ë‚œë‹¤", "l": "https://www.mk.co.kr/news/realestate/11975771", "d": "2026-03-01"}], "êµ­ì œ": [{"t": "[ì†ë³´] ë¶ â€œë¯¸êµ­ê³¼ ì´ìŠ¤ë¼ì—˜ì˜ í›„ì•ˆë¬´ì¹˜í•œ ë¶ˆëŸ‰ë°°ì  í–‰íƒœ ê°•ë ¥ ê·œíƒ„â€", "l": "https://www.mk.co.kr/news/politics/11975853", "d": "2026-03-01"}, {"t": "[ì†ë³´] ì´ì¬ëª… ëŒ€í†µë ¹ â€œêµ°ì‚¬ ê¸´ì¥ ì™„í™”í•˜ê³  ë‚¨ë¶ ì‹ ë¢°íšŒë³µ ì¡°ì¹˜ ê³„ì† ì¶”ì§„â€", "l": "https://www.mk.co.kr/news/politics/11975596", "d": "2026-03-01"}, {"t": "ê¹€ì •ì€, ê¸ˆìˆ˜ì‚°íƒœì–‘ê¶ì „ ì°¸ë°°...ë‹¹ ì§€ë„ë¶€ì™€ ê²°ì† ë‹¤ì ¸", "l": "https://www.mk.co.kr/news/politics/11974103", "d": "2026-02-27"}], "ì‚°ì—…Â·IT": [{"t": "2030 â€œìˆ  ë§ˆì‹¤ ì‹œê°„ì— ì£¼ì‹ í•©ë‹ˆë‹¤â€â€¦ë¶ˆì¥ì— ì—­ì£¼í–‰ ì¤‘ì¸ ì£¼ë¥˜æ ª", "l": "https://www.mk.co.kr/news/stock/11975826", "d": "2026-03-01"}, {"t": "í•˜ë©”ë„¤ì´ ì‚¬ë§ì— ë¹„íŠ¸ì½”ì¸ ë°˜ë“± â€¦ ê¸ˆê°’ë„ ìš”ë™", "l": "https://www.mk.co.kr/news/stock/11975801", "d": "2026-03-01"}, {"t": "ìˆ  ì•ˆ ë§ˆì‹œëŠ” MZâ€¦ì£¼ë¥˜íšŒì‚¬ ì£¼ê°€Â·ì‹¤ì  'ëš'", "l": "https://www.mk.co.kr/news/stock/11975784", "d": "2026-03-01"}]};</script><div style="display:flex;align-items:center;gap:8px;margin-bottom:8px;"><strong style="color:#fbbf24;font-size:0.82em;letter-spacing:0.03em;">ğŸ“° ë§¤ì¼ê²½ì œ</strong><select id="mk-cat-sel" onchange="mkShow(this.value)" style="background:#1e2535;color:#f8fafc;border:1px solid rgba(255,255,255,0.15);border-radius:6px;padding:2px 10px;font-size:0.75rem;cursor:pointer;"><option value="ì¦ê¶Œ" selected>ì¦ê¶Œ</option><option value="ê²½ì œ" >ê²½ì œ</option><option value="ë¶€ë™ì‚°" >ë¶€ë™ì‚°</option><option value="êµ­ì œ" >êµ­ì œ</option><option value="ì‚°ì—…Â·IT" >ì‚°ì—…Â·IT</option></select></div><div id="mk-articles-box"></div><script>if(typeof mkShow==="function"){mkShow("ì¦ê¶Œ");}</script></div><div style="margin-bottom:14px;"><strong style="color:#38bdf8;font-size:0.82em;display:block;margin-bottom:8px;letter-spacing:0.03em;border-bottom:1px solid rgba(56,189,248,0.2);padding-bottom:4px;">ğŸ“ˆ í”„ë¦¬ì§„ê²½ì œ ì£¼ì‹/ì¦ê¶Œ</strong><div id="fz-stock-box"><div style='margin-bottom:9px;padding:9px 10px;background:rgba(0,0,0,0.2);border-left:3px solid rgba(56,189,248,0.5);border-radius:0 6px 6px 0;'><a href='https://www.freezine.co.kr/news/articleView.html?idxno=14589' target='_blank' rel='noopener' style='color:#f8fafc;text-decoration:none;font-size:0.87em;font-weight:600;line-height:1.4;display:block;'>â€˜AI ë¬´ì  ì‹ í™”â€™ì˜ ê· ì—´â€¦ ë¯¸ ì¦ì‹œ, ê¸°ìˆ ì£¼ ì£¼ë„ ì‹œëŒ€ ì €ë¬´ë‚˜</a><span style='color:#64748b;font-size:0.72em;display:block;margin-top:3px;'>2026-02-28  Â·  ì¶œì²˜: <a href='https://www.freezine.co.kr' target='_blank' rel='noopener' style='color:#94a3b8;text-decoration:underline;'>í”„ë¦¬ì§„ê²½ì œ ì£¼ì‹/ì¦ê¶Œ</a></span></div><div style='margin-bottom:9px;padding:9px 10px;background:rgba(0,0,0,0.2);border-left:3px solid rgba(56,189,248,0.5);border-radius:0 6px 6px 0;'><a href='https://www.freezine.co.kr/news/articleView.html?idxno=14565' target='_blank' rel='noopener' style='color:#f8fafc;text-decoration:none;font-size:0.87em;font-weight:600;line-height:1.4;display:block;'>[ëª¨ë‹ ê²½ì œ ë¸Œë¦¬í•‘] ë¯¸êµ­ ì¦ì‹œ, ì—”ë¹„ë””ì•„ ì‹¤ì  ë°œí‘œ í›„ ë°˜ë„ì²´ì£¼ ì•½ì„¸... AI ë‚™ê´€ë¡ ê³¼ ê±°í’ˆë¡  ì‚¬ì´ ì‹œì¥ í˜¼ì¡°ì„¸</a><span style='color:#64748b;font-size:0.72em;display:block;margin-top:3px;'>2026-02-27  Â·  ì¶œì²˜: <a href='https://www.freezine.co.kr' target='_blank' rel='noopener' style='color:#94a3b8;text-decoration:underline;'>í”„ë¦¬ì§„ê²½ì œ ì£¼ì‹/ì¦ê¶Œ</a></span></div><div style='margin-bottom:9px;padding:9px 10px;background:rgba(0,0,0,0.2);border-left:3px solid rgba(56,189,248,0.5);border-radius:0 6px 6px 0;'><a href='https://www.freezine.co.kr/news/articleView.html?idxno=14562' target='_blank' rel='noopener' style='color:#f8fafc;text-decoration:none;font-size:0.87em;font-weight:600;line-height:1.4;display:block;'>ì½”ìŠ¤í”¼, ì‚¬ìƒ ì²« 6,300ì„  ëŒíŒŒâ€¦ëŒ€í˜•ì£¼ &#x27;ì ë¦¼&#x27; ì† ì¢…ëª©ë³„ ì°¨ë³„í™” ëšœë ·</a><span style='color:#64748b;font-size:0.72em;display:block;margin-top:3px;'>2026-02-26  Â·  ì¶œì²˜: <a href='https://www.freezine.co.kr' target='_blank' rel='noopener' style='color:#94a3b8;text-decoration:underline;'>í”„ë¦¬ì§„ê²½ì œ ì£¼ì‹/ì¦ê¶Œ</a></span></div></div></div><div><strong style="color:#4ade80;font-size:0.82em;display:block;margin-bottom:8px;letter-spacing:0.03em;border-bottom:1px solid rgba(74,222,128,0.2);padding-bottom:4px;">ğŸŒ í”„ë¦¬ì§„ê²½ì œ êµ­ì œ/IT</strong><div id="fz-intl-box"><div style='margin-bottom:9px;padding:9px 10px;background:rgba(0,0,0,0.2);border-left:3px solid rgba(74,222,128,0.5);border-radius:0 6px 6px 0;'><a href='https://www.freezine.co.kr/news/articleView.html?idxno=14636' target='_blank' rel='noopener' style='color:#f8fafc;text-decoration:none;font-size:0.87em;font-weight:600;line-height:1.4;display:block;'>ì¼ë³¸ ì •ë¶€ â€œì´ë€ í•µ ê²°ì½” ìš©ë‚© ë¶ˆê°€â€</a><span style='color:#64748b;font-size:0.72em;display:block;margin-top:3px;'>2026-03-01  Â·  ì¶œì²˜: <a href='https://www.freezine.co.kr' target='_blank' rel='noopener' style='color:#94a3b8;text-decoration:underline;'>í”„ë¦¬ì§„ê²½ì œ êµ­ì œ/IT</a></span></div><div style='margin-bottom:9px;padding:9px 10px;background:rgba(0,0,0,0.2);border-left:3px solid rgba(74,222,128,0.5);border-radius:0 6px 6px 0;'><a href='https://www.freezine.co.kr/news/articleView.html?idxno=14635' target='_blank' rel='noopener' style='color:#f8fafc;text-decoration:none;font-size:0.87em;font-weight:600;line-height:1.4;display:block;'>íŠ¸ëŸ¼í”„ ëŒ€í†µë ¹ì˜ ì´ë€ ê³µê²© ëŒ€êµ­ë¯¼ ì—°ì„¤ [ì „ë¬¸]</a><span style='color:#64748b;font-size:0.72em;display:block;margin-top:3px;'>2026-03-01  Â·  ì¶œì²˜: <a href='https://www.freezine.co.kr' target='_blank' rel='noopener' style='color:#94a3b8;text-decoration:underline;'>í”„ë¦¬ì§„ê²½ì œ êµ­ì œ/IT</a></span></div><div style='margin-bottom:9px;padding:9px 10px;background:rgba(0,0,0,0.2);border-left:3px solid rgba(74,222,128,0.5);border-radius:0 6px 6px 0;'><a href='https://www.freezine.co.kr/news/articleView.html?idxno=14634' target='_blank' rel='noopener' style='color:#f8fafc;text-decoration:none;font-size:0.87em;font-weight:600;line-height:1.4;display:block;'>ë§˜ë‹¤ë‹ˆ, ë¯¸êµ­ì˜ ì´ë€ ê³µê²© ë¹„ë‚œí•˜ë‹¤ ê±°ì„¼ ë¹„íŒì— ì§ë©´</a><span style='color:#64748b;font-size:0.72em;display:block;margin-top:3px;'>2026-03-01  Â·  ì¶œì²˜: <a href='https://www.freezine.co.kr' target='_blank' rel='noopener' style='color:#94a3b8;text-decoration:underline;'>í”„ë¦¬ì§„ê²½ì œ êµ­ì œ/IT</a></span></div></div></div>
                        <!-- RIGHT_CARD_END -->
                    </div>
                </div>
            </div>
<!-- MARKET_NEWS_CARD_END -->

                <!-- íˆíŠ¸ë§µ ì„¹ì…˜ (Full Width) -->
                <div class="card heatmap-card" style="margin: 20px; padding: 0; overflow: hidden;">
                    <div
                        style="display:flex; justify-content:space-between; align-items:center; padding:20px; border-bottom:1px solid #edf2f7;">
                        <h3 class="section-title" style="border:none; padding:0; margin:0;">ğŸ“Š Market Heat Map</h3>
                        <div style="display:flex; align-items:center; gap:15px;">
                            <!-- ì™¸ë¶€ ë§í¬ ë°°ì§€ -->
                            <div style="display:flex; gap:8px;">
                                <a href="https://www.tradingview.com/heatmap/stock/" target="_blank"
                                    rel="noopener noreferrer" class="btn-sm"
                                    style="background:#f1f5f9; text-decoration:none; display:flex; align-items:center; gap:4px;">
                                    ğŸ“ˆ TradingView
                                </a>
                                <a href="https://finviz.com/map.ashx" target="_blank" rel="noopener noreferrer"
                                    class="btn-sm"
                                    style="background:#f1f5f9; text-decoration:none; display:flex; align-items:center; gap:4px;">
                                    ğŸ—ºï¸ Finviz
                                </a>
                            </div>
                            <select id="mapSelector" onchange="updateTradingViewMap()" class="search-input"
                                style="width: auto; padding: 6px 12px; margin: 0;">
                                <option value="S&P 500">S&P 500</option>
                                <option value="Nasdaq 100">Nasdaq 100</option>
                            </select>
                        </div>
                    </div>
                    <!-- IDê°€ ì¤‘ë³µë˜ì§€ ì•Šë„ë¡ í™•ì¸ ë° ê³ ì • ë†’ì´ ë¶€ì—¬ -->
                    <div id="tradingview_heatmap_container" style="width:100%; height:800px;"></div>
                </div>




            </div>

            <!-- ê²½ì œ ìº˜ë¦°ë” ì„¹ì…˜ -->
            <div class="card calendar-card" style="padding: 24px;">
                <h3 class="section-title">ğŸ“… ì‹¤ì‹œê°„ ê²½ì œ ìº˜ë¦°ë”</h3>
                <div class="tradingview-widget-container" style="height: 600px;">
                    <div class="tradingview-widget-container__widget"></div>
                    <script type="text/javascript"
                        src="https://s3.tradingview.com/external-embedding/embed-widget-events.js" async>
                            {
                                "colorTheme": "light", "isTransparent": false,
                                "width": "100%", "height": 600, "locale": "en",
                                "importanceFilter": "0,1",
                                "currencyFilter": "USD,EUR,JPY,KRW,CNY,GBP"
                            }
                    </script>
                </div>
            </div>

            <script>
                // í˜ì´ì§€ê°€ ì²˜ìŒ ì—´ë¦´ ë•Œ ìë™ìœ¼ë¡œ ì‹¤í–‰
                document.addEventListener("DOMContentLoaded", function () {
                    updateTradingViewMap();
                });

                function updateTradingViewMap() {
                    const selector = document.getElementById('mapSelector');
                    const container = document.getElementById('tradingview_heatmap_container');

                    // 1. ê¸°ì¡´ ìœ„ì ¯ ë¹„ìš°ê¸°
                    container.innerHTML = '<div style="display:flex; justify-content:center; align-items:center; height:100%; color:#64748b;">ğŸ”„ ì‹¤ì‹œê°„ ë§µ ë¡œë”© ì¤‘...</div>';

                    // 2. ì„ íƒëœ ë§µì— ë”°ë¼ ë°ì´í„° ì†ŒìŠ¤ ì„¤ì •
                    let dataSource = selector.value; // "S&P 500" ë˜ëŠ” "Nasdaq 100" ì§ì ‘ ì‚¬ìš©

                    // 3. ìœ„ì ¯ ìŠ¤í¬ë¦½íŠ¸ ìƒì„± ë° ì„¤ì •
                    const script = document.createElement('script');
                    script.type = 'text/javascript';
                    // íƒ€ì„ìŠ¤íƒ¬í”„ë¥¼ ì¶”ê°€í•˜ì—¬ ìºì‹œë¥¼ ë°©ì§€í•˜ê³  ì‹¤ì‹œê°„ì„± í™•ë³´
                    script.src = 'https://s3.tradingview.com/external-embedding/embed-widget-stock-heatmap.js?v=' + Date.now();
                    script.async = true;

                    const config = {
                        "dataSource": dataSource,
                        "grouping": "sector",
                        "blockSize": "market_cap_basic",
                        "blockColor": "change",
                        "locale": "ko",
                        "symbolUrl": "",
                        "colorTheme": "light",
                        "hasTopBar": true,
                        "isTransparent": false,
                        "hasSymbolTooltip": true,
                        "width": "100%",
                        "height": "100%"
                    };

                    script.text = JSON.stringify(config);

                    // ë¡œë”© ë©”ì‹œì§€ ì œê±° í›„ ì¶”ê°€
                    setTimeout(() => {
                        container.innerHTML = '';
                        container.appendChild(script);
                    }, 100);
                }
            </script>




        </div>

        <!-- ë¦¬í¬íŠ¸ ì„ íƒê¸° ì„¹ì…˜ -->
        <div class="controls">
            <h3 class="section-title">ğŸ“½ï¸ ë¶„ì„ ë¦¬í¬íŠ¸ ì„ íƒ ë° ì¡°íšŒ</h3>
            <div class="grid-top-row">
                <!-- ì¢…ëª© ë¦¬í¬íŠ¸ -->
                <div class="category-section featured">
                    <div class="category-header">
                        <div class="category-icon">ğŸ“ˆ</div>
                        <div class="category-title">
                            <div
                                style="display: flex; justify-content: space-between; align-items: center; width: 100%;">
                                <h3>ì£¼ì‹ ì¢…ëª© ë¦¬í¬íŠ¸ <span class="badge">MAIN</span></h3>
                                <a href="methodology.html" target="_blank" rel="noopener noreferrer" class="btn-sm"
                                    style="text-decoration: none;">ğŸ“ ë°©ë²•ë¡ </a>
                            </div>
                            <p>ê¸°ìˆ ì  ë¶„ì„ ë° ë§¤ìˆ˜ ì „ëµ</p>
                        </div>
                    </div>
                    <div class="selector-row">
                        <select id="dateRecommendation"></select>
                        <button class="btn-load" onclick="loadReport('recommendation')">ğŸ“„ ë¶ˆëŸ¬ì˜¤ê¸°</button>
                    </div>
                </div>

                <!-- ê¸‰ë“± ì¢…ëª© ë¦¬í¬íŠ¸ -->
                <div class="category-section featured">
                    <div class="category-header">
                        <div class="category-icon">ğŸš€</div>
                        <div class="category-title">
                            <div
                                style="display: flex; justify-content: space-between; align-items: center; width: 100%;">
                                <h3>ê¸‰ë“± ì¢…ëª© ë¦¬í¬íŠ¸ <span class="badge">ALERT</span></h3>
                                <a href="7Factor.html" target="_blank" rel="noopener noreferrer" class="btn-sm"
                                    style="text-decoration: none;">ğŸ“ ë°©ë²•ë¡ </a>
                            </div>
                            <p>ê¸‰ë“± íƒì§€ ë° 7ìš”ì†Œ ë¶„ì„</p>
                        </div>
                    </div>
                    <div class="selector-row">
                        <select id="dateShoot"></select>
                        <button class="btn-load" onclick="loadReport('shoot')">ğŸ“„ ë¶ˆëŸ¬ì˜¤ê¸°</button>
                    </div>
                </div>

                <!-- ì‹œí™© & ë³´ê³ ì„œ -->
                <div class="category-section news">
                    <div class="category-header">
                        <div class="category-icon">ğŸ“°</div>
                        <div class="category-title">
                            <h3>ì‹œí™© & ë³´ê³ ì„œ <span class="badge news">NEW</span></h3>
                            <p>ê¸€ë¡œë²Œ ê±°ì‹œ ê²½ì œ ë° ì£¼ìš” ê³µì‹œ</p>
                        </div>
                    </div>
                    <div class="selector-row">
                        <select id="dateNews"></select>
                        <button class="btn-load" onclick="loadReport('news')">ğŸ“„ ë¶ˆëŸ¬ì˜¤ê¸°</button>
                    </div>
                </div>
            </div>

            <div class="grid-bottom-row" style="margin-top: 20px;">
                <!-- ìƒì„¸ ë¶„ì„ ë„êµ¬ -->
                <div class="category-section">
                    <div class="category-header">
                        <div class="category-icon">ğŸ’°</div>
                        <div class="category-title">
                            <h3>[ë¶„ì„1] ë¯¸êµ­ì‹œì¥ ìœ ë™ì„±</h3>
                            <p>ì—°ì¤€ ì •ì±… ë° ê¸ˆìœµ ì—¬ê±´ ë¶„ì„</p>
                        </div>
                    </div>
                    <div class="selector-row">
                        <select id="dateAnalysis1"></select>
                        <button class="btn-load" onclick="loadReport('analysis1')">ğŸ” ë¶„ì„</button>
                    </div>
                </div>
                <div class="category-section">
                    <div class="category-header">
                        <div class="category-icon">ğŸ“Š</div>
                        <div class="category-title">
                            <h3>[ë¶„ì„2] ETF ìê¸ˆ íë¦„</h3>
                            <p>í…Œë§ˆë³„ ìê¸ˆ ìœ ì… ì²´í¬</p>
                        </div>
                    </div>
                    <div class="selector-row">
                        <select id="dateAnalysis2"></select>
                        <button class="btn-load" onclick="loadReport('analysis2')">ğŸ” ë¶„ì„</button>
                    </div>
                </div>
                <div class="category-section">
                    <div class="category-header">
                        <div class="category-icon">ğŸ‘”</div>
                        <div class="category-title">
                            <h3>[ë¶„ì„3] ë‚´ë¶€ì ë§¤ìˆ˜ ë¶„ì„</h3>
                            <p>ê²½ì˜ì§„ ê³ í™•ì‹  ë§¤ìˆ˜ ì‹œê·¸ë„</p>
                        </div>
                    </div>
                    <div class="selector-row">
                        <select id="dateAnalysis3"></select>
                        <button class="btn-load" onclick="loadReport('analysis3')">ğŸ” ë¶„ì„</button>
                    </div>
                </div>
                <div class="category-section">
                    <div class="category-header">
                        <div class="category-icon">ğŸ¯</div>
                        <div class="category-title">
                            <h3>[ë¶„ì„4] ì• ë„ë¦¬ìŠ¤íŠ¸ ëª©í‘œ</h3>
                            <p>ì›”ê°€ ëª©í‘œì£¼ê°€ ìƒí–¥ ì¶”ì </p>
                        </div>
                    </div>
                    <div class="selector-row">
                        <select id="dateAnalysis4"></select>
                        <button class="btn-load" onclick="loadReport('analysis4')">ğŸ” ë¶„ì„</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="pdf-viewer">
            <div id="pdfContent" class="info">
                <h3>ğŸ‘‹ í™˜ì˜í•©ë‹ˆë‹¤!</h3>
                <p style="margin-top: 10px;">ìœ„ì—ì„œ ì¹´í…Œê³ ë¦¬ì™€ ë‚ ì§œë¥¼ ì„ íƒí•œ í›„ "ë¶ˆëŸ¬ì˜¤ê¸°" ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”.</p>
                <ul style="margin-top: 15px;">
                    <li><strong>ì¶”ì²œ ì¢…ëª©:</strong> íˆ¬ì ì¶”ì²œ ë° ë§¤ë§¤ ì „ëµ</li>
                    <li><strong>ê¸‰ë“± ì¢…ëª©:</strong> ê¸‰ë“± ì¢…ëª© íƒì§€ ë° 7ê°€ì§€ ìš”ì†Œ ë¶„ì„ <span style="color: #dc3545; font-weight: 700;">ğŸš€
                            NEW!</span></li>
                    <li><strong>ì¢…ëª© ë‰´ìŠ¤:</strong> ì£¼ìš” ì¢…ëª© ë‰´ìŠ¤ ë° ì‹œì¥ ë™í–¥ <span
                            style="color: #28a745; font-weight: 700;">NEW!</span>
                    </li>
                    <li><strong>ë¶„ì„1:</strong> ë¯¸êµ­ ì‹œì¥ ìœ ë™ì„± ë° ìì‚° ë°°ë¶„</li>
                    <li><strong>ë¶„ì„2:</strong> ETF ìê¸ˆ íë¦„ ë° ì„¹í„° ë¡œí…Œì´ì…˜</li>
                    <li><strong>ë¶„ì„3:</strong> ë‚´ë¶€ì ë§¤ìˆ˜ ì‹œê·¸ë„</li>
                    <li><strong>ë¶„ì„4:</strong> ì• ë„ë¦¬ìŠ¤íŠ¸ ëª©í‘œê°€ ìƒí–¥</li>
                </ul>
            </div>
        </div>

        <!-- Footer with Source (ì¶œì²˜ í†µí•©) -->
        <div class="footer">
            <div class="footer-content">
                <h4>ğŸ“š 4ê°€ì§€ ë¶„ì„ í”„ë ˆì„ì›Œí¬ ì¶œì²˜</h4>
                <a href="https://youtu.be/R8Re7W02oxg?si=-Yi1xNDBs4HaYRyO" target="_blank" class="footer-source">
                    ë¶„ì„ ë°©ë²•ë¡  ìƒì„¸ ì˜ìƒ ë³´ê¸°
                </a>
                <p>
                    ë¶„ì„1~4ì˜ í”„ë ˆì„ì›Œí¬ëŠ” ìœ„ ì˜ìƒì„ ê¸°ë°˜ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.<br>
                    íˆ¬ìì— ëŒ€í•œ ëª¨ë“  ì±…ì„ì€ íˆ¬ìì ë³¸ì¸ì—ê²Œ ìˆìŠµë‹ˆë‹¤.
                </p>
            </div>
        </div>

        <script>
            console.log('==========================================');
            console.log('  ğŸ“¦ íŒŒì¼ ë²„ì „: v1771922054');
            console.log('  ğŸ• ë¡œë“œ ì‹œê°„:', new Date().toLocaleString());
            console.log('==========================================');

            const reportFiles = {
                recommendation: {
                    '2026-02-22': { file: 'reports/recommendation/2026-02-22_catalyst.pdf', title: 'ë‹¨ê¸°' },
                    '2026-02-21': { file: 'reports/recommendation/2026-02-22_analysis.pdf', title: 'ì¤‘ê¸°' },
                    '2026-02-18': { file: 'reports/recommendation/2026-02-18_catalyst.pdf', title: 'ë‹¨ê¸°' },
                    '2026-02-12': { file: 'reports/recommendation/2026-02-12_catalyst.pdf', title: 'ë‹¨ê¸°' },
                    '2026-02-09': { file: 'reports/recommendation/2026-02-09_analysis.pdf', title: 'ì¤‘ê¸°' },
                    '2026-02-06': { file: 'reports/recommendation/2026-02-06_analysis.pdf', title: 'ì¤‘ê¸°' }
                },
                shoot: { '2026-02-22': { file: 'reports/shoot/2026-02-22_shoot.pdf', title: 'VRNS/KKR/QDEL/RAL' } },
                news: {
                    '2026-02-17': { file: 'reports/news/US_Market_Analysis_20260217.pdf', title: 'ê¸ˆì¼ ë¯¸êµ­ ì‹œí™©' },
                    '2026-02-16': { file: 'reports/news/memory_supercycle.pdf', title: 'ë©”ëª¨ë¦¬ ì‚¬ì—…ì˜ ì „ë§' },
                    '2026-02-15': { file: 'reports/news/2026-02-15_news.pdf', title: 'ì£¼ê°„ ì‹œì¥ ë™í–¥' }
                },
                analysis1: {
                    '2026-03-02': { file: 'reports/analysis1/2026-03-02_liquidity.pdf', title: 'ìœ ë™ì„± ë¦¬í¬íŠ¸' },
                    '2026-02-10': { file: 'reports/analysis1/2026-02-10_liquidity.pdf', title: 'ìœ ë™ì„± ë¦¬í¬íŠ¸' }
                },
                analysis2: {
                    '2026-03-02': { file: 'reports/analysis2/2026-03-02_etf.pdf', title: 'ETF ë¦¬í¬íŠ¸' },
                    '2026-02-10': { file: 'reports/analysis2/2026-02-10_etf.pdf', title: 'ETF ë¦¬í¬íŠ¸' }
                },
                analysis3: {
                    '2026-03-02': { file: 'reports/analysis3/2026-03-02_insider.pdf', title: 'ë‚´ë¶€ì ë¶„ì„' },
                    '2026-02-10': { file: 'reports/analysis3/2026-02-10_insider.pdf', title: 'ë‚´ë¶€ì ë¶„ì„' }
                },
                analysis4: {
                    '2026-03-02': { file: 'reports/analysis4/2026-03-02_analyst.pdf', title: 'ì• ë„ë¦¬ìŠ¤íŠ¸ ë¶„ì„' },
                    '2026-02-10': { file: 'reports/analysis4/2026-02-10_analyst.pdf', title: 'ì• ë„ë¦¬ìŠ¤íŠ¸ ë¶„ì„' }
                }
            };
            const categories = {
                recommendation: { name: 'ì¶”ì²œ ì¢…ëª©', icon: 'ğŸ¯', selectId: 'dateRecommendation' },
                shoot: { name: 'ê¸‰ë“± ì¢…ëª©', icon: 'ğŸš€', selectId: 'dateShoot' },
                news: { name: 'ë‰´ìŠ¤', icon: 'ğŸ“°', selectId: 'dateNews' },
                analysis1: { name: 'ìœ ë™ì„±', icon: 'ğŸ’°', selectId: 'dateAnalysis1' },
                analysis2: { name: 'ETF', icon: 'ğŸ“ˆ', selectId: 'dateAnalysis2' },
                analysis3: { name: 'ë‚´ë¶€ì', icon: 'ğŸ”', selectId: 'dateAnalysis3' },
                analysis4: { name: 'ì• ë„ë¦¬ìŠ¤íŠ¸', icon: 'ğŸ“Š', selectId: 'dateAnalysis4' }
            };




            function loadDateList() {
                Object.keys(categories).forEach(categoryKey => {
                    const category = categories[categoryKey], select = document.getElementById(category.selectId);
                    if (!select) return;
                    select.innerHTML = "";
                    const dates = Object.keys(reportFiles[categoryKey]).sort().reverse();
                    dates.forEach(date => {
                        const option = document.createElement('option'); option.value = date;
                        if (categoryKey === 'news' || categoryKey === 'recommendation' || categoryKey === 'shoot') {
                            const data = reportFiles[categoryKey][date]; option.textContent = formatDate(date) + ' Â· ' + data.title;
                        } else option.textContent = formatDate(date);
                        select.appendChild(option);
                    });
                });
            }
            function formatDate(dateStr) {
                const date = new Date(dateStr), month = date.getMonth() + 1, day = date.getDate();
                const weekday = ['ì¼', 'ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† '][date.getDay()];
                return month + 'ì›” ' + day + 'ì¼ (' + weekday + ')';
            }
            // ì‹œì¥ ì‹¬ë¦¬ ìœ„ì ¯ ë³€ê²½ í•¨ìˆ˜ (TradingView ê¸°ìˆ ì  ë¶„ì„ ìœ„ì ¯)
            function changeSentiment(symbol) {
                const container = document.getElementById('sentiment-widget-container');
                if (!container) return;

                // TradingView í‘œì¤€ êµ¬ì¡°ì— ë§ì¶° ë‚´ë¶€ ì´ˆê¸°í™”
                container.innerHTML = `
                <div class="tradingview-widget-container" style="width: 100%; height: 100%;">
                    <div class="tradingview-widget-container__widget"></div>
                    <div class="tradingview-widget-copyright">
                        <a href="https://kr.tradingview.com/" rel="noopener nofollow" target="_blank">
                            <span class="blue-text">íŠ¸ë ˆì´ë”©ë·° ê¸°ìˆ ì  ë¶„ì„</span>
                        </a>
                    </div>
                </div>
            `;

                const script = document.createElement('script');
                script.type = 'text/javascript';
                script.src = 'https://s3.tradingview.com/external-embedding/embed-widget-technical-analysis.js';
                script.async = true;

                const config = {
                    "interval": "1m",
                    "width": "100%",
                    "isTransparent": false,
                    "height": 400, // ë†’ì´ë¥¼ ìƒí–¥í•˜ì—¬ ê°€ë…ì„± í™•ë³´
                    "symbol": symbol,
                    "showIntervalTabs": true,
                    "displayMode": "single",
                    "locale": "ko",
                    "colorTheme": "light"
                };

                script.text = JSON.stringify(config);
                container.querySelector('.tradingview-widget-container').appendChild(script);

                // ì»¨í…Œì´ë„ˆ ìì²´ ë†’ì´ ì¡°ì ˆ (ë¶€ëª¨ divì— ë§ì¶°ì„œ)
                container.style.height = "400px";
                console.log(`ğŸ“Š ì‹œì¥ ì‹¬ë¦¬ ë³€ê²½ ì™„ë£Œ: ${symbol}`);
            }

            // ì œëª© í•œêµ­ì–´ ë²ˆì—­ (MyMemory API - ë¬´ë£Œ, í‚¤ ë¶ˆí•„ìš”)
            async function translateTitle(title) {
                try {
                    const url = 'https://api.mymemory.translated.net/get?q=' +
                        encodeURIComponent(title) + '&langpair=en|ko';
                    const res = await fetch(url);
                    const json = await res.json();
                    if (json.responseStatus === 200 && json.responseData && json.responseData.translatedText) {
                        const t = json.responseData.translatedText;
                        if (t && !t.includes('MYMEMORY WARNING') && t !== title) return t;
                    }
                } catch(e) {}
                return title;
            }

            async function translateAll(newsData) {
                return Promise.all(newsData.map(async item => {
                    const ko = await translateTitle(item.title);
                    return Object.assign({}, item, { title_ko: ko });
                }));
            }

            // ì‹¤ì‹œê°„ ë‰´ìŠ¤ ë¡œë”©
            async function loadNews() {
                const container = document.getElementById('newsContainer');
                if (!container) return;

                container.innerHTML = '<div class="news-item">ğŸ”„ ìµœì‹  ì‹œì¥ ë‰´ìŠ¤ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>';

                // --- 1ë‹¨ê³„: The Guardian (ë¹„ì¦ˆë‹ˆìŠ¤/ê¸ˆìœµ ë‰´ìŠ¤, ë¬´ë£Œ test í‚¤) ---
                try {
                    const url = 'https://content.guardianapis.com/search?section=business&api-key=test&page-size=9&order-by=newest';
                    const res = await fetch(url);
                    const json = await res.json();
                    if (json.response && json.response.results && json.response.results.length > 0) {
                        const formattedData = json.response.results.map(function(item) {
                            return {
                                title: item.webTitle,
                                url: item.webUrl,
                                source: 'The Guardian',
                                published_at: item.webPublicationDate
                            };
                        });
                        container.innerHTML = '<div class="news-item">ğŸŒ í•œêµ­ì–´ë¡œ ë²ˆì—­ ì¤‘...</div>';
                        const translated = await translateAll(formattedData);
                        renderNews(translated, 'The Guardian');
                        return;
                    }
                } catch(e) { console.log("Guardian ì‹¤íŒ¨", e); }

                // --- 2ë‹¨ê³„: CryptoCompare (ê¸ˆìœµ/ì•”í˜¸í™”í ë‰´ìŠ¤) ---
                try {
                    const res = await fetch('https://min-api.cryptocompare.com/data/v2/news/?lang=EN');
                    const json = await res.json();
                    if (json.Data && json.Data.length > 0) {
                        const formattedData = json.Data.slice(0, 9).map(function(item) {
                            return {
                                title: item.title,
                                url: item.url,
                                source: item.source_info ? item.source_info.name : item.source,
                                published_at: item.published_on * 1000
                            };
                        });
                        container.innerHTML = '<div class="news-item">ğŸŒ í•œêµ­ì–´ë¡œ ë²ˆì—­ ì¤‘...</div>';
                        const translated = await translateAll(formattedData);
                        renderNews(translated, 'CryptoCompare');
                        return;
                    }
                } catch(e) { console.log("CryptoCompare ì‹¤íŒ¨"); }

                // --- 3ë‹¨ê³„: ë¡œì»¬ ë‰´ìŠ¤ (ìµœì¢… ë°±ì—…) ---
                loadLocalNews();
            }

            // ë‰´ìŠ¤ ë Œë”ë§ (í•œêµ­ì–´ ì œëª© ê¸°ë³¸, ì›ë¬¸ ì˜ì–´ íˆ´íŒ)
            function renderNews(newsData, apiSource) {
                const container = document.getElementById('newsContainer');
                container.innerHTML = '';
                newsData.forEach(function(news) {
                    var displayTitle = (news.title_ko && news.title_ko !== news.title) ? news.title_ko : news.title;
                    var origTitle = (news.title_ko && news.title_ko !== news.title) ? news.title : '';
                    var timeStr = news.published_at ? new Date(news.published_at).toLocaleString('ko-KR') : '';
                    var srcLabel = news.source || apiSource;
                    var titleAttr = origTitle ? ' title="' + origTitle.replace(/"/g, '&quot;') + '"' : '';
                    var html = '<div class="news-item">' +
                        '<a href="' + news.url + '" target="_blank" rel="noopener" class="news-link"' + titleAttr + '>' +
                        '<div class="news-title">ğŸ“¢ ' + displayTitle + '</div>' +
                        '<div class="news-meta">' + srcLabel + ' Â· ' + timeStr + '</div>' +
                        '</a></div>';
                    container.insertAdjacentHTML('beforeend', html);
                });
            }


            // ë¡œì»¬ ë°±ì—… ë‰´ìŠ¤ (API ì‹¤íŒ¨ ì‹œ)
            function loadLocalNews() {
                const container = document.getElementById('newsContainer');
                const localNews = [
                    { title: 'ğŸ“ˆ S&P 500, ì‚¬ìƒ ìµœê³ ì¹˜ ê²½ì‹ ', source: 'Bloomberg', time: '2ì‹œê°„ ì „', url: 'https://www.bloomberg.com/markets' },
                    { title: 'ğŸ”¥ AI ë°˜ë„ì²´ ìˆ˜ìš” ê¸‰ì¦, NVDA ì£¼ê°€ ê°•ì„¸', source: 'CNBC', time: '3ì‹œê°„ ì „', url: 'https://www.cnbc.com/technology/' },
                    { title: 'ğŸ’° ì—°ì¤€, ê¸ˆë¦¬ ë™ê²° ì‹œì‚¬', source: 'Reuters', time: '5ì‹œê°„ ì „', url: 'https://www.reuters.com/markets/' },
                    { title: 'âš¡ í…Œí¬ ì„¹í„° ê°•ì„¸ ì§€ì†', source: 'WSJ', time: 'ì–´ì œ', url: 'https://www.wsj.com/economy' },
                    { title: 'ğŸ¦ ë¹…í…Œí¬ ì‹¤ì  ì‹œì¦Œ ëŒ€ê¸°', source: 'MarketWatch', time: 'ì–´ì œ', url: 'https://www.marketwatch.com/investing' },
                    { title: 'ğŸŒ ê¸€ë¡œë²Œ ì‹œì¥ ì•ˆì •í™” íë¦„', source: 'Financial Times', time: 'ì–´ì œ', url: 'https://www.ft.com/' },
                    { title: 'ğŸš— í…ŒìŠ¬ë¼ ì‹¤ì  ì˜ˆìƒì¹˜ ìƒíšŒ', source: 'Reuters', time: 'ì–´ì œ', url: 'https://www.reuters.com' },
                    { title: 'ğŸ“± ì• í”Œ, ìƒˆë¡œìš´ ì œí’ˆ ë¼ì¸ì—… ê³µê°œ', source: 'Bloomberg', time: 'ì–´ì œ', url: 'https://www.bloomberg.com/' },
                    { title: 'ğŸ“‰ ì•„ì‹œì•„ ì¦ì‹œ í˜¼ì¡°ì„¸ ë§ˆê°', source: 'CNBC', time: 'ì–´ì œ', url: 'https://www.cnbc.com/' }
                ];

                const newsHTML = localNews.map(news => `
                <a href="${news.url}" target="_blank" rel="noopener" class="news-link">
                    <div class="news-item">
                        <div class="news-title">${news.title}</div>
                        <div class="news-meta">ì¶œì²˜: ${news.source} Â· ${news.time}</div>
                    </div>
                </a>
            `).join('');

                container.innerHTML = newsHTML;
                console.log('âš ï¸ ë¡œì»¬ ë‰´ìŠ¤ë¡œ ëŒ€ì²´');
            }

            // ë‰´ìŠ¤ ìƒˆë¡œê³ ì¹¨
            function refreshNews() {
                console.log('ğŸ”„ ë‰´ìŠ¤ ìƒˆë¡œê³ ì¹¨...');
                loadNews();
            }

            function loadReport(categoryKey) {
                const category = categories[categoryKey], select = document.getElementById(category.selectId), date = select.value;
                if (!date) { alert('ë‚ ì§œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.'); return; }
                let pdfFile; const data = reportFiles[categoryKey][date];
                if (typeof data === 'string') pdfFile = data; else pdfFile = data.file;
                displayPDF(pdfFile, date, category);
            }
            function displayPDF(pdfPath, date, category) {
                document.getElementById('pdfContent').innerHTML = '<div class="current-view"><h4>' + category.icon + ' ' + category.name + '</h4><div class="info-grid"><div class="info-item"><div class="label">ë‚ ì§œ</div><div class="value">' + formatDate(date) + '</div></div></div></div><div class="pdf-container"><iframe src="' + pdfPath + '" type="application/pdf"></iframe></div>';
            }
            // ì‹¤ì  ë°ì´í„° (Yahoo Finance ê¸°ë°˜)
            const earningsData = {
                "NVDA": {
                    "name": "NVIDIA Corporation",
                    "date": "2026-02-25",
                    "eps_avg": 1.53669,
                    "revenue_avg": 66124358429
                },
                "AMD": {
                    "name": "Advanced Micro Devices, Inc.",
                    "date": "2026-05-05",
                    "eps_avg": 1.2683,
                    "revenue_avg": 9852755290
                },
                "AVGO": {
                    "name": "Broadcom Inc.",
                    "date": "2026-03-04",
                    "eps_avg": 2.02026,
                    "revenue_avg": 19105028740
                },
                "QCOM": {
                    "name": "QUALCOMM Incorporated",
                    "date": "2026-04-29",
                    "eps_avg": 2.57534,
                    "revenue_avg": 10567846810
                },
                "INTC": {
                    "name": "Intel Corporation",
                    "date": "2026-04-23",
                    "eps_avg": 0.002,
                    "revenue_avg": 12313072310
                },
                "MU": {
                    "name": "Micron Technology, Inc.",
                    "date": "2026-03-18",
                    "eps_avg": 8.50416,
                    "revenue_avg": 18895169750
                },
                "TSM": {
                    "name": "Taiwan Semiconductor Manufacturing Company Limited",
                    "date": "2026-04-16",
                    "eps_avg": 3.28131,
                    "revenue_avg": 1115423921810
                },
                "ASML": {
                    "name": "ASML Holding N.V.",
                    "date": "2026-04-15",
                    "eps_avg": 6.64707,
                    "revenue_avg": 8605432520
                },
                "AAPL": {
                    "name": "Apple Inc.",
                    "date": "2026-04-30",
                    "eps_avg": 1.95403,
                    "revenue_avg": 109083851330
                },
                "MSFT": {
                    "name": "Microsoft Corporation",
                    "date": "2026-04-29",
                    "eps_avg": 4.06091,
                    "revenue_avg": 81380910850
                },
                "GOOGL": {
                    "name": "Alphabet Inc.",
                    "date": "2026-04-23",
                    "eps_avg": 2.61405,
                    "revenue_avg": 106659407030
                },
                "AMZN": {
                    "name": "Amazon.com, Inc.",
                    "date": "2026-04-30",
                    "eps_avg": 1.63706,
                    "revenue_avg": 176962316420
                },
                "META": {
                    "name": "Meta Platforms, Inc.",
                    "date": "2026-04-29",
                    "eps_avg": 6.73273,
                    "revenue_avg": 55441680360
                },
                "TSLA": {
                    "name": "Tesla, Inc.",
                    "date": "2026-04-21",
                    "eps_avg": 0.41048,
                    "revenue_avg": 23195230200
                },
                "NFLX": {
                    "name": "Netflix, Inc.",
                    "date": "2026-04-16",
                    "eps_avg": 0.76279,
                    "revenue_avg": 12170332990
                },
                "JPM": {
                    "name": "JPMorgan Chase & Co.",
                    "date": "2026-04-14",
                    "eps_avg": 5.32738,
                    "revenue_avg": 47960373930
                },
                "BAC": {
                    "name": "Bank of America Corporation",
                    "date": "2026-04-15",
                    "eps_avg": 0.99683,
                    "revenue_avg": 29810633100
                },
                "WFC": {
                    "name": "Wells Fargo & Company",
                    "date": "2026-04-14",
                    "eps_avg": 1.58092,
                    "revenue_avg": 21845400000
                },
                "GS": {
                    "name": "The Goldman Sachs Group, Inc.",
                    "date": "2026-04-13",
                    "eps_avg": 15.61964,
                    "revenue_avg": 16657353620
                },
                "MS": {
                    "name": "Morgan Stanley",
                    "date": "2026-04-15",
                    "eps_avg": 2.92227,
                    "revenue_avg": 19233819950
                },
                "C": {
                    "name": "Citigroup Inc.",
                    "date": "2026-04-14",
                    "eps_avg": 2.58724,
                    "revenue_avg": 22941302430
                },
                "NKE": {
                    "name": "NIKE, Inc.",
                    "date": "2026-03-19",
                    "eps_avg": 0.2859,
                    "revenue_avg": 11225616780
                },
                "SBUX": {
                    "name": "Starbucks Corporation",
                    "date": "2026-04-28",
                    "eps_avg": 0.40434,
                    "revenue_avg": 9075520370
                },
                "MCD": {
                    "name": "McDonald's Corporation",
                    "date": "2026-04-30",
                    "eps_avg": 2.76154,
                    "revenue_avg": 6496857200
                },
                "HD": {
                    "name": "The Home Depot, Inc.",
                    "date": "2026-02-24",
                    "eps_avg": 2.5232,
                    "revenue_avg": 38102927610
                },
                "LOW": {
                    "name": "Lowe's Companies, Inc.",
                    "date": "2026-02-25",
                    "eps_avg": 1.9426,
                    "revenue_avg": 20336473910
                },
                "TGT": {
                    "name": "Target Corporation",
                    "date": "2026-03-03",
                    "eps_avg": 2.15566,
                    "revenue_avg": 30494139680
                },
                "WMT": {
                    "name": "Walmart Inc.",
                    "date": "2026-05-14",
                    "eps_avg": 0.66132,
                    "revenue_avg": 172219029380
                },
                "COST": {
                    "name": "Costco Wholesale Corporation",
                    "date": "2026-03-05",
                    "eps_avg": 4.53101,
                    "revenue_avg": 69265262480
                },
                "JNJ": {
                    "name": "Johnson & Johnson",
                    "date": "2026-04-14",
                    "eps_avg": 2.68547,
                    "revenue_avg": 23600479740
                },
                "UNH": {
                    "name": "UnitedHealth Group Incorporated",
                    "date": "2026-04-16",
                    "eps_avg": 6.87616,
                    "revenue_avg": 109833320850
                },
                "PFE": {
                    "name": "Pfizer Inc.",
                    "date": "2026-04-28",
                    "eps_avg": 0.72643,
                    "revenue_avg": 13900287780
                },
                "ABBV": {
                    "name": "AbbVie Inc.",
                    "date": "2026-05-01",
                    "eps_avg": 3.00872,
                    "revenue_avg": 14715000780
                },
                "LLY": {
                    "name": "Eli Lilly and Company",
                    "date": "2026-04-30",
                    "eps_avg": 7.23315,
                    "revenue_avg": 17456361190
                },
                "TMO": {
                    "name": "Thermo Fisher Scientific Inc.",
                    "date": "2026-04-22",
                    "eps_avg": 5.29081,
                    "revenue_avg": 10874613920
                },
                "BA": {
                    "name": "The Boeing Company",
                    "date": "2026-04-22",
                    "eps_avg": -0.34644,
                    "revenue_avg": 22252591180
                },
                "CAT": {
                    "name": "Caterpillar Inc.",
                    "date": "2026-04-30",
                    "eps_avg": 4.52299,
                    "revenue_avg": 16195040460
                },
                "GE": {
                    "name": "GE Aerospace",
                    "date": "2026-04-21",
                    "eps_avg": 1.58739,
                    "revenue_avg": 10619465140
                },
                "HON": {
                    "name": "Honeywell International Inc.",
                    "date": "2026-04-28",
                    "eps_avg": 2.32493,
                    "revenue_avg": 9270212740
                },
                "UPS": {
                    "name": "United Parcel Service, Inc.",
                    "date": "2026-04-28",
                    "eps_avg": 1.14325,
                    "revenue_avg": 21085993190
                },
                "FDX": {
                    "name": "FedEx Corporation",
                    "date": "2026-03-19",
                    "eps_avg": 4.04897,
                    "revenue_avg": 23443613160
                },
                "XOM": {
                    "name": "Exxon Mobil Corporation",
                    "date": "2026-05-01",
                    "eps_avg": 1.51002,
                    "revenue_avg": 79217960170
                },
                "CVX": {
                    "name": "Chevron Corporation",
                    "date": "2026-05-01",
                    "eps_avg": 1.5006,
                    "revenue_avg": 46696217960
                },
                "COP": {
                    "name": "ConocoPhillips",
                    "date": "2026-05-07",
                    "eps_avg": 1.11209,
                    "revenue_avg": 13535126140
                },
                "SLB": {
                    "name": "SLB N.V.",
                    "date": "2026-05-01",
                    "eps_avg": 0.6061,
                    "revenue_avg": 8884411650
                },
                "AA": {
                    "name": "Alcoa Corporation",
                    "date": "2026-04-15",
                    "eps_avg": 1.18124,
                    "revenue_avg": 3296144100
                },
                "FCX": {
                    "name": "Freeport-McMoRan Inc.",
                    "date": "2026-04-23",
                    "eps_avg": 0.45274,
                    "revenue_avg": 5579707240
                },
                "DIS": {
                    "name": "The Walt Disney Company",
                    "date": "2026-05-06",
                    "eps_avg": 1.49737,
                    "revenue_avg": 24909719370
                },
                "V": {
                    "name": "Visa Inc.",
                    "date": "2026-04-28",
                    "eps_avg": 3.09224,
                    "revenue_avg": 10729545630
                },
                "MA": {
                    "name": "Mastercard Incorporated",
                    "date": "2026-04-30",
                    "eps_avg": 4.40606,
                    "revenue_avg": 8260552120
                },
                "PYPL": {
                    "name": "PayPal Holdings, Inc.",
                    "date": "2026-05-05",
                    "eps_avg": 1.27784,
                    "revenue_avg": 8069200290
                },
                "CRM": {
                    "name": "Salesforce, Inc.",
                    "date": "2026-02-25",
                    "eps_avg": 3.05025,
                    "revenue_avg": 11188164760
                },
                "ORCL": {
                    "name": "Oracle Corporation",
                    "date": "2026-03-09",
                    "eps_avg": 1.70661,
                    "revenue_avg": 16902193840
                },
                "IBM": {
                    "name": "International Business Machines Corporation",
                    "date": "2026-04-22",
                    "eps_avg": 1.80925,
                    "revenue_avg": 15628294330
                },
                "PLTR": {
                    "name": "Palantir Technologies Inc.",
                    "date": "2026-05-04",
                    "eps_avg": 0.27927,
                    "revenue_avg": 1538548150
                },
                "CRWD": {
                    "name": "CrowdStrike Holdings, Inc.",
                    "date": "2026-03-03",
                    "eps_avg": 1.10262,
                    "revenue_avg": 1297442450
                },
                "SNOW": {
                    "name": "Snowflake Inc.",
                    "date": "2026-02-25",
                    "eps_avg": 0.27176,
                    "revenue_avg": 1254964190
                },
                "HOOD": {
                    "name": "Robinhood Markets, Inc.",
                    "date": "2026-04-29",
                    "eps_avg": 0.545,
                    "revenue_avg": 1265007100
                },
                "COIN": {
                    "name": "Coinbase Global, Inc.",
                    "date": "2026-05-07",
                    "eps_avg": 0.38164,
                    "revenue_avg": 1587193310
                },
                "SHOP": {
                    "name": "Shopify Inc.",
                    "date": "2026-05-07",
                    "eps_avg": 0.33011,
                    "revenue_avg": 3086287180
                },
                "VRNS": {
                    "name": "Varonis Systems, Inc.",
                    "date": "2026-05-05",
                    "eps_avg": -0.05503,
                    "revenue_avg": 165511190
                },
                "KKR": {
                    "name": "KKR & Co. Inc.",
                    "date": "2026-04-30",
                    "eps_avg": 1.43316,
                    "revenue_avg": 2275882440
                },
                "QDEL": {
                    "name": "QuidelOrtho Corporation",
                    "date": "2026-05-06",
                    "eps_avg": 0.47054,
                    "revenue_avg": 682809560
                },
                "RAL": {
                    "name": "Ralliant Corporation",
                    "date": "2026-04-27",
                    "eps_avg": 0.48804,
                    "revenue_avg": 515108280
                },
                "MRVL": {
                    "name": "Marvell Technology, Inc.",
                    "date": "2026-03-05",
                    "eps_avg": 0.79217,
                    "revenue_avg": 2206965170
                }
            };

            async function searchEarningsAPI() {
                const input = document.getElementById('earningsSearchInput');
                const resultDiv = document.getElementById('earningsResult');

                if (!input || !resultDiv) return;

                let ticker = input.value.trim().toUpperCase();

                if (!ticker) {
                    resultDiv.innerHTML =
                        '<div class="search-result empty">ğŸ” í‹°ì»¤ ì…ë ¥ (ì˜ˆ: NVDA, AAPL, AMD)</div>';
                    return;
                }

                resultDiv.innerHTML = '<div class="search-result">ğŸ”„ ê²€ìƒ‰ ì¤‘... (' + ticker + ')</div>';

                // 1. earningsDataì—ì„œ ë¨¼ì € ê²€ìƒ‰
                if (earningsData[ticker]) {
                    const data = earningsData[ticker];
                    const dateStr = data.date || 'ë¯¸ì •';
                    const companyName = data.name || ticker;

                    // ë‚ ì§œ í¬ë§·íŒ…
                    const date = new Date(dateStr);
                    const month = date.getMonth() + 1;
                    const day = date.getDate();
                    const weekday = ['ì¼', 'ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† '][date.getDay()];
                    const formattedDate = month + 'ì›” ' + day + 'ì¼ (' + weekday + ')';

                    // EPSì™€ ë§¤ì¶œ í¬ë§·íŒ…
                    const eps = data.eps_avg ? '$' + data.eps_avg.toFixed(2) : 'ì •ë³´ ì—†ìŒ';
                    const revenue = data.revenue_avg ?
                        '$' + (data.revenue_avg / 1000000000).toFixed(2) + 'B' : 'ì •ë³´ ì—†ìŒ';

                    resultDiv.innerHTML = `
            <div class="search-result">
                <div class="result-company">${companyName} (${ticker})</div>
                <div class="result-date">ğŸ“… ì‹¤ì  ë°œí‘œ: ${formattedDate}</div>
                <div class="result-info">
                    <div style="display:grid;grid-template-columns:1fr 1fr;gap:15px;margin-top:15px">
                        <div style="text-align:center">
                            <div style="color:#667eea;font-weight:600;margin-bottom:5px">ì˜ˆìƒ EPS</div>
                            <div style="font-size:1.2em;font-weight:700">${eps}</div>
                        </div>
                        <div style="text-align:center">
                            <div style="color:#667eea;font-weight:600;margin-bottom:5px">ì˜ˆìƒ ë§¤ì¶œ</div>
                            <div style="font-size:1.2em;font-weight:700">${revenue}</div>
                        </div>
                    </div>
                    <div style="margin-top:20px;padding-top:15px;border-top:1px solid #e2e8f0">
                        <a href="https://finance.yahoo.com/quote/${ticker}/analysis" 
                           target="_blank" 
                           style="color:#667eea;text-decoration:none;font-weight:600">
                           ğŸ“Š ìì„¸í•œ ë¶„ì„ ë³´ê¸° â†’
                        </a>
                    </div>
                </div>
            </div>
        `;
                    console.log('âœ… earningsDataì—ì„œ ê²€ìƒ‰ ì™„ë£Œ:', ticker);
                    return;
                }

                // 2. earningsDataì— ì—†ìœ¼ë©´ Yahoo Finance ë§í¬ ì œê³µ
                resultDiv.innerHTML = `
        <div class="search-result">
            <div class="result-company">${ticker}</div>
            <div class="result-info" style="text-align:center;padding:20px">
                <div style="margin-bottom:15px">
                    âš ï¸ ë“±ë¡ëœ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤
                </div>
                <a href="https://finance.yahoo.com/quote/${ticker}/analysis"
                   target="_blank"
                   style="display:inline-block;padding:10px 20px;background:#667eea;color:white;text-decoration:none;border-radius:5px;font-weight:600">
                   ğŸ“Š Yahoo Financeì—ì„œ í™•ì¸í•˜ê¸°
                </a>
            </div>
        </div>
    `;
            }


            function toggleAccordion(header) {
                header.classList.toggle('collapsed');
                const content = header.nextElementSibling;
                content.classList.toggle('collapsed');
            }
            var calendarEvents = {
                '3-4': [{ i: 'ğŸ’', t: 'Broadcomâ­' }],
                '3-6': [{ i: 'ğŸ’¼', t: 'NFPâ­' }],
                '3-11': [{ i: 'ğŸ“Š', t: 'CPIâ­' }],
                '3-12': [{ i: 'ğŸ­', t: 'PPIâ­' }],
                '3-13': [{ i: 'ğŸ’¹', t: 'GDPì¢…í•©â­' }],
                '3-18': [{ i: 'ğŸ¦', t: 'FOMC ê¸ˆë¦¬â­' }, { i: 'ğŸ­', t: 'PPI' }],
                '3-27': [{ i: 'ğŸ›ï¸', t: 'PCE ë¬¼ê°€â­' }],
                '3-28': [{ i: 'ğŸ’¼', t: 'JOLTS' }],
                '4-3': [{ i: 'ğŸ’¼', t: 'NFPâ­' }],
                '4-10': [{ i: 'ğŸ“Š', t: 'CPIâ­' }],
                '4-14': [{ i: 'ğŸ­', t: 'PPIâ­' }],
                '4-16': [{ i: 'ğŸ’', t: 'TSM' }],
                '4-21': [{ i: 'ğŸ’', t: 'TSLA' }],
                '4-23': [{ i: 'ğŸ’', t: 'GOOGL' }],
                '4-29': [{ i: 'ğŸ¦', t: 'FOMC ê¸ˆë¦¬â­' }],
                '4-30': [{ i: 'ğŸ’¹', t: 'GDPì†ë³´â­' }, { i: 'ğŸ’', t: 'AAPL/AMZN' }]
            };
            function drawCalendar(month, elementId) {
                var container = document.getElementById(elementId);
                if (!container) return;
                var firstDay = new Date(2026, month - 1, 1).getDay();
                var daysInMonth = new Date(2026, month, 0).getDate();
                var html = '';
                for (var i = 0; i < firstDay; i++) html += '<div class="date empty"></div>';
                for (var day = 1; day <= daysInMonth; day++) {
                    var key = month + '-' + day;
                    var events = calendarEvents[key];
                    var className = 'date' + (events ? ' has-event' : '');
                    html += '<div class="' + className + '"><div>' + day + '</div>';
                    if (events && events.length > 0) {
                        var icons = events[0].i;
                        if (events.length > 1) icons += '+' + (events.length - 1);
                        var tooltipText = events.map(function (e) { return e.t; }).join(', ');
                        html += '<div class="event-icon">' + icons + '</div>';
                        html += '<div class="tooltip">' + tooltipText + '</div>';
                    }
                    html += '</div>';
                }
                container.innerHTML = html;
            }
            // --- ì´ˆê¸°í™” ë° ì‹¤í–‰ ---
            document.addEventListener("DOMContentLoaded", () => {
                showMainContent();
            });

            // ë©”ì¸ í™”ë©´ í‘œì‹œ ë° ë°ì´í„° ë¡œë”© í•¨ìˆ˜
            function showMainContent() {
                console.log("ğŸ”¥ ì• í”Œë¦¬ì¼€ì´ì…˜ ì´ˆê¸°í™” ë° ë°ì´í„° ë¡œë”© ì‹œì‘");

                // ë©”ì¸ ì»¨í…ì¸  í‘œì‹œ
                const mainContent = document.getElementById('mainContent');
                if (mainContent) {
                    mainContent.style.display = 'block';
                }

                // 1. ë¦¬í¬íŠ¸ ì„ íƒê¸° ë° ë‰´ìŠ¤ ë¡œë“œ
                if (typeof loadDateList === 'function') loadDateList();
                if (typeof loadNews === 'function') loadNews();

                // 2. ìº˜ë¦°ë” ê·¸ë¦¬ê¸°
                if (typeof drawCalendar === 'function') {
                    drawCalendar(3, 'cal-mar');
                    drawCalendar(4, 'cal-apr');
                }

                // 3. ì‹œì¥ ì‹¬ë¦¬ ìœ„ì ¯ ì´ˆê¸°í™” (ë‚˜ìŠ¤ë‹¥ ê¸°ë³¸)
                if (typeof changeSentiment === 'function') {
                    changeSentiment('NASDAQ:QQQ');
                }

                // 4. íˆíŠ¸ë§µ ì´ˆê¸°í™”
                if (typeof updateTradingViewMap === 'function') {
                    updateTradingViewMap();
                }

                // 5. MK ë‰´ìŠ¤ ê¸°ë³¸ ì¹´í…Œê³ ë¦¬(ì¦ê¶Œ) í‘œì‹œ
                if (typeof mkShow === 'function') mkShow('ì¦ê¶Œ');

                // 6. í”„ë¦¬ì§„ê²½ì œ ì„¹ì…˜ ì‹¤ì‹œê°„ fetch (í˜ì´ì§€ ë¡œë“œ ì‹œ ìµœì‹  ê¸°ì‚¬)
                if (typeof freezineFetchLive === 'function') {
                    freezineFetchLive('S1N1', 'fz-stock-box', 'rgba(56,189,248,0.5)');
                    freezineFetchLive('S1N6', 'fz-intl-box',  'rgba(74,222,128,0.5)');
                }

                console.log("âœ… ëª¨ë“  ë°ì´í„° ë¡œë”© ì™„ë£Œ");
            }

            // êµ¬ê¸€ ë²ˆì—­ ì´ˆê¸°í™” í•¨ìˆ˜
            function googleTranslateElementInit() {
                new google.translate.TranslateElement({
                    pageLanguage: 'en',
                    includedLanguages: 'ko,en',
                    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
                }, 'google_translate_element');
            }


            // ì´ë©”ì¼ ë³µì‚¬ í•¨ìˆ˜
            function copyToClipboard(text) {
                navigator.clipboard.writeText(text).then(() => {
                    alert('ì´ë©”ì¼ ì£¼ì†Œê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤: ' + text);
                }).catch(err => {
                    console.error('ë³µì‚¬ ì‹¤íŒ¨:', err);
                });
            }

            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            // ì‹¤ì‹œê°„ ê¸ˆìœµ ë‰´ìŠ¤ ê²€ìƒ‰ v2 - êµ­ë‚´/í•´ì™¸ ë™ì‹œ ê²€ìƒ‰ + í•œê¸€ ìë™ ë²ˆì—­
            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

            // â”€â”€â”€ API í‚¤ ì„¤ì • (ì„ íƒì‚¬í•­ - ë¯¸ì„¤ì • ì‹œ ë¬´ë£Œ fallbackìœ¼ë¡œ ë™ì‘) â”€â”€â”€
            // â‘  Naver Open API (êµ­ë‚´ ë‰´ìŠ¤ 1ìˆœìœ„)
            //    ê°€ì…: https://developers.naver.com â†’ ì• í”Œë¦¬ì¼€ì´ì…˜ ë“±ë¡ â†’ ê²€ìƒ‰ API
            var NS_NAVER_ID     = '';  // â† Client ID  ì—¬ê¸° ì…ë ¥
            var NS_NAVER_SECRET = '';  // â† Client Secret ì—¬ê¸° ì…ë ¥

            // â‘¡ GNews (í•´ì™¸ ë‰´ìŠ¤ 1ìˆœìœ„, CORS ê³µì‹ ì§€ì›)
            //    ê°€ì…: https://gnews.io â†’ ë¬´ë£Œ 100ê±´/ì¼
            var NS_GNEWS_KEY    = 'd878b3dd7dc594c4fba6bc6ab3d3d51f';  // GNews API í‚¤
            // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

            var _nsDebounce = null;

            // â”€â”€ ì§„ì…ì : ë²„íŠ¼/Enter â†’ ì¦‰ì‹œ, íƒ€ì´í•‘ â†’ 0.5s ë””ë°”ìš´ìŠ¤ â”€â”€â”€â”€â”€â”€
            function nsSearch() {
                clearTimeout(_nsDebounce);
                _nsDebounce = setTimeout(_nsDoSearch, 0);
            }
            document.addEventListener('DOMContentLoaded', function() {
                var inp = document.getElementById('nsInput');
                if (inp) inp.addEventListener('input', function() {
                    clearTimeout(_nsDebounce);
                    _nsDebounce = setTimeout(_nsDoSearch, 500);
                });
            });

            // â”€â”€ ë©”ì¸ ê²€ìƒ‰ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„° â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            async function _nsDoSearch() {
                var q = ((document.getElementById('nsInput') || {}).value || '').trim();
                var container = document.getElementById('nsContainer');
                var korBox    = document.getElementById('nsKorBox');
                var engBox    = document.getElementById('nsEngBox');
                if (!korBox || !engBox) return;
                if (!q) { if (container) container.style.display = 'none'; return; }

                if (container) container.style.display = 'block';

                // ìŠ¤ì¼ˆë ˆí†¤ í‘œì‹œ
                var skel = '<div class="ns-skeleton"></div>'.repeat(3);
                korBox.innerHTML = skel;
                engBox.innerHTML = skel;

                // í•œê¸€ ì—¬ë¶€ ê°ì§€ â†’ ì˜ì–´ ë²ˆì—­
                var isKorean = /[ê°€-í£]/.test(q);
                var qEng = q;
                if (isKorean) {
                    qEng = await _nsTranslate(q);
                    var badge = document.getElementById('nsTransBadge');
                    if (badge) { badge.textContent = '"' + qEng + '"'; badge.style.display = 'inline'; }
                } else {
                    var badge2 = document.getElementById('nsTransBadge');
                    if (badge2) badge2.style.display = 'none';
                }

                // êµ­ë‚´ + í•´ì™¸ ë³‘ë ¬ ì‹¤í–‰
                await Promise.all([
                    _nsSearchKorean(q, korBox),
                    _nsSearchEnglish(qEng, engBox)
                ]);
            }

            // â”€â”€ í•œêµ­ì–´ ë²ˆì—­ (MyMemory, ë¬´ë£Œ, í‚¤ ë¶ˆí•„ìš”) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            async function _nsTranslate(text) {
                try {
                    var url = 'https://api.mymemory.translated.net/get?q=' +
                        encodeURIComponent(text) + '&langpair=ko|en';
                    var res  = await fetch(url);
                    var json = await res.json();
                    if (json.responseStatus === 200) {
                        var t = json.responseData.translatedText || '';
                        if (t && !t.includes('MYMEMORY WARNING')) return t;
                    }
                } catch(e) {}
                return text;
            }

            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            // êµ­ë‚´ ë‰´ìŠ¤ ê²€ìƒ‰ ì²´ì¸ (1â†’2â†’3 ìˆœì„œë¡œ ì‹œë„)
            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            async function _nsSearchKorean(q, box) {
                var srcEl = document.getElementById('nsKorSrc');

                // 1ìˆœìœ„: Naver Open API (í‚¤ ìˆì„ ë•Œ)
                // docs: https://developers.naver.com/docs/serviceapi/search/news/news.md
                if (NS_NAVER_ID && NS_NAVER_SECRET) {
                    try {
                        var url = 'https://openapi.naver.com/v1/search/news.json?' + [
                            'query='   + encodeURIComponent(q),
                            'display=3',
                            'sort=date'
                        ].join('&');
                        var res  = await fetch(url, { headers: {
                            'X-Naver-Client-Id':     NS_NAVER_ID,
                            'X-Naver-Client-Secret': NS_NAVER_SECRET
                        }});
                        var json = await res.json();
                        if (json.items && json.items.length) {
                            _nsRender(json.items.slice(0,3).map(function(a) {
                                return {
                                    title: a.title.replace(/<[^>]+>/g,''),
                                    url:   a.link || a.originallink,
                                    source: a.source || 'ë„¤ì´ë²„',
                                    publishedAt: a.pubDate
                                };
                            }), box, 'kor');
                            if (srcEl) srcEl.textContent = 'ğŸ“¡ ì¶œì²˜: Naver Open API';
                            return;
                        }
                    } catch(e) { console.log('Naver API ì‹¤íŒ¨', e); }
                }

                // 2ìˆœìœ„: allorigins.win + Naver ë‰´ìŠ¤ ê²€ìƒ‰ HTML íŒŒì‹± (í‚¤ ë¶ˆí•„ìš”)
                try {
                    var naverUrl = 'https://search.naver.com/search.naver?where=news&query=' +
                        encodeURIComponent(q) + '&sm=tab_jum&sort=1';
                    var proxyUrl = 'https://api.allorigins.win/get?url=' + encodeURIComponent(naverUrl);
                    var res2 = await fetch(proxyUrl, { cache: 'no-store' });
                    var json2 = await res2.json();
                    if (json2.contents) {
                        var parser = new DOMParser();
                        var doc = parser.parseFromString(json2.contents, 'text/html');
                        var titleLinks = doc.querySelectorAll('a.news_tit, a[class*="news_tit"]');
                        var arts = []; var seen = new Set();
                        titleLinks.forEach(function(a) {
                            if (arts.length >= 3) return;
                            var t = a.textContent.trim();
                            var h = a.getAttribute('href') || '';
                            if (!t || t.length < 6 || seen.has(h)) return;
                            seen.add(h);
                            var par = a.closest('li') || a.closest('div.news_area');
                            var src = '', date = '';
                            if (par) {
                                var press = par.querySelector('a.press, .info.press');
                                if (press) src = press.textContent.trim();
                                var info = par.querySelector('.info_group .info:last-child');
                                if (info) date = info.textContent.trim();
                            }
                            arts.push({ title: t, url: h, source: src || 'ë„¤ì´ë²„ë‰´ìŠ¤', publishedAt: date });
                        });
                        if (arts.length > 0) {
                            _nsRender(arts, box, 'kor');
                            if (srcEl) srcEl.textContent = 'ğŸ“¡ ì¶œì²˜: Naver ê²€ìƒ‰ (allorigins í”„ë¡ì‹œ)';
                            return;
                        }
                    }
                } catch(e) { console.log('Naver HTML ì‹¤íŒ¨', e); }

                // 3ìˆœìœ„: rss2json + êµ­ë‚´ ì£¼ìš” RSS í”¼ë“œ í´ë¼ì´ì–¸íŠ¸ í•„í„°
                // í”¼ë“œ: ë§¤ì¼ê²½ì œ ì¦ê¶Œ â†’ í•œêµ­ê²½ì œ ê¸ˆìœµ â†’ ì—°í•©ë‰´ìŠ¤ ê²½ì œ
                var korFeeds = [
                    { url: 'https://www.mk.co.kr/rss/40300001/', name: 'ë§¤ì¼ê²½ì œ' },
                    { url: 'https://www.hankyung.com/feed/finance',  name: 'í•œêµ­ê²½ì œ' },
                    { url: 'https://www.yna.co.kr/rss/economy.xml',  name: 'ì—°í•©ë‰´ìŠ¤' }
                ];
                var qLow = q.toLowerCase();
                for (var fi = 0; fi < korFeeds.length; fi++) {
                    try {
                        var feed = korFeeds[fi];
                        var apiUrl = 'https://api.rss2json.com/v1/api.json?rss_url=' +
                            encodeURIComponent(feed.url) + '&count=30';
                        var res3 = await fetch(apiUrl);
                        var json3 = await res3.json();
                        if (json3.status !== 'ok' || !json3.items) continue;
                        var filtered = json3.items.filter(function(it) {
                            return it.title && it.title.toLowerCase().includes(qLow);
                        }).slice(0, 3);
                        if (filtered.length > 0) {
                            _nsRender(filtered.map(function(it) {
                                return { title: it.title, url: it.link,
                                         source: feed.name, publishedAt: it.pubDate };
                            }), box, 'kor');
                            if (srcEl) srcEl.textContent = 'ğŸ“¡ ì¶œì²˜: ' + feed.name + ' RSS (í‚¤ì›Œë“œ í•„í„°)';
                            return;
                        }
                    } catch(e) {}
                }

                box.innerHTML = '<p class="ns-empty">ğŸ˜” êµ­ë‚´ ë‰´ìŠ¤ ì—†ìŒ<br>ë‹¤ë¥¸ í‚¤ì›Œë“œë¡œ ì‹œë„í•´ ë³´ì„¸ìš”</p>';
                if (srcEl) srcEl.textContent = '';
            }

            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            // í•´ì™¸ ë‰´ìŠ¤ ê²€ìƒ‰ ì²´ì¸ (1â†’2â†’3 ìˆœì„œë¡œ ì‹œë„)
            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            async function _nsSearchEnglish(q, box) {
                var srcEl = document.getElementById('nsEngSrc');

                // 1ìˆœìœ„: GNews (í‚¤ ìˆì„ ë•Œ)
                // docs: https://gnews.io/docs/v4  Â· ë¬´ë£Œ: 100ê±´/ì¼, CORS ì§€ì›
                if (NS_GNEWS_KEY) {
                    try {
                        var url = 'https://gnews.io/api/v4/search?' + [
                            'q='       + encodeURIComponent(q + ' finance OR stock OR market'),
                            'lang=en', 'topic=business', 'max=3',
                            'sortby=publishedAt',
                            'apikey='  + NS_GNEWS_KEY
                        ].join('&');
                        var res = await fetch(url);
                        var json = await res.json();
                        if (json.articles && json.articles.length) {
                            _nsRender(json.articles.slice(0,3).map(function(a) {
                                return { title: a.title, url: a.url,
                                         source: a.source ? a.source.name : 'GNews',
                                         publishedAt: a.publishedAt };
                            }), box, 'eng');
                            if (srcEl) srcEl.textContent = 'ğŸ“¡ ì¶œì²˜: GNews API';
                            return;
                        }
                    } catch(e) { console.log('GNews ì‹¤íŒ¨', e); }
                }

                // 2ìˆœìœ„: The Guardian (ë¬´ë£Œ test í‚¤, CORS ì§€ì›)
                // docs: https://open-platform.theguardian.com/documentation/
                try {
                    var url2 = 'https://content.guardianapis.com/search?' + [
                        'q='         + encodeURIComponent(q),
                        'section=business', 'order-by=newest',
                        'page-size=3', 'api-key=test'
                    ].join('&');
                    var res2  = await fetch(url2);
                    var json2 = await res2.json();
                    var items2 = json2.response && json2.response.results;
                    if (items2 && items2.length) {
                        _nsRender(items2.slice(0,3).map(function(a) {
                            return { title: a.webTitle, url: a.webUrl,
                                     source: 'The Guardian', publishedAt: a.webPublicationDate };
                        }), box, 'eng');
                        if (srcEl) srcEl.textContent = 'ğŸ“¡ ì¶œì²˜: The Guardian (test key)';
                        return;
                    }
                } catch(e) { console.log('Guardian ì‹¤íŒ¨', e); }

                // 3ìˆœìœ„: rss2json + Reuters/BBC Business RSS í´ë¼ì´ì–¸íŠ¸ í•„í„°
                var engFeeds = [
                    { url: 'https://feeds.reuters.com/reuters/businessNews', name: 'Reuters' },
                    { url: 'https://feeds.bbci.co.uk/news/business/rss.xml', name: 'BBC Business' },
                    { url: 'https://www.cnbc.com/id/10001147/device/rss/rss.html', name: 'CNBC' }
                ];
                var qLow2 = q.toLowerCase();
                for (var fi2 = 0; fi2 < engFeeds.length; fi2++) {
                    try {
                        var feed2 = engFeeds[fi2];
                        var apiUrl2 = 'https://api.rss2json.com/v1/api.json?rss_url=' +
                            encodeURIComponent(feed2.url) + '&count=30';
                        var res3 = await fetch(apiUrl2);
                        var json3 = await res3.json();
                        if (json3.status !== 'ok' || !json3.items) continue;
                        var filtered2 = json3.items.filter(function(it) {
                            return it.title && it.title.toLowerCase().includes(qLow2);
                        }).slice(0, 3);
                        if (filtered2.length > 0) {
                            _nsRender(filtered2.map(function(it) {
                                return { title: it.title, url: it.link,
                                         source: feed2.name, publishedAt: it.pubDate };
                            }), box, 'eng');
                            if (srcEl) srcEl.textContent = 'ğŸ“¡ ì¶œì²˜: ' + feed2.name + ' RSS (í‚¤ì›Œë“œ í•„í„°)';
                            return;
                        }
                        // ê²°ê³¼ ì—†ìœ¼ë©´ ìµœì‹  3ê±´ì´ë¼ë„ í‘œì‹œ (ì²« ë²ˆì§¸ í”¼ë“œë§Œ)
                        if (fi2 === 0 && json3.items.length > 0) {
                            _nsRender(json3.items.slice(0,3).map(function(it) {
                                return { title: it.title, url: it.link,
                                         source: feed2.name, publishedAt: it.pubDate };
                            }), box, 'eng');
                            if (srcEl) srcEl.textContent = 'ğŸ“¡ ì¶œì²˜: ' + feed2.name + ' RSS (ìµœì‹ ìˆœ, í‚¤ì›Œë“œ ë§¤ì¹­ ì—†ìŒ)';
                            return;
                        }
                    } catch(e) {}
                }

                box.innerHTML = '<p class="ns-empty">ğŸ˜” í•´ì™¸ ë‰´ìŠ¤ ì—†ìŒ<br>ë‹¤ë¥¸ í‚¤ì›Œë“œë¡œ ì‹œë„í•´ ë³´ì„¸ìš”</p>';
                if (srcEl) srcEl.textContent = '';
            }

            // â”€â”€ ê³µí†µ ì¹´ë“œ ë Œë”ë§ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            function _nsRender(articles, box, side) {
                if (!articles || !articles.length) {
                    box.innerHTML = '<p class="ns-empty">ê²°ê³¼ ì—†ìŒ</p>'; return;
                }
                var cls = side === 'kor' ? 'ns-card kor' : 'ns-card eng';
                var srcCls = side === 'kor' ? 'ns-source-kor' : 'ns-source-eng';
                box.innerHTML = articles.map(function(a) {
                    var t = a.publishedAt ? new Date(a.publishedAt).toLocaleString('ko-KR') : '';
                    return '<a class="' + cls + '" href="' + _nsEsc(a.url) + '" target="_blank" rel="noopener">' +
                        '<span class="ns-title">' + _nsEsc(a.title) + '</span>' +
                        '<span class="ns-meta">' +
                          '<span class="' + srcCls + '">' + _nsEsc(a.source || '') + '</span>' +
                          (t ? '<span>ğŸ• ' + t + '</span>' : '') +
                        '</span></a>';
                }).join('');
            }

            function _nsEsc(s) {
                return String(s || '')
                    .replace(/&/g,'&amp;').replace(/</g,'&lt;')
                    .replace(/>/g,'&gt;').replace(/"/g,'&quot;');
            }

            // â”€â”€ MK RSS ì¹´í…Œê³ ë¦¬ë³„ URL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            var MK_RSS_URLS = {
                'ì¦ê¶Œ':   'https://www.mk.co.kr/rss/40300001/',
                'ê²½ì œ':   'https://www.mk.co.kr/rss/30100041/',
                'ë¶€ë™ì‚°': 'https://www.mk.co.kr/rss/50300009/',
                'êµ­ì œ':   'https://www.mk.co.kr/rss/30200030/',
                'ì‚°ì—…Â·IT':'https://www.mk.co.kr/rss/50200011/'
            };

            // ì‹¤ì‹œê°„ MK RSS í”¼ë“œ fetch (rss2json.com CORS í”„ë¡ì‹œ)
            async function mkFetchLive(cat) {
                var box = document.getElementById('mk-articles-box');
                if (box) box.innerHTML = '<p style="color:#94a3b8;font-size:0.82em;padding:6px 0;">âŸ³ ìµœì‹  ê¸°ì‚¬ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>';

                var rssUrl = MK_RSS_URLS[cat];
                if (!rssUrl) { mkShow(cat); return; }

                try {
                    var apiUrl = 'https://api.rss2json.com/v1/api.json?rss_url=' + encodeURIComponent(rssUrl) + '&count=5';
                    var res = await fetch(apiUrl);
                    var json = await res.json();
                    if (json.status === 'ok' && json.items && json.items.length > 0) {
                        if (typeof _MKD === 'undefined') window._MKD = {};
                        _MKD[cat] = json.items.slice(0, 5).map(function(item) {
                            var d = item.pubDate ? item.pubDate.slice(0, 10) : '';
                            return { t: item.title, l: item.link, d: d };
                        });
                        mkShow(cat);
                        return;
                    }
                } catch(e) { console.log('MK ë¼ì´ë¸Œ í”¼ë“œ ì‹¤íŒ¨', e); }

                // ì‹¤íŒ¨ ì‹œ ìºì‹œ ë°ì´í„° í‘œì‹œ
                mkShow(cat);
            }

            // í”„ë¦¬ì§„ê²½ì œ ì„¹ì…˜ ì‹¤ì‹œê°„ fetch (allorigins.win CORS í”„ë¡ì‹œ)
            async function freezineFetchLive(sectionCode, boxId, borderColor) {
                var box = document.getElementById(boxId);
                if (!box) return;
                box.innerHTML = '<p style="color:#94a3b8;font-size:0.82em;padding:4px 0;">âŸ³ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>';

                var fzUrl = 'https://www.freezine.co.kr/news/articleList.html?sc_section_code=' + sectionCode + '&view_type=sm';
                var proxyUrl = 'https://api.allorigins.win/get?url=' + encodeURIComponent(fzUrl);

                try {
                    var res = await fetch(proxyUrl, { cache: 'no-store' });
                    var json = await res.json();
                    if (json.contents) {
                        var parser = new DOMParser();
                        var doc = parser.parseFromString(json.contents, 'text/html');
                        var container = doc.getElementById('section-list');
                        if (container) {
                            var allLinks = container.querySelectorAll('a[href*="articleView.html?idxno="]');
                            var arts = [], seen = new Set();
                            allLinks.forEach(function(a) {
                                var t = a.textContent.trim();
                                var h = a.getAttribute('href') || '';
                                if (!t || t.length < 8) return;
                                if (!h.startsWith('http')) h = 'https://www.freezine.co.kr' + h;
                                if (seen.has(h)) return;
                                seen.add(h);
                                if (arts.length < 3) arts.push({ t: t, l: h });
                            });
                            if (arts.length > 0) {
                                box.innerHTML = arts.map(function(a) {
                                    return '<div style="margin-bottom:9px;padding:9px 10px;background:rgba(0,0,0,0.2);' +
                                        'border-left:3px solid ' + borderColor + ';border-radius:0 6px 6px 0;">' +
                                        '<a href="' + a.l + '" target="_blank" rel="noopener" ' +
                                        'style="color:#f8fafc;text-decoration:none;font-size:0.87em;font-weight:600;line-height:1.4;display:block;">' +
                                        a.t + '</a></div>';
                                }).join('');
                                return;
                            }
                        }
                    }
                } catch(e) { console.log('Freezine ì‹¤ì‹œê°„ ì‹¤íŒ¨', sectionCode, e); }

                box.innerHTML = '<p style="color:#f87171;font-size:0.82em;">ìµœì‹  ê¸°ì‚¬ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>';
            }

            // ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼ í•¸ë“¤ëŸ¬ (MK + í”„ë¦¬ì§„ê²½ì œ ì „ì²´ ê°±ì‹ )
            function refreshRightCard() {
                var sel = document.getElementById('mk-cat-sel');
                var cat = sel ? sel.value : 'ì¦ê¶Œ';
                mkFetchLive(cat);
                freezineFetchLive('S1N1', 'fz-stock-box', 'rgba(56,189,248,0.5)');
                freezineFetchLive('S1N6', 'fz-intl-box',  'rgba(74,222,128,0.5)');
            }

            // â”€â”€ MK RSS ë“œë¡­ë‹¤ìš´ ë Œë”ë§ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            function mkShow(cat) {
                var arts = (typeof _MKD !== 'undefined' && _MKD[cat]) ? _MKD[cat] : [];
                var h = '';
                arts.forEach(function(a) {
                    h += '<div style="margin-bottom:9px;padding:9px 10px;' +
                         'background:rgba(0,0,0,0.2);border-left:3px solid rgba(251,191,36,0.5);' +
                         'border-radius:0 6px 6px 0;">';
                    h += '<a href="' + a.l + '" target="_blank" rel="noopener" ' +
                         'style="color:#f8fafc;text-decoration:none;font-size:0.87em;' +
                         'font-weight:600;line-height:1.4;display:block;">' + a.t + '</a>';
                    h += '<span style="color:#64748b;font-size:0.72em;display:block;margin-top:3px;">' +
                         (a.d || '') + ' &middot; ì¶œì²˜: <a href="https://www.mk.co.kr" ' +
                         'target="_blank" rel="noopener" ' +
                         'style="color:#94a3b8;text-decoration:underline;">ë§¤ì¼ê²½ì œ</a></span>';
                    h += '</div>';
                });
                var box = document.getElementById('mk-articles-box');
                if (box) {
                    box.innerHTML = h || '<p style="color:#f87171;font-size:0.85em;">ê¸°ì‚¬ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>';
                }
            }
        </script>

        <script type="text/javascript"
            src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

    <!-- PWA Service Worker ë“±ë¡ -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js')
                    .then(reg => console.log('SW ë“±ë¡ ì„±ê³µ:', reg.scope))
                    .catch(err => console.log('SW ë“±ë¡ ì‹¤íŒ¨:', err));
            });
        }
    </script>

</body>

</html>